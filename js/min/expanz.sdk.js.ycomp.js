/*
 * jQuery JavaScript Library v1.7.1
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Mon Nov 21 21:11:03 2011 -0500
 */
(function(window,undefined){var document=window.document,navigator=window.navigator,location=window.location;var jQuery=(function(){var jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},_jQuery=window.jQuery,_$=window.$,rootjQuery,quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rnotwhite=/\S/,trimLeft=/^\s+/,trimRight=/\s+$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rwebkit=/(webkit)[ \/]([\w.]+)/,ropera=/(opera)(?:.*version)?[ \/]([\w.]+)/,rmsie=/(msie) ([\w.]+)/,rmozilla=/(mozilla)(?:.*? rv:([\w.]+))?/,rdashAlpha=/-([a-z]|[0-9])/ig,rmsPrefix=/^-ms-/,fcamelCase=function(all,letter){return(letter+"").toUpperCase()},userAgent=navigator.userAgent,browserMatch,readyList,DOMContentLoaded,toString=Object.prototype.toString,hasOwn=Object.prototype.hasOwnProperty,push=Array.prototype.push,slice=Array.prototype.slice,trim=String.prototype.trim,indexOf=Array.prototype.indexOf,class2type={};jQuery.fn=jQuery.prototype={constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem,ret,doc;if(!selector){return this}if(selector.nodeType){this.context=this[0]=selector;this.length=1;return this}if(selector==="body"&&!context&&document.body){this.context=document;this[0]=document.body;this.selector=selector;this.length=1;return this}if(typeof selector==="string"){if(selector.charAt(0)==="<"&&selector.charAt(selector.length-1)===">"&&selector.length>=3){match=[null,selector,null]}else{match=quickExpr.exec(selector)}if(match&&(match[1]||!context)){if(match[1]){context=context instanceof jQuery?context[0]:context;doc=(context?context.ownerDocument||context:document);ret=rsingleTag.exec(selector);if(ret){if(jQuery.isPlainObject(context)){selector=[document.createElement(ret[1])];jQuery.fn.attr.call(selector,context,true)}else{selector=[doc.createElement(ret[1])]}}else{ret=jQuery.buildFragment([match[1]],[doc]);selector=(ret.cacheable?jQuery.clone(ret.fragment):ret.fragment).childNodes}return jQuery.merge(this,selector)}else{elem=document.getElementById(match[2]);if(elem&&elem.parentNode){if(elem.id!==match[2]){return rootjQuery.find(selector)}this.length=1;this[0]=elem}this.context=document;this.selector=selector;return this}}else{if(!context||context.jquery){return(context||rootjQuery).find(selector)}else{return this.constructor(context).find(selector)}}}else{if(jQuery.isFunction(selector)){return rootjQuery.ready(selector)}}if(selector.selector!==undefined){this.selector=selector.selector;this.context=selector.context}return jQuery.makeArray(selector,this)},selector:"",jquery:"1.7.1",length:0,size:function(){return this.length},toArray:function(){return slice.call(this,0)},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num])},pushStack:function(elems,name,selector){var ret=this.constructor();if(jQuery.isArray(elems)){push.apply(ret,elems)}else{jQuery.merge(ret,elems)}ret.prevObject=this;ret.context=this.context;if(name==="find"){ret.selector=this.selector+(this.selector?" ":"")+selector}else{if(name){ret.selector=this.selector+"."+name+"("+selector+")"}}return ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){jQuery.bindReady();readyList.add(fn);return this},eq:function(i){i=+i;return i===-1?this.slice(i):this.slice(i,i+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(slice.apply(this,arguments),"slice",slice.call(arguments).join(","))},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:[].sort,splice:[].splice};jQuery.fn.init.prototype=jQuery.fn;jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=false;if(typeof target==="boolean"){deep=target;target=arguments[1]||{};i=2}if(typeof target!=="object"&&!jQuery.isFunction(target)){target={}}if(length===i){target=this;--i}for(;i<length;i++){if((options=arguments[i])!=null){for(name in options){src=target[name];copy=options[name];if(target===copy){continue}if(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))){if(copyIsArray){copyIsArray=false;clone=src&&jQuery.isArray(src)?src:[]}else{clone=src&&jQuery.isPlainObject(src)?src:{}}target[name]=jQuery.extend(deep,clone,copy)}else{if(copy!==undefined){target[name]=copy}}}}}return target};jQuery.extend({noConflict:function(deep){if(window.$===jQuery){window.$=_$}if(deep&&window.jQuery===jQuery){window.jQuery=_jQuery}return jQuery},isReady:false,readyWait:1,holdReady:function(hold){if(hold){jQuery.readyWait++}else{jQuery.ready(true)}},ready:function(wait){if((wait===true&&!--jQuery.readyWait)||(wait!==true&&!jQuery.isReady)){if(!document.body){return setTimeout(jQuery.ready,1)}jQuery.isReady=true;if(wait!==true&&--jQuery.readyWait>0){return }readyList.fireWith(document,[jQuery]);if(jQuery.fn.trigger){jQuery(document).trigger("ready").off("ready")}}},bindReady:function(){if(readyList){return }readyList=jQuery.Callbacks("once memory");if(document.readyState==="complete"){return setTimeout(jQuery.ready,1)}if(document.addEventListener){document.addEventListener("DOMContentLoaded",DOMContentLoaded,false);window.addEventListener("load",jQuery.ready,false)}else{if(document.attachEvent){document.attachEvent("onreadystatechange",DOMContentLoaded);window.attachEvent("onload",jQuery.ready);var toplevel=false;try{toplevel=window.frameElement==null}catch(e){}if(document.documentElement.doScroll&&toplevel){doScrollCheck()}}}},isFunction:function(obj){return jQuery.type(obj)==="function"},isArray:Array.isArray||function(obj){return jQuery.type(obj)==="array"},isWindow:function(obj){return obj&&typeof obj==="object"&&"setInterval" in obj},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return obj==null?String(obj):class2type[toString.call(obj)]||"object"},isPlainObject:function(obj){if(!obj||jQuery.type(obj)!=="object"||obj.nodeType||jQuery.isWindow(obj)){return false}try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")){return false}}catch(e){return false}var key;for(key in obj){}return key===undefined||hasOwn.call(obj,key)},isEmptyObject:function(obj){for(var name in obj){return false}return true},error:function(msg){throw new Error(msg)},parseJSON:function(data){if(typeof data!=="string"||!data){return null}data=jQuery.trim(data);if(window.JSON&&window.JSON.parse){return window.JSON.parse(data)}if(rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))){return(new Function("return "+data))()}jQuery.error("Invalid JSON: "+data)},parseXML:function(data){var xml,tmp;try{if(window.DOMParser){tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml")}else{xml=new ActiveXObject("Microsoft.XMLDOM");xml.async="false";xml.loadXML(data)}}catch(e){xml=undefined}if(!xml||!xml.documentElement||xml.getElementsByTagName("parsererror").length){jQuery.error("Invalid XML: "+data)}return xml},noop:function(){},globalEval:function(data){if(data&&rnotwhite.test(data)){(window.execScript||function(data){window["eval"].call(window,data)})(data)}},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toUpperCase()===name.toUpperCase()},each:function(object,callback,args){var name,i=0,length=object.length,isObj=length===undefined||jQuery.isFunction(object);if(args){if(isObj){for(name in object){if(callback.apply(object[name],args)===false){break}}}else{for(;i<length;){if(callback.apply(object[i++],args)===false){break}}}}else{if(isObj){for(name in object){if(callback.call(object[name],name,object[name])===false){break}}}else{for(;i<length;){if(callback.call(object[i],i,object[i++])===false){break}}}}return object},trim:trim?function(text){return text==null?"":trim.call(text)}:function(text){return text==null?"":text.toString().replace(trimLeft,"").replace(trimRight,"")},makeArray:function(array,results){var ret=results||[];if(array!=null){var type=jQuery.type(array);if(array.length==null||type==="string"||type==="function"||type==="regexp"||jQuery.isWindow(array)){push.call(ret,array)}else{jQuery.merge(ret,array)}}return ret},inArray:function(elem,array,i){var len;if(array){if(indexOf){return indexOf.call(array,elem,i)}len=array.length;i=i?i<0?Math.max(0,len+i):i:0;for(;i<len;i++){if(i in array&&array[i]===elem){return i}}}return -1},merge:function(first,second){var i=first.length,j=0;if(typeof second.length==="number"){for(var l=second.length;j<l;j++){first[i++]=second[j]}}else{while(second[j]!==undefined){first[i++]=second[j++]}}first.length=i;return first},grep:function(elems,callback,inv){var ret=[],retVal;inv=!!inv;for(var i=0,length=elems.length;i<length;i++){retVal=!!callback(elems[i],i);if(inv!==retVal){ret.push(elems[i])}}return ret},map:function(elems,callback,arg){var value,key,ret=[],i=0,length=elems.length,isArray=elems instanceof jQuery||length!==undefined&&typeof length==="number"&&((length>0&&elems[0]&&elems[length-1])||length===0||jQuery.isArray(elems));if(isArray){for(;i<length;i++){value=callback(elems[i],i,arg);if(value!=null){ret[ret.length]=value}}}else{for(key in elems){value=callback(elems[key],key,arg);if(value!=null){ret[ret.length]=value}}}return ret.concat.apply([],ret)},guid:1,proxy:function(fn,context){if(typeof context==="string"){var tmp=fn[context];context=fn;fn=tmp}if(!jQuery.isFunction(fn)){return undefined}var args=slice.call(arguments,2),proxy=function(){return fn.apply(context,args.concat(slice.call(arguments)))};proxy.guid=fn.guid=fn.guid||proxy.guid||jQuery.guid++;return proxy},access:function(elems,key,value,exec,fn,pass){var length=elems.length;if(typeof key==="object"){for(var k in key){jQuery.access(elems,k,key[k],exec,fn,value)}return elems}if(value!==undefined){exec=!pass&&exec&&jQuery.isFunction(value);for(var i=0;i<length;i++){fn(elems[i],key,exec?value.call(elems[i],i,fn(elems[i],key)):value,pass)}return elems}return length?fn(elems[0],key):undefined},now:function(){return(new Date()).getTime()},uaMatch:function(ua){ua=ua.toLowerCase();var match=rwebkit.exec(ua)||ropera.exec(ua)||rmsie.exec(ua)||ua.indexOf("compatible")<0&&rmozilla.exec(ua)||[];return{browser:match[1]||"",version:match[2]||"0"}},sub:function(){function jQuerySub(selector,context){return new jQuerySub.fn.init(selector,context)}jQuery.extend(true,jQuerySub,this);jQuerySub.superclass=this;jQuerySub.fn=jQuerySub.prototype=this();jQuerySub.fn.constructor=jQuerySub;jQuerySub.sub=this.sub;jQuerySub.fn.init=function init(selector,context){if(context&&context instanceof jQuery&&!(context instanceof jQuerySub)){context=jQuerySub(context)}return jQuery.fn.init.call(this,selector,context,rootjQuerySub)};jQuerySub.fn.init.prototype=jQuerySub.fn;var rootjQuerySub=jQuerySub(document);return jQuerySub},browser:{}});jQuery.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});browserMatch=jQuery.uaMatch(userAgent);if(browserMatch.browser){jQuery.browser[browserMatch.browser]=true;jQuery.browser.version=browserMatch.version}if(jQuery.browser.webkit){jQuery.browser.safari=true}if(rnotwhite.test("\xA0")){trimLeft=/^[\s\xA0]+/;trimRight=/[\s\xA0]+$/}rootjQuery=jQuery(document);if(document.addEventListener){DOMContentLoaded=function(){document.removeEventListener("DOMContentLoaded",DOMContentLoaded,false);jQuery.ready()}}else{if(document.attachEvent){DOMContentLoaded=function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",DOMContentLoaded);jQuery.ready()}}}}function doScrollCheck(){if(jQuery.isReady){return }try{document.documentElement.doScroll("left")}catch(e){setTimeout(doScrollCheck,1);return }jQuery.ready()}return jQuery})();var flagsCache={};function createFlags(flags){var object=flagsCache[flags]={},i,length;flags=flags.split(/\s+/);for(i=0,length=flags.length;i<length;i++){object[flags[i]]=true}return object}jQuery.Callbacks=function(flags){flags=flags?(flagsCache[flags]||createFlags(flags)):{};var list=[],stack=[],memory,firing,firingStart,firingLength,firingIndex,add=function(args){var i,length,elem,type,actual;for(i=0,length=args.length;i<length;i++){elem=args[i];type=jQuery.type(elem);if(type==="array"){add(elem)}else{if(type==="function"){if(!flags.unique||!self.has(elem)){list.push(elem)}}}}},fire=function(context,args){args=args||[];memory=!flags.memory||[context,args];firing=true;firingIndex=firingStart||0;firingStart=0;firingLength=list.length;for(;list&&firingIndex<firingLength;firingIndex++){if(list[firingIndex].apply(context,args)===false&&flags.stopOnFalse){memory=true;break}}firing=false;if(list){if(!flags.once){if(stack&&stack.length){memory=stack.shift();self.fireWith(memory[0],memory[1])}}else{if(memory===true){self.disable()}else{list=[]}}}},self={add:function(){if(list){var length=list.length;add(arguments);if(firing){firingLength=list.length}else{if(memory&&memory!==true){firingStart=length;fire(memory[0],memory[1])}}}return this},remove:function(){if(list){var args=arguments,argIndex=0,argLength=args.length;for(;argIndex<argLength;argIndex++){for(var i=0;i<list.length;i++){if(args[argIndex]===list[i]){if(firing){if(i<=firingLength){firingLength--;if(i<=firingIndex){firingIndex--}}}list.splice(i--,1);if(flags.unique){break}}}}}return this},has:function(fn){if(list){var i=0,length=list.length;for(;i<length;i++){if(fn===list[i]){return true}}}return false},empty:function(){list=[];return this},disable:function(){list=stack=memory=undefined;return this},disabled:function(){return !list},lock:function(){stack=undefined;if(!memory||memory===true){self.disable()}return this},locked:function(){return !stack},fireWith:function(context,args){if(stack){if(firing){if(!flags.once){stack.push([context,args])}}else{if(!(flags.once&&memory)){fire(context,args)}}}return this},fire:function(){self.fireWith(this,arguments);return this},fired:function(){return !!memory}};return self};var sliceDeferred=[].slice;jQuery.extend({Deferred:function(func){var doneList=jQuery.Callbacks("once memory"),failList=jQuery.Callbacks("once memory"),progressList=jQuery.Callbacks("memory"),state="pending",lists={resolve:doneList,reject:failList,notify:progressList},promise={done:doneList.add,fail:failList.add,progress:progressList.add,state:function(){return state},isResolved:doneList.fired,isRejected:failList.fired,then:function(doneCallbacks,failCallbacks,progressCallbacks){deferred.done(doneCallbacks).fail(failCallbacks).progress(progressCallbacks);return this},always:function(){deferred.done.apply(deferred,arguments).fail.apply(deferred,arguments);return this},pipe:function(fnDone,fnFail,fnProgress){return jQuery.Deferred(function(newDefer){jQuery.each({done:[fnDone,"resolve"],fail:[fnFail,"reject"],progress:[fnProgress,"notify"]},function(handler,data){var fn=data[0],action=data[1],returned;if(jQuery.isFunction(fn)){deferred[handler](function(){returned=fn.apply(this,arguments);if(returned&&jQuery.isFunction(returned.promise)){returned.promise().then(newDefer.resolve,newDefer.reject,newDefer.notify)}else{newDefer[action+"With"](this===deferred?newDefer:this,[returned])}})}else{deferred[handler](newDefer[action])}})}).promise()},promise:function(obj){if(obj==null){obj=promise}else{for(var key in promise){obj[key]=promise[key]}}return obj}},deferred=promise.promise({}),key;for(key in lists){deferred[key]=lists[key].fire;deferred[key+"With"]=lists[key].fireWith}deferred.done(function(){state="resolved"},failList.disable,progressList.lock).fail(function(){state="rejected"},doneList.disable,progressList.lock);if(func){func.call(deferred,deferred)}return deferred},when:function(firstParam){var args=sliceDeferred.call(arguments,0),i=0,length=args.length,pValues=new Array(length),count=length,pCount=length,deferred=length<=1&&firstParam&&jQuery.isFunction(firstParam.promise)?firstParam:jQuery.Deferred(),promise=deferred.promise();function resolveFunc(i){return function(value){args[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;if(!(--count)){deferred.resolveWith(deferred,args)}}}function progressFunc(i){return function(value){pValues[i]=arguments.length>1?sliceDeferred.call(arguments,0):value;deferred.notifyWith(promise,pValues)}}if(length>1){for(;i<length;i++){if(args[i]&&args[i].promise&&jQuery.isFunction(args[i].promise)){args[i].promise().then(resolveFunc(i),deferred.reject,progressFunc(i))}else{--count}}if(!count){deferred.resolveWith(deferred,args)}}else{if(deferred!==firstParam){deferred.resolveWith(deferred,length?[firstParam]:[])}}return promise}});jQuery.support=(function(){var support,all,a,select,opt,input,marginDiv,fragment,tds,events,eventName,i,isSupported,div=document.createElement("div"),documentElement=document.documentElement;div.setAttribute("className","t");div.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";all=div.getElementsByTagName("*");a=div.getElementsByTagName("a")[0];if(!all||!all.length||!a){return{}}select=document.createElement("select");opt=select.appendChild(document.createElement("option"));input=div.getElementsByTagName("input")[0];support={leadingWhitespace:(div.firstChild.nodeType===3),tbody:!div.getElementsByTagName("tbody").length,htmlSerialize:!!div.getElementsByTagName("link").length,style:/top/.test(a.getAttribute("style")),hrefNormalized:(a.getAttribute("href")==="/a"),opacity:/^0.55/.test(a.style.opacity),cssFloat:!!a.style.cssFloat,checkOn:(input.value==="on"),optSelected:opt.selected,getSetAttribute:div.className!=="t",enctype:!!document.createElement("form").enctype,html5Clone:document.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true};input.checked=true;support.noCloneChecked=input.cloneNode(true).checked;select.disabled=true;support.optDisabled=!opt.disabled;try{delete div.test}catch(e){support.deleteExpando=false}if(!div.addEventListener&&div.attachEvent&&div.fireEvent){div.attachEvent("onclick",function(){support.noCloneEvent=false});div.cloneNode(true).fireEvent("onclick")}input=document.createElement("input");input.value="t";input.setAttribute("type","radio");support.radioValue=input.value==="t";input.setAttribute("checked","checked");div.appendChild(input);fragment=document.createDocumentFragment();fragment.appendChild(div.lastChild);support.checkClone=fragment.cloneNode(true).cloneNode(true).lastChild.checked;support.appendChecked=input.checked;fragment.removeChild(input);fragment.appendChild(div);div.innerHTML="";if(window.getComputedStyle){marginDiv=document.createElement("div");marginDiv.style.width="0";marginDiv.style.marginRight="0";div.style.width="2px";div.appendChild(marginDiv);support.reliableMarginRight=(parseInt((window.getComputedStyle(marginDiv,null)||{marginRight:0}).marginRight,10)||0)===0}if(div.attachEvent){for(i in {submit:1,change:1,focusin:1}){eventName="on"+i;isSupported=(eventName in div);if(!isSupported){div.setAttribute(eventName,"return;");isSupported=(typeof div[eventName]==="function")}support[i+"Bubbles"]=isSupported}}fragment.removeChild(div);fragment=select=opt=marginDiv=div=input=null;jQuery(function(){var container,outer,inner,table,td,offsetSupport,conMarginTop,ptlm,vb,style,html,body=document.getElementsByTagName("body")[0];if(!body){return }conMarginTop=1;ptlm="position:absolute;top:0;left:0;width:1px;height:1px;margin:0;";vb="visibility:hidden;border:0;";style="style='"+ptlm+"border:5px solid #000;padding:0;'";html="<div "+style+"><div></div></div><table "+style+" cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";container=document.createElement("div");container.style.cssText=vb+"width:0;height:0;position:static;top:0;margin-top:"+conMarginTop+"px";body.insertBefore(container,body.firstChild);div=document.createElement("div");container.appendChild(div);div.innerHTML="<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>";tds=div.getElementsByTagName("td");isSupported=(tds[0].offsetHeight===0);tds[0].style.display="";tds[1].style.display="none";support.reliableHiddenOffsets=isSupported&&(tds[0].offsetHeight===0);div.innerHTML="";div.style.width=div.style.paddingLeft="1px";jQuery.boxModel=support.boxModel=div.offsetWidth===2;if(typeof div.style.zoom!=="undefined"){div.style.display="inline";div.style.zoom=1;support.inlineBlockNeedsLayout=(div.offsetWidth===2);div.style.display="";div.innerHTML="<div style='width:4px;'></div>";support.shrinkWrapBlocks=(div.offsetWidth!==2)}div.style.cssText=ptlm+vb;div.innerHTML=html;outer=div.firstChild;inner=outer.firstChild;td=outer.nextSibling.firstChild.firstChild;offsetSupport={doesNotAddBorder:(inner.offsetTop!==5),doesAddBorderForTableAndCells:(td.offsetTop===5)};inner.style.position="fixed";inner.style.top="20px";offsetSupport.fixedPosition=(inner.offsetTop===20||inner.offsetTop===15);inner.style.position=inner.style.top="";outer.style.overflow="hidden";outer.style.position="relative";offsetSupport.subtractsBorderForOverflowNotVisible=(inner.offsetTop===-5);offsetSupport.doesNotIncludeMarginInBodyOffset=(body.offsetTop!==conMarginTop);body.removeChild(container);div=container=null;jQuery.extend(support,offsetSupport)});return support})();var rbrace=/^(?:\{.*\}|\[.*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},uuid:0,expando:"jQuery"+(jQuery.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(elem){elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando];return !!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data,pvt){if(!jQuery.acceptData(elem)){return }var privateCache,thisCache,ret,internalKey=jQuery.expando,getByName=typeof name==="string",isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey,isEvents=name==="events";if((!id||!cache[id]||(!isEvents&&!pvt&&!cache[id].data))&&getByName&&data===undefined){return }if(!id){if(isNode){elem[internalKey]=id=++jQuery.uuid}else{id=internalKey}}if(!cache[id]){cache[id]={};if(!isNode){cache[id].toJSON=jQuery.noop}}if(typeof name==="object"||typeof name==="function"){if(pvt){cache[id]=jQuery.extend(cache[id],name)}else{cache[id].data=jQuery.extend(cache[id].data,name)}}privateCache=thisCache=cache[id];if(!pvt){if(!thisCache.data){thisCache.data={}}thisCache=thisCache.data}if(data!==undefined){thisCache[jQuery.camelCase(name)]=data}if(isEvents&&!thisCache[name]){return privateCache.events}if(getByName){ret=thisCache[name];if(ret==null){ret=thisCache[jQuery.camelCase(name)]}}else{ret=thisCache}return ret},removeData:function(elem,name,pvt){if(!jQuery.acceptData(elem)){return }var thisCache,i,l,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:internalKey;if(!cache[id]){return }if(name){thisCache=pvt?cache[id]:cache[id].data;if(thisCache){if(!jQuery.isArray(name)){if(name in thisCache){name=[name]}else{name=jQuery.camelCase(name);if(name in thisCache){name=[name]}else{name=name.split(" ")}}}for(i=0,l=name.length;i<l;i++){delete thisCache[name[i]]}if(!(pvt?isEmptyDataObject:jQuery.isEmptyObject)(thisCache)){return }}}if(!pvt){delete cache[id].data;if(!isEmptyDataObject(cache[id])){return }}if(jQuery.support.deleteExpando||!cache.setInterval){delete cache[id]}else{cache[id]=null}if(isNode){if(jQuery.support.deleteExpando){delete elem[internalKey]}else{if(elem.removeAttribute){elem.removeAttribute(internalKey)}else{elem[internalKey]=null}}}},_data:function(elem,name,data){return jQuery.data(elem,name,data,true)},acceptData:function(elem){if(elem.nodeName){var match=jQuery.noData[elem.nodeName.toLowerCase()];if(match){return !(match===true||elem.getAttribute("classid")!==match)}}return true}});jQuery.fn.extend({data:function(key,value){var parts,attr,name,data=null;if(typeof key==="undefined"){if(this.length){data=jQuery.data(this[0]);if(this[0].nodeType===1&&!jQuery._data(this[0],"parsedAttrs")){attr=this[0].attributes;for(var i=0,l=attr.length;i<l;i++){name=attr[i].name;if(name.indexOf("data-")===0){name=jQuery.camelCase(name.substring(5));dataAttr(this[0],name,data[name])}}jQuery._data(this[0],"parsedAttrs",true)}}return data}else{if(typeof key==="object"){return this.each(function(){jQuery.data(this,key)})}}parts=key.split(".");parts[1]=parts[1]?"."+parts[1]:"";if(value===undefined){data=this.triggerHandler("getData"+parts[1]+"!",[parts[0]]);if(data===undefined&&this.length){data=jQuery.data(this[0],key);data=dataAttr(this[0],key,data)}return data===undefined&&parts[1]?this.data(parts[0]):data}else{return this.each(function(){var self=jQuery(this),args=[parts[0],value];self.triggerHandler("setData"+parts[1]+"!",args);jQuery.data(this,key,value);self.triggerHandler("changeData"+parts[1]+"!",args)})}},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}});function dataAttr(elem,key,data){if(data===undefined&&elem.nodeType===1){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:jQuery.isNumeric(data)?parseFloat(data):rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else{data=undefined}}return data}function isEmptyDataObject(obj){for(var name in obj){if(name==="data"&&jQuery.isEmptyObject(obj[name])){continue}if(name!=="toJSON"){return false}}return true}function handleQueueMarkDefer(elem,type,src){var deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",defer=jQuery._data(elem,deferDataKey);if(defer&&(src==="queue"||!jQuery._data(elem,queueDataKey))&&(src==="mark"||!jQuery._data(elem,markDataKey))){setTimeout(function(){if(!jQuery._data(elem,queueDataKey)&&!jQuery._data(elem,markDataKey)){jQuery.removeData(elem,deferDataKey,true);defer.fire()}},0)}}jQuery.extend({_mark:function(elem,type){if(elem){type=(type||"fx")+"mark";jQuery._data(elem,type,(jQuery._data(elem,type)||0)+1)}},_unmark:function(force,elem,type){if(force!==true){type=elem;elem=force;force=false}if(elem){type=type||"fx";var key=type+"mark",count=force?0:((jQuery._data(elem,key)||1)-1);if(count){jQuery._data(elem,key,count)}else{jQuery.removeData(elem,key,true);handleQueueMarkDefer(elem,type,"mark")}}},queue:function(elem,type,data){var q;if(elem){type=(type||"fx")+"queue";q=jQuery._data(elem,type);if(data){if(!q||jQuery.isArray(data)){q=jQuery._data(elem,type,jQuery.makeArray(data))}else{q.push(data)}}return q||[]}},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),fn=queue.shift(),hooks={};if(fn==="inprogress"){fn=queue.shift()}if(fn){if(type==="fx"){queue.unshift("inprogress")}jQuery._data(elem,type+".run",hooks);fn.call(elem,function(){jQuery.dequeue(elem,type)},hooks)}if(!queue.length){jQuery.removeData(elem,type+"queue "+type+".run",true);handleQueueMarkDefer(elem,type,"queue")}}});jQuery.fn.extend({queue:function(type,data){if(typeof type!=="string"){data=type;type="fx"}if(data===undefined){return jQuery.queue(this[0],type)}return this.each(function(){var queue=jQuery.queue(this,type,data);if(type==="fx"&&queue[0]!=="inprogress"){jQuery.dequeue(this,type)}})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){time=jQuery.fx?jQuery.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,object){if(typeof type!=="string"){object=type;type=undefined}type=type||"fx";var defer=jQuery.Deferred(),elements=this,i=elements.length,count=1,deferDataKey=type+"defer",queueDataKey=type+"queue",markDataKey=type+"mark",tmp;function resolve(){if(!(--count)){defer.resolveWith(elements,[elements])}}while(i--){if((tmp=jQuery.data(elements[i],deferDataKey,undefined,true)||(jQuery.data(elements[i],queueDataKey,undefined,true)||jQuery.data(elements[i],markDataKey,undefined,true))&&jQuery.data(elements[i],deferDataKey,jQuery.Callbacks("once memory"),true))){count++;tmp.add(resolve)}}resolve();return defer.promise()}});var rclass=/[\n\t\r]/g,rspace=/\s+/,rreturn=/\r/g,rtype=/^(?:button|input)$/i,rfocusable=/^(?:button|input|object|select|textarea)$/i,rclickable=/^a(?:rea)?$/i,rboolean=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,getSetAttribute=jQuery.support.getSetAttribute,nodeHook,boolHook,fixSpecified;jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,name,value,true,jQuery.attr)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,name,value,true,jQuery.prop)},removeProp:function(name){name=jQuery.propFix[name]||name;return this.each(function(){try{this[name]=undefined;delete this[name]}catch(e){}})},addClass:function(value){var classNames,i,l,elem,setClass,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))})}if(value&&typeof value==="string"){classNames=value.split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1){if(!elem.className&&classNames.length===1){elem.className=value}else{setClass=" "+elem.className+" ";for(c=0,cl=classNames.length;c<cl;c++){if(!~setClass.indexOf(" "+classNames[c]+" ")){setClass+=classNames[c]+" "}}elem.className=jQuery.trim(setClass)}}}}return this},removeClass:function(value){var classNames,i,l,elem,className,c,cl;if(jQuery.isFunction(value)){return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))})}if((value&&typeof value==="string")||value===undefined){classNames=(value||"").split(rspace);for(i=0,l=this.length;i<l;i++){elem=this[i];if(elem.nodeType===1&&elem.className){if(value){className=(" "+elem.className+" ").replace(rclass," ");for(c=0,cl=classNames.length;c<cl;c++){className=className.replace(" "+classNames[c]+" "," ")}elem.className=jQuery.trim(className)}else{elem.className=""}}}}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool=typeof stateVal==="boolean";if(jQuery.isFunction(value)){return this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)})}return this.each(function(){if(type==="string"){var className,i=0,self=jQuery(this),state=stateVal,classNames=value.split(rspace);while((className=classNames[i++])){state=isBool?state:!self.hasClass(className);self[state?"addClass":"removeClass"](className)}}else{if(type==="undefined"||type==="boolean"){if(this.className){jQuery._data(this,"__className__",this.className)}this.className=this.className||value===false?"":jQuery._data(this,"__className__")||""}}})},hasClass:function(selector){var className=" "+selector+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>-1){return true}}return false},val:function(value){var hooks,ret,isFunction,elem=this[0];if(!arguments.length){if(elem){hooks=jQuery.valHooks[elem.nodeName.toLowerCase()]||jQuery.valHooks[elem.type];if(hooks&&"get" in hooks&&(ret=hooks.get(elem,"value"))!==undefined){return ret}ret=elem.value;return typeof ret==="string"?ret.replace(rreturn,""):ret==null?"":ret}return }isFunction=jQuery.isFunction(value);return this.each(function(i){var self=jQuery(this),val;if(this.nodeType!==1){return }if(isFunction){val=value.call(this,i,self.val())}else{val=value}if(val==null){val=""}else{if(typeof val==="number"){val+=""}else{if(jQuery.isArray(val)){val=jQuery.map(val,function(value){return value==null?"":value+""})}}}hooks=jQuery.valHooks[this.nodeName.toLowerCase()]||jQuery.valHooks[this.type];if(!hooks||!("set" in hooks)||hooks.set(this,val,"value")===undefined){this.value=val}})}});jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text}},select:{get:function(elem){var value,i,max,option,index=elem.selectedIndex,values=[],options=elem.options,one=elem.type==="select-one";if(index<0){return null}i=one?index:0;max=one?index+1:options.length;for(;i<max;i++){option=options[i];if(option.selected&&(jQuery.support.optDisabled?!option.disabled:option.getAttribute("disabled")===null)&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){value=jQuery(option).val();if(one){return value}values.push(value)}}if(one&&!values.length&&options.length){return jQuery(options[index]).val()}return values},set:function(elem,value){var values=jQuery.makeArray(value);jQuery(elem).find("option").each(function(){this.selected=jQuery.inArray(jQuery(this).val(),values)>=0});if(!values.length){elem.selectedIndex=-1}return values}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(elem,name,value,pass){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return }if(pass&&name in jQuery.attrFn){return jQuery(elem)[name](value)}if(typeof elem.getAttribute==="undefined"){return jQuery.prop(elem,name,value)}notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=name.toLowerCase();hooks=jQuery.attrHooks[name]||(rboolean.test(name)?boolHook:nodeHook)}if(value!==undefined){if(value===null){jQuery.removeAttr(elem,name);return }else{if(hooks&&"set" in hooks&&notxml&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{elem.setAttribute(name,""+value);return value}}}else{if(hooks&&"get" in hooks&&notxml&&(ret=hooks.get(elem,name))!==null){return ret}else{ret=elem.getAttribute(name);return ret===null?undefined:ret}}},removeAttr:function(elem,value){var propName,attrNames,name,l,i=0;if(value&&elem.nodeType===1){attrNames=value.toLowerCase().split(rspace);l=attrNames.length;for(;i<l;i++){name=attrNames[i];if(name){propName=jQuery.propFix[name]||name;jQuery.attr(elem,name,"");elem.removeAttribute(getSetAttribute?name:propName);if(rboolean.test(name)&&propName in elem){elem[propName]=false}}}}},attrHooks:{type:{set:function(elem,value){if(rtype.test(elem.nodeName)&&elem.parentNode){jQuery.error("type property can't be changed")}else{if(!jQuery.support.radioValue&&value==="radio"&&jQuery.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",value);if(val){elem.value=val}return value}}}},value:{get:function(elem,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.get(elem,name)}return name in elem?elem.value:null},set:function(elem,value,name){if(nodeHook&&jQuery.nodeName(elem,"button")){return nodeHook.set(elem,value,name)}elem.value=value}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(!elem||nType===3||nType===8||nType===2){return }notxml=nType!==1||!jQuery.isXMLDoc(elem);if(notxml){name=jQuery.propFix[name]||name;hooks=jQuery.propHooks[name]}if(value!==undefined){if(hooks&&"set" in hooks&&(ret=hooks.set(elem,value,name))!==undefined){return ret}else{return(elem[name]=value)}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,name))!==null){return ret}else{return elem[name]}}},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}});jQuery.attrHooks.tabindex=jQuery.propHooks.tabIndex;boolHook={get:function(elem,name){var attrNode,property=jQuery.prop(elem,name);return property===true||typeof property!=="boolean"&&(attrNode=elem.getAttributeNode(name))&&attrNode.nodeValue!==false?name.toLowerCase():undefined},set:function(elem,value,name){var propName;if(value===false){jQuery.removeAttr(elem,name)}else{propName=jQuery.propFix[name]||name;if(propName in elem){elem[propName]=true}elem.setAttribute(name,name.toLowerCase())}return name}};if(!getSetAttribute){fixSpecified={name:true,id:true};nodeHook=jQuery.valHooks.button={get:function(elem,name){var ret;ret=elem.getAttributeNode(name);return ret&&(fixSpecified[name]?ret.nodeValue!=="":ret.specified)?ret.nodeValue:undefined},set:function(elem,value,name){var ret=elem.getAttributeNode(name);if(!ret){ret=document.createAttribute(name);elem.setAttributeNode(ret)}return(ret.nodeValue=value+"")}};jQuery.attrHooks.tabindex.set=nodeHook.set;jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{set:function(elem,value){if(value===""){elem.setAttribute(name,"auto");return value}}})});jQuery.attrHooks.contenteditable={get:nodeHook.get,set:function(elem,value,name){if(value===""){value="false"}nodeHook.set(elem,value,name)}}}if(!jQuery.support.hrefNormalized){jQuery.each(["href","src","width","height"],function(i,name){jQuery.attrHooks[name]=jQuery.extend(jQuery.attrHooks[name],{get:function(elem){var ret=elem.getAttribute(name,2);return ret===null?undefined:ret}})})}if(!jQuery.support.style){jQuery.attrHooks.style={get:function(elem){return elem.style.cssText.toLowerCase()||undefined},set:function(elem,value){return(elem.style.cssText=""+value)}}}if(!jQuery.support.optSelected){jQuery.propHooks.selected=jQuery.extend(jQuery.propHooks.selected,{get:function(elem){var parent=elem.parentNode;if(parent){parent.selectedIndex;if(parent.parentNode){parent.parentNode.selectedIndex}}return null}})}if(!jQuery.support.enctype){jQuery.propFix.enctype="encoding"}if(!jQuery.support.checkOn){jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={get:function(elem){return elem.getAttribute("value")===null?"on":elem.value}}})}jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]=jQuery.extend(jQuery.valHooks[this],{set:function(elem,value){if(jQuery.isArray(value)){return(elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0)}}})});var rformElems=/^(?:textarea|input|select)$/i,rtypenamespace=/^([^\.]*)?(?:\.(.+))?$/,rhoverHack=/\bhover(\.\S+)?\b/,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rquickIs=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,quickParse=function(selector){var quick=rquickIs.exec(selector);if(quick){quick[1]=(quick[1]||"").toLowerCase();quick[3]=quick[3]&&new RegExp("(?:^|\\s)"+quick[3]+"(?:\\s|$)")}return quick},quickIs=function(elem,m){var attrs=elem.attributes||{};return((!m[1]||elem.nodeName.toLowerCase()===m[1])&&(!m[2]||(attrs.id||{}).value===m[2])&&(!m[3]||m[3].test((attrs["class"]||{}).value)))},hoverHack=function(events){return jQuery.event.special.hover?events:events.replace(rhoverHack,"mouseenter$1 mouseleave$1")};jQuery.event={add:function(elem,types,handler,data,selector){var elemData,eventHandle,events,t,tns,type,namespaces,handleObj,handleObjIn,quick,handlers,special;if(elem.nodeType===3||elem.nodeType===8||!types||!handler||!(elemData=jQuery._data(elem))){return }if(handler.handler){handleObjIn=handler;handler=handleObjIn.handler}if(!handler.guid){handler.guid=jQuery.guid++}events=elemData.events;if(!events){elemData.events=events={}}eventHandle=elemData.handle;if(!eventHandle){elemData.handle=eventHandle=function(e){return typeof jQuery!=="undefined"&&(!e||jQuery.event.triggered!==e.type)?jQuery.event.dispatch.apply(eventHandle.elem,arguments):undefined};eventHandle.elem=elem}types=jQuery.trim(hoverHack(types)).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=tns[1];namespaces=(tns[2]||"").split(".").sort();special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;special=jQuery.event.special[type]||{};handleObj=jQuery.extend({type:type,origType:tns[1],data:data,handler:handler,guid:handler.guid,selector:selector,quick:quickParse(selector),namespace:namespaces.join(".")},handleObjIn);handlers=events[type];if(!handlers){handlers=events[type]=[];handlers.delegateCount=0;if(!special.setup||special.setup.call(elem,data,namespaces,eventHandle)===false){if(elem.addEventListener){elem.addEventListener(type,eventHandle,false)}else{if(elem.attachEvent){elem.attachEvent("on"+type,eventHandle)}}}}if(special.add){special.add.call(elem,handleObj);if(!handleObj.handler.guid){handleObj.handler.guid=handler.guid}}if(selector){handlers.splice(handlers.delegateCount++,0,handleObj)}else{handlers.push(handleObj)}jQuery.event.global[type]=true}elem=null},global:{},remove:function(elem,types,handler,selector,mappedTypes){var elemData=jQuery.hasData(elem)&&jQuery._data(elem),t,tns,type,origType,namespaces,origCount,j,events,special,handle,eventType,handleObj;if(!elemData||!(events=elemData.events)){return }types=jQuery.trim(hoverHack(types||"")).split(" ");for(t=0;t<types.length;t++){tns=rtypenamespace.exec(types[t])||[];type=origType=tns[1];namespaces=tns[2];if(!type){for(type in events){jQuery.event.remove(elem,type+types[t],handler,selector,true)}continue}special=jQuery.event.special[type]||{};type=(selector?special.delegateType:special.bindType)||type;eventType=events[type]||[];origCount=eventType.length;namespaces=namespaces?new RegExp("(^|\\.)"+namespaces.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(j=0;j<eventType.length;j++){handleObj=eventType[j];if((mappedTypes||origType===handleObj.origType)&&(!handler||handler.guid===handleObj.guid)&&(!namespaces||namespaces.test(handleObj.namespace))&&(!selector||selector===handleObj.selector||selector==="**"&&handleObj.selector)){eventType.splice(j--,1);if(handleObj.selector){eventType.delegateCount--}if(special.remove){special.remove.call(elem,handleObj)}}}if(eventType.length===0&&origCount!==eventType.length){if(!special.teardown||special.teardown.call(elem,namespaces)===false){jQuery.removeEvent(elem,type,elemData.handle)}delete events[type]}}if(jQuery.isEmptyObject(events)){handle=elemData.handle;if(handle){handle.elem=null}jQuery.removeData(elem,["events","handle"],true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(event,data,elem,onlyHandlers){if(elem&&(elem.nodeType===3||elem.nodeType===8)){return }var type=event.type||event,namespaces=[],cache,exclusive,i,cur,old,ontype,special,handle,eventPath,bubbleType;if(rfocusMorph.test(type+jQuery.event.triggered)){return }if(type.indexOf("!")>=0){type=type.slice(0,-1);exclusive=true}if(type.indexOf(".")>=0){namespaces=type.split(".");type=namespaces.shift();namespaces.sort()}if((!elem||jQuery.event.customEvent[type])&&!jQuery.event.global[type]){return }event=typeof event==="object"?event[jQuery.expando]?event:new jQuery.Event(type,event):new jQuery.Event(type);event.type=type;event.isTrigger=true;event.exclusive=exclusive;event.namespace=namespaces.join(".");event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;ontype=type.indexOf(":")<0?"on"+type:"";if(!elem){cache=jQuery.cache;for(i in cache){if(cache[i].events&&cache[i].events[type]){jQuery.event.trigger(event,data,cache[i].handle.elem,true)}}return }event.result=undefined;if(!event.target){event.target=elem}data=data!=null?jQuery.makeArray(data):[];data.unshift(event);special=jQuery.event.special[type]||{};if(special.trigger&&special.trigger.apply(elem,data)===false){return }eventPath=[[elem,special.bindType||type]];if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){bubbleType=special.delegateType||type;cur=rfocusMorph.test(bubbleType+type)?elem:elem.parentNode;old=null;for(;cur;cur=cur.parentNode){eventPath.push([cur,bubbleType]);old=cur}if(old&&old===elem.ownerDocument){eventPath.push([old.defaultView||old.parentWindow||window,bubbleType])}}for(i=0;i<eventPath.length&&!event.isPropagationStopped();i++){cur=eventPath[i][0];event.type=eventPath[i][1];handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle");if(handle){handle.apply(cur,data)}handle=ontype&&cur[ontype];if(handle&&jQuery.acceptData(cur)&&handle.apply(cur,data)===false){event.preventDefault()}}event.type=type;if(!onlyHandlers&&!event.isDefaultPrevented()){if((!special._default||special._default.apply(elem.ownerDocument,data)===false)&&!(type==="click"&&jQuery.nodeName(elem,"a"))&&jQuery.acceptData(elem)){if(ontype&&elem[type]&&((type!=="focus"&&type!=="blur")||event.target.offsetWidth!==0)&&!jQuery.isWindow(elem)){old=elem[ontype];if(old){elem[ontype]=null}jQuery.event.triggered=type;elem[type]();jQuery.event.triggered=undefined;if(old){elem[ontype]=old}}}}return event.result},dispatch:function(event){event=jQuery.event.fix(event||window.event);var handlers=((jQuery._data(this,"events")||{})[event.type]||[]),delegateCount=handlers.delegateCount,args=[].slice.call(arguments,0),run_all=!event.exclusive&&!event.namespace,handlerQueue=[],i,j,cur,jqcur,ret,selMatch,matched,matches,handleObj,sel,related;args[0]=event;event.delegateTarget=this;if(delegateCount&&!event.target.disabled&&!(event.button&&event.type==="click")){jqcur=jQuery(this);jqcur.context=this.ownerDocument||this;for(cur=event.target;cur!=this;cur=cur.parentNode||this){selMatch={};matches=[];jqcur[0]=cur;for(i=0;i<delegateCount;i++){handleObj=handlers[i];sel=handleObj.selector;if(selMatch[sel]===undefined){selMatch[sel]=(handleObj.quick?quickIs(cur,handleObj.quick):jqcur.is(sel))}if(selMatch[sel]){matches.push(handleObj)}}if(matches.length){handlerQueue.push({elem:cur,matches:matches})}}}if(handlers.length>delegateCount){handlerQueue.push({elem:this,matches:handlers.slice(delegateCount)})}for(i=0;i<handlerQueue.length&&!event.isPropagationStopped();i++){matched=handlerQueue[i];event.currentTarget=matched.elem;for(j=0;j<matched.matches.length&&!event.isImmediatePropagationStopped();j++){handleObj=matched.matches[j];if(run_all||(!event.namespace&&!handleObj.namespace)||event.namespace_re&&event.namespace_re.test(handleObj.namespace)){event.data=handleObj.data;event.handleObj=handleObj;ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args);if(ret!==undefined){event.result=ret;if(ret===false){event.preventDefault();event.stopPropagation()}}}}}return event.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){if(event.which==null){event.which=original.charCode!=null?original.charCode:original.keyCode}return event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button,fromElement=original.fromElement;if(event.pageX==null&&original.clientX!=null){eventDoc=event.target.ownerDocument||document;doc=eventDoc.documentElement;body=eventDoc.body;event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)}if(!event.relatedTarget&&fromElement){event.relatedTarget=fromElement===event.target?original.toElement:fromElement}if(!event.which&&button!==undefined){event.which=(button&1?1:(button&2?3:(button&4?2:0)))}return event}},fix:function(event){if(event[jQuery.expando]){return event}var i,prop,originalEvent=event,fixHook=jQuery.event.fixHooks[event.type]||{},copy=fixHook.props?this.props.concat(fixHook.props):this.props;event=jQuery.Event(originalEvent);for(i=copy.length;i;){prop=copy[--i];event[prop]=originalEvent[prop]}if(!event.target){event.target=originalEvent.srcElement||document}if(event.target.nodeType===3){event.target=event.target.parentNode}if(event.metaKey===undefined){event.metaKey=event.ctrlKey}return fixHook.filter?fixHook.filter(event,originalEvent):event},special:{ready:{setup:jQuery.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(data,namespaces,eventHandle){if(jQuery.isWindow(this)){this.onbeforeunload=eventHandle}},teardown:function(namespaces,eventHandle){if(this.onbeforeunload===eventHandle){this.onbeforeunload=null}}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event(),event,{type:type,isSimulated:true,originalEvent:{}});if(bubble){jQuery.event.trigger(e,null,elem)}else{jQuery.event.dispatch.call(elem,e)}if(e.isDefaultPrevented()){event.preventDefault()}}};jQuery.event.handle=jQuery.event.dispatch;jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){if(elem.removeEventListener){elem.removeEventListener(type,handle,false)}}:function(elem,type,handle){if(elem.detachEvent){elem.detachEvent("on"+type,handle)}};jQuery.Event=function(src,props){if(!(this instanceof jQuery.Event)){return new jQuery.Event(src,props)}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.returnValue===false||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse}else{this.type=src}if(props){jQuery.extend(this,props)}this.timeStamp=src&&src.timeStamp||jQuery.now();this[jQuery.expando]=true};function returnFalse(){return false}function returnTrue(){return true}jQuery.Event.prototype={preventDefault:function(){this.isDefaultPrevented=returnTrue;var e=this.originalEvent;if(!e){return }if(e.preventDefault){e.preventDefault()}else{e.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=returnTrue;var e=this.originalEvent;if(!e){return }if(e.stopPropagation){e.stopPropagation()}e.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue;this.stopPropagation()},isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse};jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var target=this,related=event.relatedTarget,handleObj=event.handleObj,selector=handleObj.selector,ret;if(!related||(related!==target&&!jQuery.contains(target,related))){event.type=handleObj.origType;ret=handleObj.handler.apply(this,arguments);event.type=fix}return ret}}});if(!jQuery.support.submitBubbles){jQuery.event.special.submit={setup:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:undefined;if(form&&!form._submit_attached){jQuery.event.add(form,"submit._submit",function(event){if(this.parentNode&&!event.isTrigger){jQuery.event.simulate("submit",this.parentNode,event,true)}});form._submit_attached=true}})},teardown:function(){if(jQuery.nodeName(this,"form")){return false}jQuery.event.remove(this,"._submit")}}}if(!jQuery.support.changeBubbles){jQuery.event.special.change={setup:function(){if(rformElems.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){jQuery.event.add(this,"propertychange._change",function(event){if(event.originalEvent.propertyName==="checked"){this._just_changed=true}});jQuery.event.add(this,"click._change",function(event){if(this._just_changed&&!event.isTrigger){this._just_changed=false;jQuery.event.simulate("change",this,event,true)}})}return false}jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;if(rformElems.test(elem.nodeName)&&!elem._change_attached){jQuery.event.add(elem,"change._change",function(event){if(this.parentNode&&!event.isSimulated&&!event.isTrigger){jQuery.event.simulate("change",this.parentNode,event,true)}});elem._change_attached=true}})},handle:function(event){var elem=event.target;if(this!==elem||event.isSimulated||event.isTrigger||(elem.type!=="radio"&&elem.type!=="checkbox")){return event.handleObj.handler.apply(this,arguments)}},teardown:function(){jQuery.event.remove(this,"._change");return rformElems.test(this.nodeName)}}}if(!jQuery.support.focusinBubbles){jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),true)};jQuery.event.special[fix]={setup:function(){if(attaches++===0){document.addEventListener(orig,handler,true)}},teardown:function(){if(--attaches===0){document.removeEventListener(orig,handler,true)}}}})}jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if(typeof types==="object"){if(typeof selector!=="string"){data=selector;selector=undefined}for(type in types){this.on(type,selector,data,types[type],one)}return this}if(data==null&&fn==null){fn=selector;data=selector=undefined}else{if(fn==null){if(typeof selector==="string"){fn=data;data=undefined}else{fn=data;data=selector;selector=undefined}}}if(fn===false){fn=returnFalse}else{if(!fn){return this}}if(one===1){origFn=fn;fn=function(event){jQuery().off(event);return origFn.apply(this,arguments)};fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)}return this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on.call(this,types,selector,data,fn,1)},off:function(types,selector,fn){if(types&&types.preventDefault&&types.handleObj){var handleObj=types.handleObj;jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.type+"."+handleObj.namespace:handleObj.type,handleObj.selector,handleObj.handler);return this}if(typeof types==="object"){for(var type in types){this.off(type,selector,types[type])}return this}if(selector===false||typeof selector==="function"){fn=selector;selector=undefined}if(fn===false){fn=returnFalse}return this.each(function(){jQuery.event.remove(this,types,fn,selector)})},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},live:function(types,data,fn){jQuery(this.context).on(types,this.selector,data,fn);return this},die:function(types,fn){jQuery(this.context).off(types,this.selector||"**",fn);return this},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return arguments.length==1?this.off(selector,"**"):this.off(types,selector,fn)},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){if(this[0]){return jQuery.event.trigger(type,data,this[0],true)}},toggle:function(fn){var args=arguments,guid=fn.guid||jQuery.guid++,i=0,toggler=function(event){var lastToggle=(jQuery._data(this,"lastToggle"+fn.guid)||0)%i;jQuery._data(this,"lastToggle"+fn.guid,lastToggle+1);event.preventDefault();return args[lastToggle].apply(this,arguments)||false};toggler.guid=guid;while(i<args.length){args[i++].guid=guid}return this.click(toggler)},hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)}});jQuery.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){jQuery.fn[name]=function(data,fn){if(fn==null){fn=data;data=null}return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)};if(jQuery.attrFn){jQuery.attrFn[name]=true}if(rkeyEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.keyHooks}if(rmouseEvent.test(name)){jQuery.event.fixHooks[name]=jQuery.event.mouseHooks}});
/*
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var chunker=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,expando="sizcache"+(Math.random()+"").replace(".",""),done=0,toString=Object.prototype.toString,hasDuplicate=false,baseHasDuplicate=true,rBackslash=/\\/g,rReturn=/\r\n/g,rNonWord=/\W/;[0,0].sort(function(){baseHasDuplicate=false;return 0});var Sizzle=function(selector,context,results,seed){results=results||[];context=context||document;var origContext=context;if(context.nodeType!==1&&context.nodeType!==9){return[]}if(!selector||typeof selector!=="string"){return results}var m,set,checkSet,extra,ret,cur,pop,i,prune=true,contextXML=Sizzle.isXML(context),parts=[],soFar=selector;do{chunker.exec("");m=chunker.exec(soFar);if(m){soFar=m[3];parts.push(m[1]);if(m[2]){extra=m[3];break}}}while(m);if(parts.length>1&&origPOS.exec(selector)){if(parts.length===2&&Expr.relative[parts[0]]){set=posProcess(parts[0]+parts[1],context,seed)}else{set=Expr.relative[parts[0]]?[context]:Sizzle(parts.shift(),context);while(parts.length){selector=parts.shift();if(Expr.relative[selector]){selector+=parts.shift()}set=posProcess(selector,set,seed)}}}else{if(!seed&&parts.length>1&&context.nodeType===9&&!contextXML&&Expr.match.ID.test(parts[0])&&!Expr.match.ID.test(parts[parts.length-1])){ret=Sizzle.find(parts.shift(),context,contextXML);context=ret.expr?Sizzle.filter(ret.expr,ret.set)[0]:ret.set[0]}if(context){ret=seed?{expr:parts.pop(),set:makeArray(seed)}:Sizzle.find(parts.pop(),parts.length===1&&(parts[0]==="~"||parts[0]==="+")&&context.parentNode?context.parentNode:context,contextXML);set=ret.expr?Sizzle.filter(ret.expr,ret.set):ret.set;if(parts.length>0){checkSet=makeArray(set)}else{prune=false}while(parts.length){cur=parts.pop();pop=cur;if(!Expr.relative[cur]){cur=""}else{pop=parts.pop()}if(pop==null){pop=context}Expr.relative[cur](checkSet,pop,contextXML)}}else{checkSet=parts=[]}}if(!checkSet){checkSet=set}if(!checkSet){Sizzle.error(cur||selector)}if(toString.call(checkSet)==="[object Array]"){if(!prune){results.push.apply(results,checkSet)}else{if(context&&context.nodeType===1){for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&(checkSet[i]===true||checkSet[i].nodeType===1&&Sizzle.contains(context,checkSet[i]))){results.push(set[i])}}}else{for(i=0;checkSet[i]!=null;i++){if(checkSet[i]&&checkSet[i].nodeType===1){results.push(set[i])}}}}}else{makeArray(checkSet,results)}if(extra){Sizzle(extra,origContext,results,seed);Sizzle.uniqueSort(results)}return results};Sizzle.uniqueSort=function(results){if(sortOrder){hasDuplicate=baseHasDuplicate;results.sort(sortOrder);if(hasDuplicate){for(var i=1;i<results.length;i++){if(results[i]===results[i-1]){results.splice(i--,1)}}}}return results};Sizzle.matches=function(expr,set){return Sizzle(expr,null,null,set)};Sizzle.matchesSelector=function(node,expr){return Sizzle(expr,null,null,[node]).length>0};Sizzle.find=function(expr,context,isXML){var set,i,len,match,type,left;if(!expr){return[]}for(i=0,len=Expr.order.length;i<len;i++){type=Expr.order[i];if((match=Expr.leftMatch[type].exec(expr))){left=match[1];match.splice(1,1);if(left.substr(left.length-1)!=="\\"){match[1]=(match[1]||"").replace(rBackslash,"");set=Expr.find[type](match,context,isXML);if(set!=null){expr=expr.replace(Expr.match[type],"");break}}}}if(!set){set=typeof context.getElementsByTagName!=="undefined"?context.getElementsByTagName("*"):[]}return{set:set,expr:expr}};Sizzle.filter=function(expr,set,inplace,not){var match,anyFound,type,found,item,filter,left,i,pass,old=expr,result=[],curLoop=set,isXMLFilter=set&&set[0]&&Sizzle.isXML(set[0]);while(expr&&set.length){for(type in Expr.filter){if((match=Expr.leftMatch[type].exec(expr))!=null&&match[2]){filter=Expr.filter[type];left=match[1];anyFound=false;match.splice(1,1);if(left.substr(left.length-1)==="\\"){continue}if(curLoop===result){result=[]}if(Expr.preFilter[type]){match=Expr.preFilter[type](match,curLoop,inplace,result,not,isXMLFilter);if(!match){anyFound=found=true}else{if(match===true){continue}}}if(match){for(i=0;(item=curLoop[i])!=null;i++){if(item){found=filter(item,match,i,curLoop);pass=not^found;if(inplace&&found!=null){if(pass){anyFound=true}else{curLoop[i]=false}}else{if(pass){result.push(item);anyFound=true}}}}}if(found!==undefined){if(!inplace){curLoop=result}expr=expr.replace(Expr.match[type],"");if(!anyFound){return[]}break}}}if(expr===old){if(anyFound==null){Sizzle.error(expr)}else{break}}old=expr}return curLoop};Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)};var getText=Sizzle.getText=function(elem){var i,node,nodeType=elem.nodeType,ret="";if(nodeType){if(nodeType===1||nodeType===9){if(typeof elem.textContent==="string"){return elem.textContent}else{if(typeof elem.innerText==="string"){return elem.innerText.replace(rReturn,"")}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=getText(elem)}}}}else{if(nodeType===3||nodeType===4){return elem.nodeValue}}}else{for(i=0;(node=elem[i]);i++){if(node.nodeType!==8){ret+=getText(node)}}}return ret};var Expr=Sizzle.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(elem){return elem.getAttribute("href")},type:function(elem){return elem.getAttribute("type")}},relative:{"+":function(checkSet,part){var isPartStr=typeof part==="string",isTag=isPartStr&&!rNonWord.test(part),isPartStrNotTag=isPartStr&&!isTag;if(isTag){part=part.toLowerCase()}for(var i=0,l=checkSet.length,elem;i<l;i++){if((elem=checkSet[i])){while((elem=elem.previousSibling)&&elem.nodeType!==1){}checkSet[i]=isPartStrNotTag||elem&&elem.nodeName.toLowerCase()===part?elem||false:elem===part}}if(isPartStrNotTag){Sizzle.filter(part,checkSet,true)}},">":function(checkSet,part){var elem,isPartStr=typeof part==="string",i=0,l=checkSet.length;if(isPartStr&&!rNonWord.test(part)){part=part.toLowerCase();for(;i<l;i++){elem=checkSet[i];if(elem){var parent=elem.parentNode;checkSet[i]=parent.nodeName.toLowerCase()===part?parent:false}}}else{for(;i<l;i++){elem=checkSet[i];if(elem){checkSet[i]=isPartStr?elem.parentNode:elem.parentNode===part}}if(isPartStr){Sizzle.filter(part,checkSet,true)}}},"":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck}checkFn("parentNode",part,doneName,checkSet,nodeCheck,isXML)},"~":function(checkSet,part,isXML){var nodeCheck,doneName=done++,checkFn=dirCheck;if(typeof part==="string"&&!rNonWord.test(part)){part=part.toLowerCase();nodeCheck=part;checkFn=dirNodeCheck}checkFn("previousSibling",part,doneName,checkSet,nodeCheck,isXML)}},find:{ID:function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m&&m.parentNode?[m]:[]}},NAME:function(match,context){if(typeof context.getElementsByName!=="undefined"){var ret=[],results=context.getElementsByName(match[1]);for(var i=0,l=results.length;i<l;i++){if(results[i].getAttribute("name")===match[1]){ret.push(results[i])}}return ret.length===0?null:ret}},TAG:function(match,context){if(typeof context.getElementsByTagName!=="undefined"){return context.getElementsByTagName(match[1])}}},preFilter:{CLASS:function(match,curLoop,inplace,result,not,isXML){match=" "+match[1].replace(rBackslash,"")+" ";if(isXML){return match}for(var i=0,elem;(elem=curLoop[i])!=null;i++){if(elem){if(not^(elem.className&&(" "+elem.className+" ").replace(/[\t\n\r]/g," ").indexOf(match)>=0)){if(!inplace){result.push(elem)}}else{if(inplace){curLoop[i]=false}}}}return false},ID:function(match){return match[1].replace(rBackslash,"")},TAG:function(match,curLoop){return match[1].replace(rBackslash,"").toLowerCase()},CHILD:function(match){if(match[1]==="nth"){if(!match[2]){Sizzle.error(match[0])}match[2]=match[2].replace(/^\+|\s*/g,"");var test=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(match[2]==="even"&&"2n"||match[2]==="odd"&&"2n+1"||!/\D/.test(match[2])&&"0n+"+match[2]||match[2]);match[2]=(test[1]+(test[2]||1))-0;match[3]=test[3]-0}else{if(match[2]){Sizzle.error(match[0])}}match[0]=done++;return match},ATTR:function(match,curLoop,inplace,result,not,isXML){var name=match[1]=match[1].replace(rBackslash,"");if(!isXML&&Expr.attrMap[name]){match[1]=Expr.attrMap[name]}match[4]=(match[4]||match[5]||"").replace(rBackslash,"");if(match[2]==="~="){match[4]=" "+match[4]+" "}return match},PSEUDO:function(match,curLoop,inplace,result,not){if(match[1]==="not"){if((chunker.exec(match[3])||"").length>1||/^\w/.test(match[3])){match[3]=Sizzle(match[3],null,null,curLoop)}else{var ret=Sizzle.filter(match[3],curLoop,inplace,true^not);if(!inplace){result.push.apply(result,ret)}return false}}else{if(Expr.match.POS.test(match[0])||Expr.match.CHILD.test(match[0])){return true}}return match},POS:function(match){match.unshift(true);return match}},filters:{enabled:function(elem){return elem.disabled===false&&elem.type!=="hidden"},disabled:function(elem){return elem.disabled===true},checked:function(elem){return elem.checked===true},selected:function(elem){if(elem.parentNode){elem.parentNode.selectedIndex}return elem.selected===true},parent:function(elem){return !!elem.firstChild},empty:function(elem){return !elem.firstChild},has:function(elem,i,match){return !!Sizzle(match[3],elem).length},header:function(elem){return(/h\d/i).test(elem.nodeName)},text:function(elem){var attr=elem.getAttribute("type"),type=elem.type;return elem.nodeName.toLowerCase()==="input"&&"text"===type&&(attr===type||attr===null)},radio:function(elem){return elem.nodeName.toLowerCase()==="input"&&"radio"===elem.type},checkbox:function(elem){return elem.nodeName.toLowerCase()==="input"&&"checkbox"===elem.type},file:function(elem){return elem.nodeName.toLowerCase()==="input"&&"file"===elem.type},password:function(elem){return elem.nodeName.toLowerCase()==="input"&&"password"===elem.type},submit:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"submit"===elem.type},image:function(elem){return elem.nodeName.toLowerCase()==="input"&&"image"===elem.type},reset:function(elem){var name=elem.nodeName.toLowerCase();return(name==="input"||name==="button")&&"reset"===elem.type},button:function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&"button"===elem.type||name==="button"},input:function(elem){return(/input|select|textarea|button/i).test(elem.nodeName)},focus:function(elem){return elem===elem.ownerDocument.activeElement}},setFilters:{first:function(elem,i){return i===0},last:function(elem,i,match,array){return i===array.length-1},even:function(elem,i){return i%2===0},odd:function(elem,i){return i%2===1},lt:function(elem,i,match){return i<match[3]-0},gt:function(elem,i,match){return i>match[3]-0},nth:function(elem,i,match){return match[3]-0===i},eq:function(elem,i,match){return match[3]-0===i}},filter:{PSEUDO:function(elem,match,i,array){var name=match[1],filter=Expr.filters[name];if(filter){return filter(elem,i,match,array)}else{if(name==="contains"){return(elem.textContent||elem.innerText||getText([elem])||"").indexOf(match[3])>=0}else{if(name==="not"){var not=match[3];for(var j=0,l=not.length;j<l;j++){if(not[j]===elem){return false}}return true}else{Sizzle.error(name)}}}},CHILD:function(elem,match){var first,last,doneName,parent,cache,count,diff,type=match[1],node=elem;switch(type){case"only":case"first":while((node=node.previousSibling)){if(node.nodeType===1){return false}}if(type==="first"){return true}node=elem;case"last":while((node=node.nextSibling)){if(node.nodeType===1){return false}}return true;case"nth":first=match[2];last=match[3];if(first===1&&last===0){return true}doneName=match[0];parent=elem.parentNode;if(parent&&(parent[expando]!==doneName||!elem.nodeIndex)){count=0;for(node=parent.firstChild;node;node=node.nextSibling){if(node.nodeType===1){node.nodeIndex=++count}}parent[expando]=doneName}diff=elem.nodeIndex-last;if(first===0){return diff===0}else{return(diff%first===0&&diff/first>=0)}}},ID:function(elem,match){return elem.nodeType===1&&elem.getAttribute("id")===match},TAG:function(elem,match){return(match==="*"&&elem.nodeType===1)||!!elem.nodeName&&elem.nodeName.toLowerCase()===match},CLASS:function(elem,match){return(" "+(elem.className||elem.getAttribute("class"))+" ").indexOf(match)>-1},ATTR:function(elem,match){var name=match[1],result=Sizzle.attr?Sizzle.attr(elem,name):Expr.attrHandle[name]?Expr.attrHandle[name](elem):elem[name]!=null?elem[name]:elem.getAttribute(name),value=result+"",type=match[2],check=match[4];return result==null?type==="!=":!type&&Sizzle.attr?result!=null:type==="="?value===check:type==="*="?value.indexOf(check)>=0:type==="~="?(" "+value+" ").indexOf(check)>=0:!check?value&&result!==false:type==="!="?value!==check:type==="^="?value.indexOf(check)===0:type==="$="?value.substr(value.length-check.length)===check:type==="|="?value===check||value.substr(0,check.length+1)===check+"-":false},POS:function(elem,match,i,array){var name=match[2],filter=Expr.setFilters[name];if(filter){return filter(elem,i,match,array)}}}};var origPOS=Expr.match.POS,fescape=function(all,num){return"\\"+(num-0+1)};for(var type in Expr.match){Expr.match[type]=new RegExp(Expr.match[type].source+(/(?![^\[]*\])(?![^\(]*\))/.source));Expr.leftMatch[type]=new RegExp(/(^(?:.|\r|\n)*?)/.source+Expr.match[type].source.replace(/\\(\d+)/g,fescape))}var makeArray=function(array,results){array=Array.prototype.slice.call(array,0);if(results){results.push.apply(results,array);return results}return array};try{Array.prototype.slice.call(document.documentElement.childNodes,0)[0].nodeType}catch(e){makeArray=function(array,results){var i=0,ret=results||[];if(toString.call(array)==="[object Array]"){Array.prototype.push.apply(ret,array)}else{if(typeof array.length==="number"){for(var l=array.length;i<l;i++){ret.push(array[i])}}else{for(;array[i];i++){ret.push(array[i])}}}return ret}}var sortOrder,siblingCheck;if(document.documentElement.compareDocumentPosition){sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition){return a.compareDocumentPosition?-1:1}return a.compareDocumentPosition(b)&4?-1:1}}else{sortOrder=function(a,b){if(a===b){hasDuplicate=true;return 0}else{if(a.sourceIndex&&b.sourceIndex){return a.sourceIndex-b.sourceIndex}}var al,bl,ap=[],bp=[],aup=a.parentNode,bup=b.parentNode,cur=aup;if(aup===bup){return siblingCheck(a,b)}else{if(!aup){return -1}else{if(!bup){return 1}}}while(cur){ap.unshift(cur);cur=cur.parentNode}cur=bup;while(cur){bp.unshift(cur);cur=cur.parentNode}al=ap.length;bl=bp.length;for(var i=0;i<al&&i<bl;i++){if(ap[i]!==bp[i]){return siblingCheck(ap[i],bp[i])}}return i===al?siblingCheck(a,bp[i],-1):siblingCheck(ap[i],b,1)};siblingCheck=function(a,b,ret){if(a===b){return ret}var cur=a.nextSibling;while(cur){if(cur===b){return -1}cur=cur.nextSibling}return 1}}(function(){var form=document.createElement("div"),id="script"+(new Date()).getTime(),root=document.documentElement;form.innerHTML="<a name='"+id+"'/>";root.insertBefore(form,root.firstChild);if(document.getElementById(id)){Expr.find.ID=function(match,context,isXML){if(typeof context.getElementById!=="undefined"&&!isXML){var m=context.getElementById(match[1]);return m?m.id===match[1]||typeof m.getAttributeNode!=="undefined"&&m.getAttributeNode("id").nodeValue===match[1]?[m]:undefined:[]}};Expr.filter.ID=function(elem,match){var node=typeof elem.getAttributeNode!=="undefined"&&elem.getAttributeNode("id");return elem.nodeType===1&&node&&node.nodeValue===match}}root.removeChild(form);root=form=null})();(function(){var div=document.createElement("div");div.appendChild(document.createComment(""));if(div.getElementsByTagName("*").length>0){Expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==="*"){var tmp=[];for(var i=0;results[i];i++){if(results[i].nodeType===1){tmp.push(results[i])}}results=tmp}return results}}div.innerHTML="<a href='#'></a>";if(div.firstChild&&typeof div.firstChild.getAttribute!=="undefined"&&div.firstChild.getAttribute("href")!=="#"){Expr.attrHandle.href=function(elem){return elem.getAttribute("href",2)}}div=null})();if(document.querySelectorAll){(function(){var oldSizzle=Sizzle,div=document.createElement("div"),id="__sizzle__";div.innerHTML="<p class='TEST'></p>";if(div.querySelectorAll&&div.querySelectorAll(".TEST").length===0){return }Sizzle=function(query,context,extra,seed){context=context||document;if(!seed&&!Sizzle.isXML(context)){var match=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(query);if(match&&(context.nodeType===1||context.nodeType===9)){if(match[1]){return makeArray(context.getElementsByTagName(query),extra)}else{if(match[2]&&Expr.find.CLASS&&context.getElementsByClassName){return makeArray(context.getElementsByClassName(match[2]),extra)}}}if(context.nodeType===9){if(query==="body"&&context.body){return makeArray([context.body],extra)}else{if(match&&match[3]){var elem=context.getElementById(match[3]);if(elem&&elem.parentNode){if(elem.id===match[3]){return makeArray([elem],extra)}}else{return makeArray([],extra)}}}try{return makeArray(context.querySelectorAll(query),extra)}catch(qsaError){}}else{if(context.nodeType===1&&context.nodeName.toLowerCase()!=="object"){var oldContext=context,old=context.getAttribute("id"),nid=old||id,hasParent=context.parentNode,relativeHierarchySelector=/^\s*[+~]/.test(query);if(!old){context.setAttribute("id",nid)}else{nid=nid.replace(/'/g,"\\$&")}if(relativeHierarchySelector&&hasParent){context=context.parentNode}try{if(!relativeHierarchySelector||hasParent){return makeArray(context.querySelectorAll("[id='"+nid+"'] "+query),extra)}}catch(pseudoError){}finally{if(!old){oldContext.removeAttribute("id")}}}}}return oldSizzle(query,context,extra,seed)};for(var prop in oldSizzle){Sizzle[prop]=oldSizzle[prop]}div=null})()}(function(){var html=document.documentElement,matches=html.matchesSelector||html.mozMatchesSelector||html.webkitMatchesSelector||html.msMatchesSelector;if(matches){var disconnectedMatch=!matches.call(document.createElement("div"),"div"),pseudoWorks=false;try{matches.call(document.documentElement,"[test!='']:sizzle")}catch(pseudoError){pseudoWorks=true}Sizzle.matchesSelector=function(node,expr){expr=expr.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!Sizzle.isXML(node)){try{if(pseudoWorks||!Expr.match.PSEUDO.test(expr)&&!/!=/.test(expr)){var ret=matches.call(node,expr);if(ret||!disconnectedMatch||node.document&&node.document.nodeType!==11){return ret}}}catch(e){}}return Sizzle(expr,null,null,[node]).length>0}}})();(function(){var div=document.createElement("div");div.innerHTML="<div class='test e'></div><div class='test'></div>";if(!div.getElementsByClassName||div.getElementsByClassName("e").length===0){return }div.lastChild.className="e";if(div.getElementsByClassName("e").length===1){return }Expr.order.splice(1,0,"CLASS");Expr.find.CLASS=function(match,context,isXML){if(typeof context.getElementsByClassName!=="undefined"&&!isXML){return context.getElementsByClassName(match[1])}};div=null})();function dirNodeCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1&&!isXML){elem[expando]=doneName;elem.sizset=i}if(elem.nodeName.toLowerCase()===cur){match=elem;break}elem=elem[dir]}checkSet[i]=match}}}function dirCheck(dir,cur,doneName,checkSet,nodeCheck,isXML){for(var i=0,l=checkSet.length;i<l;i++){var elem=checkSet[i];if(elem){var match=false;elem=elem[dir];while(elem){if(elem[expando]===doneName){match=checkSet[elem.sizset];break}if(elem.nodeType===1){if(!isXML){elem[expando]=doneName;elem.sizset=i}if(typeof cur!=="string"){if(elem===cur){match=true;break}}else{if(Sizzle.filter(cur,[elem]).length>0){match=elem;break}}}elem=elem[dir]}checkSet[i]=match}}}if(document.documentElement.contains){Sizzle.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):true)}}else{if(document.documentElement.compareDocumentPosition){Sizzle.contains=function(a,b){return !!(a.compareDocumentPosition(b)&16)}}else{Sizzle.contains=function(){return false}}}Sizzle.isXML=function(elem){var documentElement=(elem?elem.ownerDocument||elem:0).documentElement;return documentElement?documentElement.nodeName!=="HTML":false};var posProcess=function(selector,context,seed){var match,tmpSet=[],later="",root=context.nodeType?[context]:context;while((match=Expr.match.PSEUDO.exec(selector))){later+=match[0];selector=selector.replace(Expr.match.PSEUDO,"")}selector=Expr.relative[selector]?selector+"*":selector;for(var i=0,l=root.length;i<l;i++){Sizzle(selector,root[i],tmpSet,seed)}return Sizzle.filter(later,tmpSet)};Sizzle.attr=jQuery.attr;Sizzle.selectors.attrMap={};jQuery.find=Sizzle;jQuery.expr=Sizzle.selectors;jQuery.expr[":"]=jQuery.expr.filters;jQuery.unique=Sizzle.uniqueSort;jQuery.text=Sizzle.getText;jQuery.isXMLDoc=Sizzle.isXML;jQuery.contains=Sizzle.contains})();var runtil=/Until$/,rparentsprev=/^(?:parents|prevUntil|prevAll)/,rmultiselector=/,/,isSimple=/^.[^:#\[\.,]*$/,slice=Array.prototype.slice,POS=jQuery.expr.match.POS,guaranteedUnique={children:true,contents:true,next:true,prev:true};jQuery.fn.extend({find:function(selector){var self=this,i,l;if(typeof selector!=="string"){return jQuery(selector).filter(function(){for(i=0,l=self.length;i<l;i++){if(jQuery.contains(self[i],this)){return true}}})}var ret=this.pushStack("","find",selector),length,n,r;for(i=0,l=this.length;i<l;i++){length=ret.length;jQuery.find(selector,this[i],ret);if(i>0){for(n=length;n<ret.length;n++){for(r=0;r<length;r++){if(ret[r]===ret[n]){ret.splice(n--,1);break}}}}}return ret},has:function(target){var targets=jQuery(target);return this.filter(function(){for(var i=0,l=targets.length;i<l;i++){if(jQuery.contains(this,targets[i])){return true}}})},not:function(selector){return this.pushStack(winnow(this,selector,false),"not",selector)},filter:function(selector){return this.pushStack(winnow(this,selector,true),"filter",selector)},is:function(selector){return !!selector&&(typeof selector==="string"?POS.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){var ret=[],i,l,cur=this[0];if(jQuery.isArray(selectors)){var level=1;while(cur&&cur.ownerDocument&&cur!==context){for(i=0;i<selectors.length;i++){if(jQuery(cur).is(selectors[i])){ret.push({selector:selectors[i],elem:cur,level:level})}}cur=cur.parentNode;level++}return ret}var pos=POS.test(selectors)||typeof selectors!=="string"?jQuery(selectors,context||this.context):0;for(i=0,l=this.length;i<l;i++){cur=this[i];while(cur){if(pos?pos.index(cur)>-1:jQuery.find.matchesSelector(cur,selectors)){ret.push(cur);break}else{cur=cur.parentNode;if(!cur||!cur.ownerDocument||cur===context||cur.nodeType===11){break}}}}ret=ret.length>1?jQuery.unique(ret):ret;return this.pushStack(ret,"closest",selectors)},index:function(elem){if(!elem){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof elem==="string"){return jQuery.inArray(this[0],jQuery(elem))}return jQuery.inArray(elem.jquery?elem[0]:elem,this)},add:function(selector,context){var set=typeof selector==="string"?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(isDisconnected(set[0])||isDisconnected(all[0])?all:jQuery.unique(all))},andSelf:function(){return this.add(this.prevObject)}});function isDisconnected(node){return !node||!node.parentNode||node.parentNode.nodeType===11}jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&parent.nodeType!==11?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return jQuery.nth(elem,2,"nextSibling")},prev:function(elem){return jQuery.nth(elem,2,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling(elem.parentNode.firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.makeArray(elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);if(!runtil.test(name)){selector=until}if(selector&&typeof selector==="string"){ret=jQuery.filter(selector,ret)}ret=this.length>1&&!guaranteedUnique[name]?jQuery.unique(ret):ret;if((this.length>1||rmultiselector.test(selector))&&rparentsprev.test(name)){ret=ret.reverse()}return this.pushStack(ret,name,slice.call(arguments).join(","))}});jQuery.extend({filter:function(expr,elems,not){if(not){expr=":not("+expr+")"}return elems.length===1?jQuery.find.matchesSelector(elems[0],expr)?[elems[0]]:[]:jQuery.find.matches(expr,elems)},dir:function(elem,dir,until){var matched=[],cur=elem[dir];while(cur&&cur.nodeType!==9&&(until===undefined||cur.nodeType!==1||!jQuery(cur).is(until))){if(cur.nodeType===1){matched.push(cur)}cur=cur[dir]}return matched},nth:function(cur,result,dir,elem){result=result||1;var num=0;for(;cur;cur=cur[dir]){if(cur.nodeType===1&&++num===result){break}}return cur},sibling:function(n,elem){var r=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){r.push(n)}}return r}});function winnow(elements,qualifier,keep){qualifier=qualifier||0;if(jQuery.isFunction(qualifier)){return jQuery.grep(elements,function(elem,i){var retVal=!!qualifier.call(elem,i,elem);return retVal===keep})}else{if(qualifier.nodeType){return jQuery.grep(elements,function(elem,i){return(elem===qualifier)===keep})}else{if(typeof qualifier==="string"){var filtered=jQuery.grep(elements,function(elem){return elem.nodeType===1});if(isSimple.test(qualifier)){return jQuery.filter(qualifier,filtered,!keep)}else{qualifier=jQuery.filter(qualifier,filtered)}}}}return jQuery.grep(elements,function(elem,i){return(jQuery.inArray(elem,qualifier)>=0)===keep})}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement){while(list.length){safeFrag.createElement(list.pop())}}return safeFrag}var nodeNames="abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:\d+|null)"/g,rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style)/i,rnocache=/<(?:script|object|embed|option|style)/i,rnoshimcache=new RegExp("<(?:"+nodeNames+")","i"),rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/\/(java|ecma)script/i,rcleanScript=/^\s*<!(?:\[CDATA\[|\-\-)/,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},safeFragment=createSafeFragment(document);wrapMap.optgroup=wrapMap.option;wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead;wrapMap.th=wrapMap.td;if(!jQuery.support.htmlSerialize){wrapMap._default=[1,"div<div>","</div>"]}jQuery.fn.extend({text:function(text){if(jQuery.isFunction(text)){return this.each(function(i){var self=jQuery(this);self.text(text.call(this,i,self.text()))})}if(typeof text!=="object"&&text!==undefined){return this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(text))}return jQuery.text(this)},wrapAll:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))})}if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0])}wrap.map(function(){var elem=this;while(elem.firstChild&&elem.firstChild.nodeType===1){elem=elem.firstChild}return elem}).append(this)}return this},wrapInner:function(html){if(jQuery.isFunction(html)){return this.each(function(i){jQuery(this).wrapInner(html.call(this,i))})}return this.each(function(){var self=jQuery(this),contents=self.contents();if(contents.length){contents.wrapAll(html)}else{self.append(html)}})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){if(!jQuery.nodeName(this,"body")){jQuery(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,true,function(elem){if(this.nodeType===1){this.insertBefore(elem,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this)})}else{if(arguments.length){var set=jQuery.clean(arguments);set.push.apply(set,this.toArray());return this.pushStack(set,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(elem){this.parentNode.insertBefore(elem,this.nextSibling)})}else{if(arguments.length){var set=this.pushStack(this,"after",arguments);set.push.apply(set,jQuery.clean(arguments));return set}}},remove:function(selector,keepData){for(var i=0,elem;(elem=this[i])!=null;i++){if(!selector||jQuery.filter(selector,[elem]).length){if(!keepData&&elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"));jQuery.cleanData([elem])}if(elem.parentNode){elem.parentNode.removeChild(elem)}}}return this},empty:function(){for(var i=0,elem;(elem=this[i])!=null;i++){if(elem.nodeType===1){jQuery.cleanData(elem.getElementsByTagName("*"))}while(elem.firstChild){elem.removeChild(elem.firstChild)}}return this},clone:function(dataAndEvents,deepDataAndEvents){dataAndEvents=dataAndEvents==null?false:dataAndEvents;deepDataAndEvents=deepDataAndEvents==null?dataAndEvents:deepDataAndEvents;return this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){if(value===undefined){return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(rinlinejQuery,""):null}else{if(typeof value==="string"&&!rnoInnerhtml.test(value)&&(jQuery.support.leadingWhitespace||!rleadingWhitespace.test(value))&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(var i=0,l=this.length;i<l;i++){if(this[i].nodeType===1){jQuery.cleanData(this[i].getElementsByTagName("*"));this[i].innerHTML=value}}}catch(e){this.empty().append(value)}}else{if(jQuery.isFunction(value)){this.each(function(i){var self=jQuery(this);self.html(value.call(this,i,self.html()))})}else{this.empty().append(value)}}}return this},replaceWith:function(value){if(this[0]&&this[0].parentNode){if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this),old=self.html();self.replaceWith(value.call(this,i,old))})}if(typeof value!=="string"){value=jQuery(value).detach()}return this.each(function(){var next=this.nextSibling,parent=this.parentNode;jQuery(this).remove();if(next){jQuery(next).before(value)}else{jQuery(parent).append(value)}})}else{return this.length?this.pushStack(jQuery(jQuery.isFunction(value)?value():value),"replaceWith",value):this}},detach:function(selector){return this.remove(selector,true)},domManip:function(args,table,callback){var results,first,fragment,parent,value=args[0],scripts=[];if(!jQuery.support.checkClone&&arguments.length===3&&typeof value==="string"&&rchecked.test(value)){return this.each(function(){jQuery(this).domManip(args,table,callback,true)})}if(jQuery.isFunction(value)){return this.each(function(i){var self=jQuery(this);args[0]=value.call(this,i,table?self.html():undefined);self.domManip(args,table,callback)})}if(this[0]){parent=value&&value.parentNode;if(jQuery.support.parentNode&&parent&&parent.nodeType===11&&parent.childNodes.length===this.length){results={fragment:parent}}else{results=jQuery.buildFragment(args,this,scripts)}fragment=results.fragment;if(fragment.childNodes.length===1){first=fragment=fragment.firstChild}else{first=fragment.firstChild}if(first){table=table&&jQuery.nodeName(first,"tr");for(var i=0,l=this.length,lastIndex=l-1;i<l;i++){callback.call(table?root(this[i],first):this[i],results.cacheable||(l>1&&i<lastIndex)?jQuery.clone(fragment,true,true):fragment)}}if(scripts.length){jQuery.each(scripts,evalScript)}}return this}});function root(elem,cur){return jQuery.nodeName(elem,"table")?(elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody"))):elem}function cloneCopyEvent(src,dest){if(dest.nodeType!==1||!jQuery.hasData(src)){return }var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle;curData.events={};for(type in events){for(i=0,l=events[type].length;i<l;i++){jQuery.event.add(dest,type+(events[type][i].namespace?".":"")+events[type][i].namespace,events[type][i],events[type][i].data)}}}if(curData.data){curData.data=jQuery.extend({},curData.data)}}function cloneFixAttributes(src,dest){var nodeName;if(dest.nodeType!==1){return }if(dest.clearAttributes){dest.clearAttributes()}if(dest.mergeAttributes){dest.mergeAttributes(src)}nodeName=dest.nodeName.toLowerCase();if(nodeName==="object"){dest.outerHTML=src.outerHTML}else{if(nodeName==="input"&&(src.type==="checkbox"||src.type==="radio")){if(src.checked){dest.defaultChecked=dest.checked=src.checked}if(dest.value!==src.value){dest.value=src.value}}else{if(nodeName==="option"){dest.selected=src.defaultSelected}else{if(nodeName==="input"||nodeName==="textarea"){dest.defaultValue=src.defaultValue}}}}dest.removeAttribute(jQuery.expando)}jQuery.buildFragment=function(args,nodes,scripts){var fragment,cacheable,cacheresults,doc,first=args[0];if(nodes&&nodes[0]){doc=nodes[0].ownerDocument||nodes[0]}if(!doc.createDocumentFragment){doc=document}if(args.length===1&&typeof first==="string"&&first.length<512&&doc===document&&first.charAt(0)==="<"&&!rnocache.test(first)&&(jQuery.support.checkClone||!rchecked.test(first))&&(jQuery.support.html5Clone||!rnoshimcache.test(first))){cacheable=true;cacheresults=jQuery.fragments[first];if(cacheresults&&cacheresults!==1){fragment=cacheresults}}if(!fragment){fragment=doc.createDocumentFragment();jQuery.clean(args,doc,fragment,scripts)}if(cacheable){jQuery.fragments[first]=cacheresults?fragment:1}return{fragment:fragment,cacheable:cacheable}};jQuery.fragments={};jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){var ret=[],insert=jQuery(selector),parent=this.length===1&&this[0].parentNode;if(parent&&parent.nodeType===11&&parent.childNodes.length===1&&insert.length===1){insert[original](this[0]);return this}else{for(var i=0,l=insert.length;i<l;i++){var elems=(i>0?this.clone(true):this).get();jQuery(insert[i])[original](elems);ret=ret.concat(elems)}return this.pushStack(ret,name,insert.selector)}}});function getAll(elem){if(typeof elem.getElementsByTagName!=="undefined"){return elem.getElementsByTagName("*")}else{if(typeof elem.querySelectorAll!=="undefined"){return elem.querySelectorAll("*")}else{return[]}}}function fixDefaultChecked(elem){if(elem.type==="checkbox"||elem.type==="radio"){elem.defaultChecked=elem.checked}}function findInputs(elem){var nodeName=(elem.nodeName||"").toLowerCase();if(nodeName==="input"){fixDefaultChecked(elem)}else{if(nodeName!=="script"&&typeof elem.getElementsByTagName!=="undefined"){jQuery.grep(elem.getElementsByTagName("input"),fixDefaultChecked)}}}function shimCloneNode(elem){var div=document.createElement("div");safeFragment.appendChild(div);div.innerHTML=elem.outerHTML;return div.firstChild}jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var srcElements,destElements,i,clone=jQuery.support.html5Clone||!rnoshimcache.test("<"+elem.nodeName)?elem.cloneNode(true):shimCloneNode(elem);if((!jQuery.support.noCloneEvent||!jQuery.support.noCloneChecked)&&(elem.nodeType===1||elem.nodeType===11)&&!jQuery.isXMLDoc(elem)){cloneFixAttributes(elem,clone);srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){if(destElements[i]){cloneFixAttributes(srcElements[i],destElements[i])}}}if(dataAndEvents){cloneCopyEvent(elem,clone);if(deepDataAndEvents){srcElements=getAll(elem);destElements=getAll(clone);for(i=0;srcElements[i];++i){cloneCopyEvent(srcElements[i],destElements[i])}}}srcElements=destElements=null;return clone},clean:function(elems,context,fragment,scripts){var checkScriptType;context=context||document;if(typeof context.createElement==="undefined"){context=context.ownerDocument||context[0]&&context[0].ownerDocument||document}var ret=[],j;for(var i=0,elem;(elem=elems[i])!=null;i++){if(typeof elem==="number"){elem+=""}if(!elem){continue}if(typeof elem==="string"){if(!rhtml.test(elem)){elem=context.createTextNode(elem)}else{elem=elem.replace(rxhtmlTag,"<$1></$2>");var tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,depth=wrap[0],div=context.createElement("div");if(context===document){safeFragment.appendChild(div)}else{createSafeFragment(context).appendChild(div)}div.innerHTML=wrap[1]+elem+wrap[2];while(depth--){div=div.lastChild}if(!jQuery.support.tbody){var hasBody=rtbody.test(elem),tbody=tag==="table"&&!hasBody?div.firstChild&&div.firstChild.childNodes:wrap[1]==="<table>"&&!hasBody?div.childNodes:[];for(j=tbody.length-1;j>=0;--j){if(jQuery.nodeName(tbody[j],"tbody")&&!tbody[j].childNodes.length){tbody[j].parentNode.removeChild(tbody[j])}}}if(!jQuery.support.leadingWhitespace&&rleadingWhitespace.test(elem)){div.insertBefore(context.createTextNode(rleadingWhitespace.exec(elem)[0]),div.firstChild)}elem=div.childNodes}}var len;if(!jQuery.support.appendChecked){if(elem[0]&&typeof (len=elem.length)==="number"){for(j=0;j<len;j++){findInputs(elem[j])}}else{findInputs(elem)}}if(elem.nodeType){ret.push(elem)}else{ret=jQuery.merge(ret,elem)}}if(fragment){checkScriptType=function(elem){return !elem.type||rscriptType.test(elem.type)};for(i=0;ret[i];i++){if(scripts&&jQuery.nodeName(ret[i],"script")&&(!ret[i].type||ret[i].type.toLowerCase()==="text/javascript")){scripts.push(ret[i].parentNode?ret[i].parentNode.removeChild(ret[i]):ret[i])}else{if(ret[i].nodeType===1){var jsTags=jQuery.grep(ret[i].getElementsByTagName("script"),checkScriptType);ret.splice.apply(ret,[i+1,0].concat(jsTags))}fragment.appendChild(ret[i])}}}return ret},cleanData:function(elems){var data,id,cache=jQuery.cache,special=jQuery.event.special,deleteExpando=jQuery.support.deleteExpando;for(var i=0,elem;(elem=elems[i])!=null;i++){if(elem.nodeName&&jQuery.noData[elem.nodeName.toLowerCase()]){continue}id=elem[jQuery.expando];if(id){data=cache[id];if(data&&data.events){for(var type in data.events){if(special[type]){jQuery.event.remove(elem,type)}else{jQuery.removeEvent(elem,type,data.handle)}}if(data.handle){data.handle.elem=null}}if(deleteExpando){delete elem[jQuery.expando]}else{if(elem.removeAttribute){elem.removeAttribute(jQuery.expando)}}delete cache[id]}}}});function evalScript(i,elem){if(elem.src){jQuery.ajax({url:elem.src,async:false,dataType:"script"})}else{jQuery.globalEval((elem.text||elem.textContent||elem.innerHTML||"").replace(rcleanScript,"/*$0*/"))}if(elem.parentNode){elem.parentNode.removeChild(elem)}}var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity=([^)]*)/,rupper=/([A-Z]|^ms)/g,rnumpx=/^-?\d+(?:px)?$/i,rnum=/^-?\d/,rrelNum=/^([\-+])=([\-+.\de]+)/,cssShow={position:"absolute",visibility:"hidden",display:"block"},cssWidth=["Left","Right"],cssHeight=["Top","Bottom"],curCSS,getComputedStyle,currentStyle;jQuery.fn.css=function(name,value){if(arguments.length===2&&value===undefined){return this}return jQuery.access(this,name,value,true,function(elem,name,value){return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)})};jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity","opacity");return ret===""?"1":ret}else{return elem.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":jQuery.support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return }var ret,type,origName=jQuery.camelCase(name),style=elem.style,hooks=jQuery.cssHooks[origName];name=jQuery.cssProps[origName]||origName;if(value!==undefined){type=typeof value;if(type==="string"&&(ret=rrelNum.exec(value))){value=(+(ret[1]+1)*+ret[2])+parseFloat(jQuery.css(elem,name));type="number"}if(value==null||type==="number"&&isNaN(value)){return }if(type==="number"&&!jQuery.cssNumber[origName]){value+="px"}if(!hooks||!("set" in hooks)||(value=hooks.set(elem,value))!==undefined){try{style[name]=value}catch(e){}}}else{if(hooks&&"get" in hooks&&(ret=hooks.get(elem,false,extra))!==undefined){return ret}return style[name]}},css:function(elem,name,extra){var ret,hooks;name=jQuery.camelCase(name);hooks=jQuery.cssHooks[name];name=jQuery.cssProps[name]||name;if(name==="cssFloat"){name="float"}if(hooks&&"get" in hooks&&(ret=hooks.get(elem,true,extra))!==undefined){return ret}else{if(curCSS){return curCSS(elem,name)}}},swap:function(elem,options,callback){var old={};for(var name in options){old[name]=elem.style[name];elem.style[name]=options[name]}callback.call(elem);for(name in options){elem.style[name]=old[name]}}});jQuery.curCSS=jQuery.css;jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){var val;if(computed){if(elem.offsetWidth!==0){return getWH(elem,name,extra)}else{jQuery.swap(elem,cssShow,function(){val=getWH(elem,name,extra)})}return val}},set:function(elem,value){if(rnumpx.test(value)){value=parseFloat(value);if(value>=0){return value+"px"}}else{return value}}}});if(!jQuery.support.opacity){jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+value*100+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1;if(value>=1&&jQuery.trim(filter.replace(ralpha,""))===""){style.removeAttribute("filter");if(currentStyle&&!currentStyle.filter){return }}style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity}}}jQuery(function(){if(!jQuery.support.reliableMarginRight){jQuery.cssHooks.marginRight={get:function(elem,computed){var ret;jQuery.swap(elem,{display:"inline-block"},function(){if(computed){ret=curCSS(elem,"margin-right","marginRight")}else{ret=elem.style.marginRight}});return ret}}}});if(document.defaultView&&document.defaultView.getComputedStyle){getComputedStyle=function(elem,name){var ret,defaultView,computedStyle;name=name.replace(rupper,"-$1").toLowerCase();if((defaultView=elem.ownerDocument.defaultView)&&(computedStyle=defaultView.getComputedStyle(elem,null))){ret=computedStyle.getPropertyValue(name);if(ret===""&&!jQuery.contains(elem.ownerDocument.documentElement,elem)){ret=jQuery.style(elem,name)}}return ret}}if(document.documentElement.currentStyle){currentStyle=function(elem,name){var left,rsLeft,uncomputed,ret=elem.currentStyle&&elem.currentStyle[name],style=elem.style;if(ret===null&&style&&(uncomputed=style[name])){ret=uncomputed}if(!rnumpx.test(ret)&&rnum.test(ret)){left=style.left;rsLeft=elem.runtimeStyle&&elem.runtimeStyle.left;if(rsLeft){elem.runtimeStyle.left=elem.currentStyle.left}style.left=name==="fontSize"?"1em":(ret||0);ret=style.pixelLeft+"px";style.left=left;if(rsLeft){elem.runtimeStyle.left=rsLeft}}return ret===""?"auto":ret}}curCSS=getComputedStyle||currentStyle;function getWH(elem,name,extra){var val=name==="width"?elem.offsetWidth:elem.offsetHeight,which=name==="width"?cssWidth:cssHeight,i=0,len=which.length;if(val>0){if(extra!=="border"){for(;i<len;i++){if(!extra){val-=parseFloat(jQuery.css(elem,"padding"+which[i]))||0}if(extra==="margin"){val+=parseFloat(jQuery.css(elem,extra+which[i]))||0}else{val-=parseFloat(jQuery.css(elem,"border"+which[i]+"Width"))||0}}}return val+"px"}val=curCSS(elem,name,name);if(val<0||val==null){val=elem.style[name]||0}val=parseFloat(val)||0;if(extra){for(;i<len;i++){val+=parseFloat(jQuery.css(elem,"padding"+which[i]))||0;if(extra!=="padding"){val+=parseFloat(jQuery.css(elem,"border"+which[i]+"Width"))||0}if(extra==="margin"){val+=parseFloat(jQuery.css(elem,extra+which[i]))||0}}}return val+"px"}if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.hidden=function(elem){var width=elem.offsetWidth,height=elem.offsetHeight;return(width===0&&height===0)||(!jQuery.support.reliableHiddenOffsets&&((elem.style&&elem.style.display)||jQuery.css(elem,"display"))==="none")};jQuery.expr.filters.visible=function(elem){return !jQuery.expr.filters.hidden(elem)}}var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rhash=/#.*$/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,rinput=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,rlocalProtocol=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rquery=/\?/,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,rselectTextarea=/^(?:select|textarea)/i,rspacesAjax=/\s+/,rts=/([?&])_=[^&]*/,rurl=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,_load=jQuery.fn.load,prefilters={},transports={},ajaxLocation,ajaxLocParts,allTypes=["*/"]+["*"];try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a");ajaxLocation.href="";ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){if(typeof dataTypeExpression!=="string"){func=dataTypeExpression;dataTypeExpression="*"}if(jQuery.isFunction(func)){var dataTypes=dataTypeExpression.toLowerCase().split(rspacesAjax),i=0,length=dataTypes.length,dataType,list,placeBefore;for(;i<length;i++){dataType=dataTypes[i];placeBefore=/^\+/.test(dataType);if(placeBefore){dataType=dataType.substr(1)||"*"}list=structure[dataType]=structure[dataType]||[];list[placeBefore?"unshift":"push"](func)}}}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,dataType,inspected){dataType=dataType||options.dataTypes[0];inspected=inspected||{};inspected[dataType]=true;var list=structure[dataType],i=0,length=list?list.length:0,executeOnly=(structure===prefilters),selection;for(;i<length&&(executeOnly||!selection);i++){selection=list[i](options,originalOptions,jqXHR);if(typeof selection==="string"){if(!executeOnly||inspected[selection]){selection=undefined}else{options.dataTypes.unshift(selection);selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,selection,inspected)}}}if((executeOnly||!selection)&&!inspected["*"]){selection=inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR,"*",inspected)}return selection}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==undefined){(flatOptions[key]?target:(deep||(deep={})))[key]=src[key]}}if(deep){jQuery.extend(true,target,deep)}}jQuery.fn.extend({load:function(url,params,callback){if(typeof url!=="string"&&_load){return _load.apply(this,arguments)}else{if(!this.length){return this}}var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var type="GET";if(params){if(jQuery.isFunction(params)){callback=params;params=undefined}else{if(typeof params==="object"){params=jQuery.param(params,jQuery.ajaxSettings.traditional);type="POST"}}}var self=this;jQuery.ajax({url:url,type:type,dataType:"html",data:params,complete:function(jqXHR,status,responseText){responseText=jqXHR.responseText;if(jqXHR.isResolved()){jqXHR.done(function(r){responseText=r});self.html(selector?jQuery("<div>").append(responseText.replace(rscript,"")).find(selector):responseText)}if(callback){self.each(callback,[responseText,status,jqXHR])}}});return this},serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||rselectTextarea.test(this.nodeName)||rinput.test(this.type))}).map(function(i,elem){var val=jQuery(this).val();return val==null?null:jQuery.isArray(val)?jQuery.map(val,function(val,i){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}});jQuery.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(i,o){jQuery.fn[o]=function(f){return this.on(o,f)}});jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){if(jQuery.isFunction(data)){type=type||callback;callback=data;data=undefined}return jQuery.ajax({type:method,url:url,data:data,success:callback,dataType:type})}});jQuery.extend({getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},ajaxSetup:function(target,settings){if(settings){ajaxExtend(target,jQuery.ajaxSettings)}else{settings=target;target=jQuery.ajaxSettings}ajaxExtend(target,settings);return target},ajaxSettings:{url:ajaxLocation,isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":allTypes},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":true,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){if(typeof url==="object"){options=url;url=undefined}options=options||{};var s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=callbackContext!==s&&(callbackContext.nodeType||callbackContext instanceof jQuery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},ifModifiedKey,requestHeaders={},requestHeadersNames={},responseHeadersString,responseHeaders,transport,timeoutTimer,parts,state=0,fireGlobals,i,jqXHR={readyState:0,setRequestHeader:function(name,value){if(!state){var lname=name.toLowerCase();name=requestHeadersNames[lname]=requestHeadersNames[lname]||name;requestHeaders[name]=value}return this},getAllResponseHeaders:function(){return state===2?responseHeadersString:null},getResponseHeader:function(key){var match;if(state===2){if(!responseHeaders){responseHeaders={};while((match=rheaders.exec(responseHeadersString))){responseHeaders[match[1].toLowerCase()]=match[2]}}match=responseHeaders[key.toLowerCase()]}return match===undefined?null:match},overrideMimeType:function(type){if(!state){s.mimeType=type}return this},abort:function(statusText){statusText=statusText||"abort";if(transport){transport.abort(statusText)}done(0,statusText);return this}};function done(status,nativeStatusText,responses,headers){if(state===2){return }state=2;if(timeoutTimer){clearTimeout(timeoutTimer)}transport=undefined;responseHeadersString=headers||"";jqXHR.readyState=status>0?4:0;var isSuccess,success,error,statusText=nativeStatusText,response=responses?ajaxHandleResponses(s,jqXHR,responses):undefined,lastModified,etag;if(status>=200&&status<300||status===304){if(s.ifModified){if((lastModified=jqXHR.getResponseHeader("Last-Modified"))){jQuery.lastModified[ifModifiedKey]=lastModified}if((etag=jqXHR.getResponseHeader("Etag"))){jQuery.etag[ifModifiedKey]=etag}}if(status===304){statusText="notmodified";isSuccess=true}else{try{success=ajaxConvert(s,response);statusText="success";isSuccess=true}catch(e){statusText="parsererror";error=e}}}else{error=statusText;if(!statusText||status){statusText="error";if(status<0){status=0}}}jqXHR.status=status;jqXHR.statusText=""+(nativeStatusText||statusText);if(isSuccess){deferred.resolveWith(callbackContext,[success,statusText,jqXHR])}else{deferred.rejectWith(callbackContext,[jqXHR,statusText,error])}jqXHR.statusCode(statusCode);statusCode=undefined;if(fireGlobals){globalEventContext.trigger("ajax"+(isSuccess?"Success":"Error"),[jqXHR,s,isSuccess?success:error])}completeDeferred.fireWith(callbackContext,[jqXHR,statusText]);if(fireGlobals){globalEventContext.trigger("ajaxComplete",[jqXHR,s]);if(!(--jQuery.active)){jQuery.event.trigger("ajaxStop")}}}deferred.promise(jqXHR);jqXHR.success=jqXHR.done;jqXHR.error=jqXHR.fail;jqXHR.complete=completeDeferred.add;jqXHR.statusCode=function(map){if(map){var tmp;if(state<2){for(tmp in map){statusCode[tmp]=[statusCode[tmp],map[tmp]]}}else{tmp=map[jqXHR.status];jqXHR.then(tmp,tmp)}}return this};s.url=((url||s.url)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//");s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().split(rspacesAjax);if(s.crossDomain==null){parts=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(parts&&(parts[1]!=ajaxLocParts[1]||parts[2]!=ajaxLocParts[2]||(parts[3]||(parts[1]==="http:"?80:443))!=(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?80:443))))}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=jQuery.param(s.data,s.traditional)}inspectPrefiltersOrTransports(prefilters,s,options,jqXHR);if(state===2){return false}fireGlobals=s.global;s.type=s.type.toUpperCase();s.hasContent=!rnoContent.test(s.type);if(fireGlobals&&jQuery.active++===0){jQuery.event.trigger("ajaxStart")}if(!s.hasContent){if(s.data){s.url+=(rquery.test(s.url)?"&":"?")+s.data;delete s.data}ifModifiedKey=s.url;if(s.cache===false){var ts=jQuery.now(),ret=s.url.replace(rts,"$1_="+ts);s.url=ret+((ret===s.url)?(rquery.test(s.url)?"&":"?")+"_="+ts:"")}}if(s.data&&s.hasContent&&s.contentType!==false||options.contentType){jqXHR.setRequestHeader("Content-Type",s.contentType)}if(s.ifModified){ifModifiedKey=ifModifiedKey||s.url;if(jQuery.lastModified[ifModifiedKey]){jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[ifModifiedKey])}if(jQuery.etag[ifModifiedKey]){jqXHR.setRequestHeader("If-None-Match",jQuery.etag[ifModifiedKey])}}jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){jqXHR.setRequestHeader(i,s.headers[i])}if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===false||state===2)){jqXHR.abort();return false}for(i in {success:1,error:1,complete:1}){jqXHR[i](s[i])}transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR);if(!transport){done(-1,"No Transport")}else{jqXHR.readyState=1;if(fireGlobals){globalEventContext.trigger("ajaxSend",[jqXHR,s])}if(s.async&&s.timeout>0){timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout)}try{state=1;transport.send(requestHeaders,done)}catch(e){if(state<2){done(-1,e)}else{throw e}}}return jqXHR},param:function(a,traditional){var s=[],add=function(key,value){value=jQuery.isFunction(value)?value():value;s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined){traditional=jQuery.ajaxSettings.traditional}if(jQuery.isArray(a)||(a.jquery&&!jQuery.isPlainObject(a))){jQuery.each(a,function(){add(this.name,this.value)})}else{for(var prefix in a){buildParams(prefix,a[prefix],traditional,add)}}return s.join("&").replace(r20,"+")}});function buildParams(prefix,obj,traditional,add){if(jQuery.isArray(obj)){jQuery.each(obj,function(i,v){if(traditional||rbracket.test(prefix)){add(prefix,v)}else{buildParams(prefix+"["+(typeof v==="object"||jQuery.isArray(v)?i:"")+"]",v,traditional,add)}})}else{if(!traditional&&obj!=null&&typeof obj==="object"){for(var name in obj){buildParams(prefix+"["+name+"]",obj[name],traditional,add)}}else{add(prefix,obj)}}}jQuery.extend({active:0,lastModified:{},etag:{}});function ajaxHandleResponses(s,jqXHR,responses){var contents=s.contents,dataTypes=s.dataTypes,responseFields=s.responseFields,ct,type,finalDataType,firstDataType;for(type in responseFields){if(type in responses){jqXHR[responseFields[type]]=responses[type]}}while(dataTypes[0]==="*"){dataTypes.shift();if(ct===undefined){ct=s.mimeType||jqXHR.getResponseHeader("content-type")}}if(ct){for(type in contents){if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}}}if(dataTypes[0] in responses){finalDataType=dataTypes[0]}else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}if(!firstDataType){firstDataType=type}}finalDataType=finalDataType||firstDataType}if(finalDataType){if(finalDataType!==dataTypes[0]){dataTypes.unshift(finalDataType)}return responses[finalDataType]}}function ajaxConvert(s,response){if(s.dataFilter){response=s.dataFilter(response,s.dataType)}var dataTypes=s.dataTypes,converters={},i,key,length=dataTypes.length,tmp,current=dataTypes[0],prev,conversion,conv,conv1,conv2;for(i=1;i<length;i++){if(i===1){for(key in s.converters){if(typeof key==="string"){converters[key.toLowerCase()]=s.converters[key]}}}prev=current;current=dataTypes[i];if(current==="*"){current=prev}else{if(prev!=="*"&&prev!==current){conversion=prev+" "+current;conv=converters[conversion]||converters["* "+current];if(!conv){conv2=undefined;for(conv1 in converters){tmp=conv1.split(" ");if(tmp[0]===prev||tmp[0]==="*"){conv2=converters[tmp[1]+" "+current];if(conv2){conv1=converters[conv1];if(conv1===true){conv=conv2}else{if(conv2===true){conv=conv1}}break}}}}if(!(conv||conv2)){jQuery.error("No conversion from "+conversion.replace(" "," to "))}if(conv!==true){response=conv?conv(response):conv2(conv1(response))}}}}return response}var jsc=jQuery.now(),jsre=/(\=)\?(&|$)|\?\?/i;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return jQuery.expando+"_"+(jsc++)}});jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var inspectData=s.contentType==="application/x-www-form-urlencoded"&&(typeof s.data==="string");if(s.dataTypes[0]==="jsonp"||s.jsonp!==false&&(jsre.test(s.url)||inspectData&&jsre.test(s.data))){var responseContainer,jsonpCallback=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,previous=window[jsonpCallback],url=s.url,data=s.data,replace="$1"+jsonpCallback+"$2";if(s.jsonp!==false){url=url.replace(jsre,replace);if(s.url===url){if(inspectData){data=data.replace(jsre,replace)}if(s.data===data){url+=(/\?/.test(url)?"&":"?")+s.jsonp+"="+jsonpCallback}}}s.url=url;s.data=data;window[jsonpCallback]=function(response){responseContainer=[response]};jqXHR.always(function(){window[jsonpCallback]=previous;if(responseContainer&&jQuery.isFunction(previous)){window[jsonpCallback](responseContainer[0])}});s.converters["script json"]=function(){if(!responseContainer){jQuery.error(jsonpCallback+" was not called")}return responseContainer[0]};s.dataTypes[0]="json";return"script"}});jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(text){jQuery.globalEval(text);return text}}});jQuery.ajaxPrefilter("script",function(s){if(s.cache===undefined){s.cache=false}if(s.crossDomain){s.type="GET";s.global=false}});jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script");script.async="async";if(s.scriptCharset){script.charset=s.scriptCharset}script.src=s.url;script.onload=script.onreadystatechange=function(_,isAbort){if(isAbort||!script.readyState||/loaded|complete/.test(script.readyState)){script.onload=script.onreadystatechange=null;if(head&&script.parentNode){head.removeChild(script)}script=undefined;if(!isAbort){callback(200,"success")}}};head.insertBefore(script,head.firstChild)},abort:function(){if(script){script.onload(0,1)}}}}});var xhrOnUnloadAbort=window.ActiveXObject?function(){for(var key in xhrCallbacks){xhrCallbacks[key](0,1)}}:false,xhrId=0,xhrCallbacks;function createStandardXHR(){try{return new window.XMLHttpRequest()}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}jQuery.ajaxSettings.xhr=window.ActiveXObject?function(){return !this.isLocal&&createStandardXHR()||createActiveXHR()}:createStandardXHR;(function(xhr){jQuery.extend(jQuery.support,{ajax:!!xhr,cors:!!xhr&&("withCredentials" in xhr)})})(jQuery.ajaxSettings.xhr());if(jQuery.support.ajax){jQuery.ajaxTransport(function(s){if(!s.crossDomain||jQuery.support.cors){var callback;return{send:function(headers,complete){var xhr=s.xhr(),handle,i;if(s.username){xhr.open(s.type,s.url,s.async,s.username,s.password)}else{xhr.open(s.type,s.url,s.async)}if(s.xhrFields){for(i in s.xhrFields){xhr[i]=s.xhrFields[i]}}if(s.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(s.mimeType)}if(!s.crossDomain&&!headers["X-Requested-With"]){headers["X-Requested-With"]="XMLHttpRequest"}try{for(i in headers){xhr.setRequestHeader(i,headers[i])}}catch(_){}xhr.send((s.hasContent&&s.data)||null);callback=function(_,isAbort){var status,statusText,responseHeaders,responses,xml;try{if(callback&&(isAbort||xhr.readyState===4)){callback=undefined;if(handle){xhr.onreadystatechange=jQuery.noop;if(xhrOnUnloadAbort){delete xhrCallbacks[handle]}}if(isAbort){if(xhr.readyState!==4){xhr.abort()}}else{status=xhr.status;responseHeaders=xhr.getAllResponseHeaders();responses={};xml=xhr.responseXML;if(xml&&xml.documentElement){responses.xml=xml}responses.text=xhr.responseText;try{statusText=xhr.statusText}catch(e){statusText=""}if(!status&&s.isLocal&&!s.crossDomain){status=responses.text?200:404}else{if(status===1223){status=204}}}}}catch(firefoxAccessException){if(!isAbort){complete(-1,firefoxAccessException)}}if(responses){complete(status,statusText,responses,responseHeaders)}};if(!s.async||xhr.readyState===4){callback()}else{handle=++xhrId;if(xhrOnUnloadAbort){if(!xhrCallbacks){xhrCallbacks={};jQuery(window).unload(xhrOnUnloadAbort)}xhrCallbacks[handle]=callback}xhr.onreadystatechange=callback}},abort:function(){if(callback){callback(0,1)}}}}})}var elemdisplay={},iframe,iframeDoc,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,timerId,fxAttrs=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],fxNow;jQuery.fn.extend({show:function(speed,easing,callback){var elem,display;if(speed||speed===0){return this.animate(genFx("show",3),speed,easing,callback)}else{for(var i=0,j=this.length;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(!jQuery._data(elem,"olddisplay")&&display==="none"){display=elem.style.display=""}if(display===""&&jQuery.css(elem,"display")==="none"){jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName))}}}for(i=0;i<j;i++){elem=this[i];if(elem.style){display=elem.style.display;if(display===""||display==="none"){elem.style.display=jQuery._data(elem,"olddisplay")||""}}}return this}},hide:function(speed,easing,callback){if(speed||speed===0){return this.animate(genFx("hide",3),speed,easing,callback)}else{var elem,display,i=0,j=this.length;for(;i<j;i++){elem=this[i];if(elem.style){display=jQuery.css(elem,"display");if(display!=="none"&&!jQuery._data(elem,"olddisplay")){jQuery._data(elem,"olddisplay",display)}}}for(i=0;i<j;i++){if(this[i].style){this[i].style.display="none"}}return this}},_toggle:jQuery.fn.toggle,toggle:function(fn,fn2,callback){var bool=typeof fn==="boolean";if(jQuery.isFunction(fn)&&jQuery.isFunction(fn2)){this._toggle.apply(this,arguments)}else{if(fn==null||bool){this.each(function(){var state=bool?fn:jQuery(this).is(":hidden");jQuery(this)[state?"show":"hide"]()})}else{this.animate(genFx("toggle",3),fn,fn2,callback)}}return this},fadeTo:function(speed,to,easing,callback){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var optall=jQuery.speed(speed,easing,callback);if(jQuery.isEmptyObject(prop)){return this.each(optall.complete,[false])}prop=jQuery.extend({},prop);function doAnimation(){if(optall.queue===false){jQuery._mark(this)}var opt=jQuery.extend({},optall),isElement=this.nodeType===1,hidden=isElement&&jQuery(this).is(":hidden"),name,val,p,e,parts,start,end,unit,method;opt.animatedProperties={};for(p in prop){name=jQuery.camelCase(p);if(p!==name){prop[name]=prop[p];delete prop[p]}val=prop[name];if(jQuery.isArray(val)){opt.animatedProperties[name]=val[1];val=prop[name]=val[0]}else{opt.animatedProperties[name]=opt.specialEasing&&opt.specialEasing[name]||opt.easing||"swing"}if(val==="hide"&&hidden||val==="show"&&!hidden){return opt.complete.call(this)}if(isElement&&(name==="height"||name==="width")){opt.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(jQuery.css(this,"display")==="inline"&&jQuery.css(this,"float")==="none"){if(!jQuery.support.inlineBlockNeedsLayout||defaultDisplay(this.nodeName)==="inline"){this.style.display="inline-block"}else{this.style.zoom=1}}}}if(opt.overflow!=null){this.style.overflow="hidden"}for(p in prop){e=new jQuery.fx(this,opt,p);val=prop[p];if(rfxtypes.test(val)){method=jQuery._data(this,"toggle"+p)||(val==="toggle"?hidden?"show":"hide":0);if(method){jQuery._data(this,"toggle"+p,method==="show"?"hide":"show");e[method]()}else{e[val]()}}else{parts=rfxnum.exec(val);start=e.cur();if(parts){end=parseFloat(parts[2]);unit=parts[3]||(jQuery.cssNumber[p]?"":"px");if(unit!=="px"){jQuery.style(this,p,(end||1)+unit);start=((end||1)/e.cur())*start;jQuery.style(this,p,start+unit)}if(parts[1]){end=((parts[1]==="-="?-1:1)*end)+start}e.custom(start,end,unit)}else{e.custom(start,val,"")}}}return true}return optall.queue===false?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){if(typeof type!=="string"){gotoEnd=clearQueue;clearQueue=type;type=undefined}if(clearQueue&&type!==false){this.queue(type||"fx",[])}return this.each(function(){var index,hadTimers=false,timers=jQuery.timers,data=jQuery._data(this);if(!gotoEnd){jQuery._unmark(true,this)}function stopQueue(elem,data,index){var hooks=data[index];jQuery.removeData(elem,index,true);hooks.stop(gotoEnd)}if(type==null){for(index in data){if(data[index]&&data[index].stop&&index.indexOf(".run")===index.length-4){stopQueue(this,data,index)}}}else{if(data[index=type+".run"]&&data[index].stop){stopQueue(this,data,index)}}for(index=timers.length;index--;){if(timers[index].elem===this&&(type==null||timers[index].queue===type)){if(gotoEnd){timers[index](true)}else{timers[index].saveState()}hadTimers=true;timers.splice(index,1)}}if(!(gotoEnd&&hadTimers)){jQuery.dequeue(this,type)}})}});function createFxNow(){setTimeout(clearFxNow,0);return(fxNow=jQuery.now())}function clearFxNow(){fxNow=undefined}function genFx(type,num){var obj={};jQuery.each(fxAttrs.concat.apply([],fxAttrs.slice(0,num)),function(){obj[this]=type});return obj}jQuery.each({slideDown:genFx("show",1),slideUp:genFx("hide",1),slideToggle:genFx("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}});jQuery.extend({speed:function(speed,easing,fn){var opt=speed&&typeof speed==="object"?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};opt.duration=jQuery.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx"}opt.old=opt.complete;opt.complete=function(noUnmark){if(jQuery.isFunction(opt.old)){opt.old.call(this)}if(opt.queue){jQuery.dequeue(this,opt.queue)}else{if(noUnmark!==false){jQuery._unmark(this)}}};return opt},easing:{linear:function(p,n,firstNum,diff){return firstNum+diff*p},swing:function(p,n,firstNum,diff){return((-Math.cos(p*Math.PI)/2)+0.5)*diff+firstNum}},timers:[],fx:function(elem,options,prop){this.options=options;this.elem=elem;this.prop=prop;options.orig=options.orig||{}}});jQuery.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(jQuery.fx.step[this.prop]||jQuery.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var parsed,r=jQuery.css(this.elem,this.prop);return isNaN(parsed=parseFloat(r))?!r||r==="auto"?0:r:parsed},custom:function(from,to,unit){var self=this,fx=jQuery.fx;this.startTime=fxNow||createFxNow();this.end=to;this.now=this.start=from;this.pos=this.state=0;this.unit=unit||this.unit||(jQuery.cssNumber[this.prop]?"":"px");function t(gotoEnd){return self.step(gotoEnd)}t.queue=this.options.queue;t.elem=this.elem;t.saveState=function(){if(self.options.hide&&jQuery._data(self.elem,"fxshow"+self.prop)===undefined){jQuery._data(self.elem,"fxshow"+self.prop,self.start)}};if(t()&&jQuery.timers.push(t)&&!timerId){timerId=setInterval(fx.tick,fx.interval)}},show:function(){var dataShow=jQuery._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=dataShow||jQuery.style(this.elem,this.prop);this.options.show=true;if(dataShow!==undefined){this.custom(this.cur(),dataShow)}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur())}jQuery(this.elem).show()},hide:function(){this.options.orig[this.prop]=jQuery._data(this.elem,"fxshow"+this.prop)||jQuery.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(gotoEnd){var p,n,complete,t=fxNow||createFxNow(),done=true,elem=this.elem,options=this.options;if(gotoEnd||t>=options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();options.animatedProperties[this.prop]=true;for(p in options.animatedProperties){if(options.animatedProperties[p]!==true){done=false}}if(done){if(options.overflow!=null&&!jQuery.support.shrinkWrapBlocks){jQuery.each(["","X","Y"],function(index,value){elem.style["overflow"+value]=options.overflow[index]})}if(options.hide){jQuery(elem).hide()}if(options.hide||options.show){for(p in options.animatedProperties){jQuery.style(elem,p,options.orig[p]);jQuery.removeData(elem,"fxshow"+p,true);jQuery.removeData(elem,"toggle"+p,true)}}complete=options.complete;if(complete){options.complete=false;complete.call(elem)}}return false}else{if(options.duration==Infinity){this.now=t}else{n=t-this.startTime;this.state=n/options.duration;this.pos=jQuery.easing[options.animatedProperties[this.prop]](this.state,n,0,1,options.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};jQuery.extend(jQuery.fx,{tick:function(){var timer,timers=jQuery.timers,i=0;for(;i<timers.length;i++){timer=timers[i];if(!timer()&&timers[i]===timer){timers.splice(i--,1)}}if(!timers.length){jQuery.fx.stop()}},interval:13,stop:function(){clearInterval(timerId);timerId=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(fx){jQuery.style(fx.elem,"opacity",fx.now)},_default:function(fx){if(fx.elem.style&&fx.elem.style[fx.prop]!=null){fx.elem.style[fx.prop]=fx.now+fx.unit}else{fx.elem[fx.prop]=fx.now}}}});jQuery.each(["width","height"],function(i,prop){jQuery.fx.step[prop]=function(fx){jQuery.style(fx.elem,prop,Math.max(0,fx.now)+fx.unit)}});if(jQuery.expr&&jQuery.expr.filters){jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}}function defaultDisplay(nodeName){if(!elemdisplay[nodeName]){var body=document.body,elem=jQuery("<"+nodeName+">").appendTo(body),display=elem.css("display");elem.remove();if(display==="none"||display===""){if(!iframe){iframe=document.createElement("iframe");iframe.frameBorder=iframe.width=iframe.height=0}body.appendChild(iframe);if(!iframeDoc||!iframe.createElement){iframeDoc=(iframe.contentWindow||iframe.contentDocument).document;iframeDoc.write((document.compatMode==="CSS1Compat"?"<!doctype html>":"")+"<html><body>");iframeDoc.close()}elem=iframeDoc.createElement(nodeName);iframeDoc.body.appendChild(elem);display=jQuery.css(elem,"display");body.removeChild(iframe)}elemdisplay[nodeName]=display}return elemdisplay[nodeName]}var rtable=/^t(?:able|d|h)$/i,rroot=/^(?:body|html)$/i;if("getBoundingClientRect" in document.documentElement){jQuery.fn.offset=function(options){var elem=this[0],box;if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}try{box=elem.getBoundingClientRect()}catch(e){}var doc=elem.ownerDocument,docElem=doc.documentElement;if(!box||!jQuery.contains(docElem,elem)){return box?{top:box.top,left:box.left}:{top:0,left:0}}var body=doc.body,win=getWindow(doc),clientTop=docElem.clientTop||body.clientTop||0,clientLeft=docElem.clientLeft||body.clientLeft||0,scrollTop=win.pageYOffset||jQuery.support.boxModel&&docElem.scrollTop||body.scrollTop,scrollLeft=win.pageXOffset||jQuery.support.boxModel&&docElem.scrollLeft||body.scrollLeft,top=box.top+scrollTop-clientTop,left=box.left+scrollLeft-clientLeft;return{top:top,left:left}}}else{jQuery.fn.offset=function(options){var elem=this[0];if(options){return this.each(function(i){jQuery.offset.setOffset(this,options,i)})}if(!elem||!elem.ownerDocument){return null}if(elem===elem.ownerDocument.body){return jQuery.offset.bodyOffset(elem)}var computedStyle,offsetParent=elem.offsetParent,prevOffsetParent=elem,doc=elem.ownerDocument,docElem=doc.documentElement,body=doc.body,defaultView=doc.defaultView,prevComputedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle,top=elem.offsetTop,left=elem.offsetLeft;while((elem=elem.parentNode)&&elem!==body&&elem!==docElem){if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){break}computedStyle=defaultView?defaultView.getComputedStyle(elem,null):elem.currentStyle;top-=elem.scrollTop;left-=elem.scrollLeft;if(elem===offsetParent){top+=elem.offsetTop;left+=elem.offsetLeft;if(jQuery.support.doesNotAddBorder&&!(jQuery.support.doesAddBorderForTableAndCells&&rtable.test(elem.nodeName))){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevOffsetParent=offsetParent;offsetParent=elem.offsetParent}if(jQuery.support.subtractsBorderForOverflowNotVisible&&computedStyle.overflow!=="visible"){top+=parseFloat(computedStyle.borderTopWidth)||0;left+=parseFloat(computedStyle.borderLeftWidth)||0}prevComputedStyle=computedStyle}if(prevComputedStyle.position==="relative"||prevComputedStyle.position==="static"){top+=body.offsetTop;left+=body.offsetLeft}if(jQuery.support.fixedPosition&&prevComputedStyle.position==="fixed"){top+=Math.max(docElem.scrollTop,body.scrollTop);left+=Math.max(docElem.scrollLeft,body.scrollLeft)}return{top:top,left:left}}}jQuery.offset={bodyOffset:function(body){var top=body.offsetTop,left=body.offsetLeft;if(jQuery.support.doesNotIncludeMarginInBodyOffset){top+=parseFloat(jQuery.css(body,"marginTop"))||0;left+=parseFloat(jQuery.css(body,"marginLeft"))||0}return{top:top,left:left}},setOffset:function(elem,options,i){var position=jQuery.css(elem,"position");if(position==="static"){elem.style.position="relative"}var curElem=jQuery(elem),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=(position==="absolute"||position==="fixed")&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,props={},curPosition={},curTop,curLeft;if(calculatePosition){curPosition=curElem.position();curTop=curPosition.top;curLeft=curPosition.left}else{curTop=parseFloat(curCSSTop)||0;curLeft=parseFloat(curCSSLeft)||0}if(jQuery.isFunction(options)){options=options.call(elem,i,curOffset)}if(options.top!=null){props.top=(options.top-curOffset.top)+curTop}if(options.left!=null){props.left=(options.left-curOffset.left)+curLeft}if("using" in options){options.using.call(elem,props)}else{curElem.css(props)}}};jQuery.fn.extend({position:function(){if(!this[0]){return null}var elem=this[0],offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=rroot.test(offsetParent[0].nodeName)?{top:0,left:0}:offsetParent.offset();offset.top-=parseFloat(jQuery.css(elem,"marginTop"))||0;offset.left-=parseFloat(jQuery.css(elem,"marginLeft"))||0;parentOffset.top+=parseFloat(jQuery.css(offsetParent[0],"borderTopWidth"))||0;parentOffset.left+=parseFloat(jQuery.css(offsetParent[0],"borderLeftWidth"))||0;return{top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}},offsetParent:function(){return this.map(function(){var offsetParent=this.offsetParent||document.body;while(offsetParent&&(!rroot.test(offsetParent.nodeName)&&jQuery.css(offsetParent,"position")==="static")){offsetParent=offsetParent.offsetParent}return offsetParent})}});jQuery.each(["Left","Top"],function(i,name){var method="scroll"+name;jQuery.fn[method]=function(val){var elem,win;if(val===undefined){elem=this[0];if(!elem){return null}win=getWindow(elem);return win?("pageXOffset" in win)?win[i?"pageYOffset":"pageXOffset"]:jQuery.support.boxModel&&win.document.documentElement[method]||win.document.body[method]:elem[method]}return this.each(function(){win=getWindow(this);if(win){win.scrollTo(!i?val:jQuery(win).scrollLeft(),i?val:jQuery(win).scrollTop())}else{this[method]=val}})}});function getWindow(elem){return jQuery.isWindow(elem)?elem:elem.nodeType===9?elem.defaultView||elem.parentWindow:false}jQuery.each(["Height","Width"],function(i,name){var type=name.toLowerCase();jQuery.fn["inner"+name]=function(){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,"padding")):this[type]():null};jQuery.fn["outer"+name]=function(margin){var elem=this[0];return elem?elem.style?parseFloat(jQuery.css(elem,type,margin?"margin":"border")):this[type]():null};jQuery.fn[type]=function(size){var elem=this[0];if(!elem){return size==null?null:this}if(jQuery.isFunction(size)){return this.each(function(i){var self=jQuery(this);self[type](size.call(this,i,self[type]()))})}if(jQuery.isWindow(elem)){var docElemProp=elem.document.documentElement["client"+name],body=elem.document.body;return elem.document.compatMode==="CSS1Compat"&&docElemProp||body&&body["client"+name]||docElemProp}else{if(elem.nodeType===9){return Math.max(elem.documentElement["client"+name],elem.body["scroll"+name],elem.documentElement["scroll"+name],elem.body["offset"+name],elem.documentElement["offset"+name])}else{if(size===undefined){var orig=jQuery.css(elem,type),ret=parseFloat(orig);return jQuery.isNumeric(ret)?ret:orig}else{return this.css(type,typeof size==="string"?size:size+"px")}}}}});window.jQuery=window.$=jQuery;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return jQuery})}})(window);var jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{};jaaulde.utils.cookies=(function(){var E,D,C,B,A={expiresAt:null,path:"/",domain:null,secure:false};E=function(G){var H,F;if(typeof G!=="object"||G===null){H=A}else{H={expiresAt:A.expiresAt,path:A.path,domain:A.domain,secure:A.secure};if(typeof G.expiresAt==="object"&&G.expiresAt instanceof Date){H.expiresAt=G.expiresAt}else{if(typeof G.hoursToLive==="number"&&G.hoursToLive!==0){F=new Date();F.setTime(F.getTime()+(G.hoursToLive*60*60*1000));H.expiresAt=F}}if(typeof G.path==="string"&&G.path!==""){H.path=G.path}if(typeof G.domain==="string"&&G.domain!==""){H.domain=G.domain}if(G.secure===true){H.secure=G.secure}}return H};D=function(F){F=E(F);return((typeof F.expiresAt==="object"&&F.expiresAt instanceof Date?"; expires="+F.expiresAt.toGMTString():"")+"; path="+F.path+(typeof F.domain==="string"?"; domain="+F.domain:"")+(F.secure===true?"; secure":""))};C=function(){var N={},H,G,F,M,J=document.cookie.split(";"),I;for(H=0;H<J.length;H=H+1){G=J[H].split("=");F=G[0].replace(/^\s*/,"").replace(/\s*$/,"");try{M=decodeURIComponent(G[1])}catch(L){M=G[1]}if(typeof JSON==="object"&&JSON!==null&&typeof JSON.parse==="function"){try{I=M;M=JSON.parse(M)}catch(K){M=I}}N[F]=M}return N};B=function(){};B.prototype.get=function(I){var F,H,G=C();if(typeof I==="string"){F=(typeof G[I]!=="undefined")?G[I]:null}else{if(typeof I==="object"&&I!==null){F={};for(H in I){if(typeof G[I[H]]!=="undefined"){F[I[H]]=G[I[H]]}else{F[I[H]]=null}}}else{F=G}}return F};B.prototype.filter=function(F){var I,G={},H=C();if(typeof F==="string"){F=new RegExp(F)}for(I in H){if(I.match(F)){G[I]=H[I]}}return G};B.prototype.set=function(I,G,F){if(typeof F!=="object"||F===null){F={}}if(typeof G==="undefined"||G===null){G="";F.hoursToLive=-8760}else{if(typeof G!=="string"){if(typeof JSON==="object"&&JSON!==null&&typeof JSON.stringify==="function"){G=JSON.stringify(G)}else{throw new Error("cookies.set() received non-string value and could not serialize.")}}}var H=D(F);document.cookie=I+"="+encodeURIComponent(G)+H};B.prototype.del=function(I,H){var F={},G;if(typeof H!=="object"||H===null){H={}}if(typeof I==="boolean"&&I===true){F=this.get()}else{if(typeof I==="string"){F[I]=true}}for(G in F){if(typeof G==="string"&&G!==""){this.set(G,null,H)}}};B.prototype.test=function(){var G=false,F="cT",H="data";this.set(F,H);if(this.get(F)===H){this.del(F);G=true}return G};B.prototype.setOptions=function(F){if(typeof F!=="object"){F=null}A=E(F)};return new B()})();(function(){if(window.jQuery){(function(B){B.cookies=jaaulde.utils.cookies;var A={cookify:function(C){return this.each(function(){var E,G=["name","id"],D,H=B(this),F;for(E in G){if(!isNaN(E)){D=H.attr(G[E]);if(typeof D==="string"&&D!==""){if(H.is(":checkbox, :radio")){if(H.attr("checked")){F=H.val()}}else{if(H.is(":input")){F=H.val()}else{F=H.html()}}if(typeof F!=="string"||F===""){F=null}B.cookies.set(D,F,C);break}}}})},cookieFill:function(){return this.each(function(){var H,C,F=["name","id"],D,G=B(this),E;C=function(){H=F.pop();return !!H};while(C()){D=G.attr(H);if(typeof D==="string"&&D!==""){E=B.cookies.get(D);if(E!==null){if(G.is(":checkbox, :radio")){if(G.val()===E){G.attr("checked","checked")}else{G.removeAttr("checked")}}else{if(G.is(":input")){G.val(E)}else{G.html(E)}}}break}}})},cookieBind:function(C){return this.each(function(){var D=B(this);D.cookieFill().change(function(){D.cookify(C)})})}};B.each(A,function(C){B.fn[C]=this})})(window.jQuery)}})();(function(k){function n(c,a){k.ajax({url:c,async:!1,cache:a.cache,contentType:"text/plain;charset="+a.encoding,dataType:"text",success:function(b){r(b,a.mode)}})}function r(c,a){for(var b="",e=c.split(/\n/),d=/(\{\d+\})/g,q=/\{(\d+)\}/g,m=/(\\u.{4})/ig,f=0;f<e.length;f++){if(e[f]=e[f].replace(/^\s\s*/,"").replace(/\s\s*$/,""),e[f].length>0&&e[f].match("^#")!="#"){var g=e[f].split("=");if(g.length>0){for(var o=unescape(g[0]).replace(/^\s\s*/,"").replace(/\s\s*$/,""),h=g.length==1?"":g[1];h.match(/\\$/)=="\\";){h=h.substring(0,h.length-1),h+=e[++f].replace(/\s\s*$/,"")}for(var l=2;l<g.length;l++){h+="="+g[l]}h=h.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(a=="map"||a=="both"){if(g=h.match(m)){for(l=0;l<g.length;l++){h=h.replace(g[l],s(g[l]))}}k.i18n.map[o]=h}if(a=="vars"||a=="both"){if(h=h.replace(/"/g,'\\"'),t(o),d.test(h)){for(var g=h.split(d),l=!0,j="",n=[],p=0;p<g.length;p++){if(d.test(g[p])&&(n.length==0||n.indexOf(g[p])==-1)){l||(j+=","),j+=g[p].replace(q,"v$1"),n.push(g[p]),l=!1}}b+=o+"=function("+j+"){";o='"'+h.replace(q,'"+v$1+"')+'"';b+="return "+o+";};"}else{b+=o+'="'+h+'";'}}}}}eval(b)}function t(c){if(/\./.test(c)){for(var a="",c=c.split(/\./),b=0;b<c.length;b++){b>0&&(a+="."),a+=c[b],eval("typeof "+a+' == "undefined"')&&eval(a+"={};")}}}function s(c){var a=[],c=parseInt(c.substr(2),16);c>=0&&c<Math.pow(2,16)&&a.push(c);for(var c="",b=0;b<a.length;++b){c+=String.fromCharCode(a[b])}return c}k.i18n={};k.i18n.map={};k.i18n.properties=function(c){c=k.extend({name:"Messages",language:"",path:"",mode:"vars",cache:!1,encoding:"UTF-8",callback:null},c);if(c.language===null||c.language==""){c.language=k.i18n.browserLang()}if(c.language===null){c.language=""}var a=c.name&&c.name.constructor==Array?c.name:[c.name];for(i=0;i<a.length;i++){n(c.path+a[i]+".properties",c),c.language.length>=2&&n(c.path+a[i]+"_"+c.language.substring(0,2)+".properties",c),c.language.length>=5&&n(c.path+a[i]+"_"+c.language.substring(0,5)+".properties",c)}c.callback&&c.callback()};k.i18n.prop=function(c){var a=k.i18n.map[c];if(a==null){return"["+c+"]"}var b;if(typeof a=="string"){for(b=0;(b=a.indexOf("\\",b))!=-1;){a=a[b+1]=="t"?a.substring(0,b)+"\t"+a.substring(b+++2):a[b+1]=="r"?a.substring(0,b)+"\r"+a.substring(b+++2):a[b+1]=="n"?a.substring(0,b)+"\n"+a.substring(b+++2):a[b+1]=="f"?a.substring(0,b)+"\u000c"+a.substring(b+++2):a[b+1]=="\\"?a.substring(0,b)+"\\"+a.substring(b+++2):a.substring(0,b)+a.substring(b+1)}var e=[],d,j;for(b=0;b<a.length;){if(a[b]=="'"){if(b==a.length-1){a=a.substring(0,b)}else{if(a[b+1]=="'"){a=a.substring(0,b)+a.substring(++b)}else{for(d=b+2;(d=a.indexOf("'",d))!=-1;){if(d==a.length-1||a[d+1]!="'"){a=a.substring(0,b)+a.substring(b+1,d)+a.substring(d+1);b=d-1;break}else{a=a.substring(0,d)+a.substring(++d)}}d==-1&&(a=a.substring(0,b)+a.substring(b+1))}}}else{if(a[b]=="{"){if(d=a.indexOf("}",b+1),d==-1){b++}else{if(j=parseInt(a.substring(b+1,d)),!isNaN(j)&&j>=0){var m=a.substring(0,b);m!=""&&e.push(m);e.push(j);b=0;a=a.substring(d+1)}else{b=d+1}}}else{b++}}}a!=""&&e.push(a);a=e;k.i18n.map[c]=e}if(a.length==0){return""}if(a.lengh==1&&typeof a[0]=="string"){return a[0]}m="";for(b=0;b<a.length;b++){m+=typeof a[b]=="string"?a[b]:a[b]+1<arguments.length?arguments[a[b]+1]:"{"+a[b]+"}"}return m};k.i18n.browserLang=function(){var c=navigator.language||navigator.userLanguage,c=c.toLowerCase();c.length>3&&(c=c.substring(0,3)+c.substring(3).toUpperCase());return c};var j;if(!j){j=function(c,a,b){if(Object.prototype.toString.call(a)!=="[object RegExp]"){return typeof j._nativeSplit=="undefined"?c.split(a,b):j._nativeSplit.call(c,a,b)}var e=[],d=0,k=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.sticky?"y":""),a=RegExp(a.source,k+"g"),m,f,g;c+="";j._compliantExecNpcg||(m=RegExp("^"+a.source+"$(?!\\s)",k));if(b===void 0||+b<0){b=Infinity}else{if(b=Math.floor(+b),!b){return[]}}for(;f=a.exec(c);){k=f.index+f[0].length;if(k>d&&(e.push(c.slice(d,f.index)),!j._compliantExecNpcg&&f.length>1&&f[0].replace(m,function(){for(var a=1;a<arguments.length-2;a++){arguments[a]===void 0&&(f[a]=void 0)}}),f.length>1&&f.index<c.length&&Array.prototype.push.apply(e,f.slice(1)),g=f[0].length,d=k,e.length>=b)){break}a.lastIndex===f.index&&a.lastIndex++}d===c.length?(g||!a.test(""))&&e.push(""):e.push(c.slice(d));return e.length>b?e.slice(0,b):e},j._compliantExecNpcg=/()??/.exec("")[1]===void 0,j._nativeSplit=String.prototype.split}String.prototype.split=function(c,a){return j(this,c,a)}})(jQuery);var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());
/*
 * Modernizr v2.0.6
 * http://www.modernizr.com
 *
 * Copyright (c) 2009-2011 Faruk Ates, Paul Irish, Alex Sexton
 * Dual-licensed under the BSD or MIT licenses: www.modernizr.com/license/
 */
window.Modernizr=(function(Y,C,G){var g="2.0.6",U={},W=true,k=C.documentElement,Q=C.head||C.getElementsByTagName("head")[0],A="modernizr",f=C.createElement(A),c=f.style,j=C.createElement("input"),Z=":)",B=Object.prototype.toString,I=" -webkit- -moz- -o- -ms- -khtml- ".split(" "),h="Webkit Moz O ms Khtml".split(" "),e={svg:"http://www.w3.org/2000/svg"},J={},N={},F={},D=[],P,K=function(q,s,l,n){var o,m,p,r=C.createElement("div");if(parseInt(l,10)){while(l--){p=C.createElement("div");p.id=n?n[l]:A+(l+1);r.appendChild(p)}}o=["&shy;","<style>",q,"</style>"].join("");r.id=A;r.innerHTML+=o;k.appendChild(r);m=s(r,q);r.parentNode.removeChild(r);return !!m},d=function(m){if(Y.matchMedia){return matchMedia(m).matches}var l;K("@media "+m+" { #"+A+" { position: absolute; } }",function(n){l=(Y.getComputedStyle?getComputedStyle(n,null):n.currentStyle)["position"]=="absolute"});return l},M=(function(){var m={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};function l(n,p){p=p||C.createElement(m[n]||"div");n="on"+n;var o=n in p;if(!o){if(!p.setAttribute){p=C.createElement("div")}if(p.setAttribute&&p.removeAttribute){p.setAttribute(n,"");o=O(p[n],"function");if(!O(p[n],G)){p[n]=G}p.removeAttribute(n)}}p=null;return o}return l})();var H=({}).hasOwnProperty,E;if(!O(H,G)&&!O(H.call,G)){E=function(l,m){return H.call(l,m)}}else{E=function(l,m){return((m in l)&&O(l.constructor.prototype[m],G))}}function b(l){c.cssText=l}function S(m,l){return b(I.join(m+";")+(l||""))}function O(m,l){return typeof m===l}function R(m,l){return !!~(""+m).indexOf(l)}function X(n,l){for(var m in n){if(c[n[m]]!==G){return l=="pfx"?n[m]:true}}return false}function L(o,l){var m=o.charAt(0).toUpperCase()+o.substr(1),n=(o+" "+h.join(m+" ")+m).split(" ");return X(n,l)}var V=(function(o,n){var m=o.join(""),l=n.length;K(m,function(s,u){var r=C.styleSheets[C.styleSheets.length-1],q=r.cssRules&&r.cssRules[0]?r.cssRules[0].cssText:r.cssText||"",p=s.childNodes,t={};while(l--){t[p[l].id]=p[l]}U.touch=("ontouchstart" in Y)||t.touch.offsetTop===9;U.csstransforms3d=t.csstransforms3d.offsetLeft===9;U.generatedcontent=t.generatedcontent.offsetHeight>=1;U.fontface=/src/i.test(q)&&q.indexOf(u.split(" ")[0])===0},l,n)})(['@font-face {font-family:"font";src:url("https://")}',["@media (",I.join("touch-enabled),("),A,")","{#touch{top:9px;position:absolute}}"].join(""),["@media (",I.join("transform-3d),("),A,")","{#csstransforms3d{left:9px;position:absolute}}"].join(""),['#generatedcontent:after{content:"',Z,'";visibility:hidden}'].join("")],["fontface","touch","csstransforms3d","generatedcontent"]);J.flexbox=function(){function n(r,t,s,q){t+=":";r.style.cssText=(t+I.join(s+";"+t)).slice(0,-t.length)+(q||"")}function l(r,t,s,q){r.style.cssText=I.join(t+":"+s+";")+(q||"")}var p=C.createElement("div"),o=C.createElement("div");n(p,"display","box","width:42px;padding:0;");l(o,"box-flex","1","width:10px;");p.appendChild(o);k.appendChild(p);var m=o.offsetWidth===42;p.removeChild(o);k.removeChild(p);return m};J.canvas=function(){var l=C.createElement("canvas");return !!(l.getContext&&l.getContext("2d"))};J.canvastext=function(){return !!(U.canvas&&O(C.createElement("canvas").getContext("2d").fillText,"function"))};J.webgl=function(){return !!Y.WebGLRenderingContext};J.touch=function(){return U.touch};J.geolocation=function(){return !!navigator.geolocation};J.postmessage=function(){return !!Y.postMessage};J.websqldatabase=function(){var l=!!Y.openDatabase;return l};J.indexedDB=function(){for(var m=-1,l=h.length;++m<l;){if(Y[h[m].toLowerCase()+"IndexedDB"]){return true}}return !!Y.indexedDB};J.hashchange=function(){return M("hashchange",Y)&&(C.documentMode===G||C.documentMode>7)};J.history=function(){return !!(Y.history&&history.pushState)};J.draganddrop=function(){return M("dragstart")&&M("drop")};J.websockets=function(){for(var m=-1,l=h.length;++m<l;){if(Y[h[m]+"WebSocket"]){return true}}return"WebSocket" in Y};J.rgba=function(){b("background-color:rgba(150,255,150,.5)");return R(c.backgroundColor,"rgba")};J.hsla=function(){b("background-color:hsla(120,40%,100%,.5)");return R(c.backgroundColor,"rgba")||R(c.backgroundColor,"hsla")};J.multiplebgs=function(){b("background:url(https://),url(https://),red url(https://)");return/(url\s*\(.*?){3}/.test(c.background)};J.backgroundsize=function(){return L("backgroundSize")};J.borderimage=function(){return L("borderImage")};J.borderradius=function(){return L("borderRadius")};J.boxshadow=function(){return L("boxShadow")};J.textshadow=function(){return C.createElement("div").style.textShadow===""};J.opacity=function(){S("opacity:.55");return/^0.55$/.test(c.opacity)};J.cssanimations=function(){return L("animationName")};J.csscolumns=function(){return L("columnCount")};J.cssgradients=function(){var n="background-image:",m="gradient(linear,left top,right bottom,from(#9f9),to(white));",l="linear-gradient(left top,#9f9, white);";b((n+I.join(m+n)+I.join(l+n)).slice(0,-n.length));return R(c.backgroundImage,"gradient")};J.cssreflections=function(){return L("boxReflect")};J.csstransforms=function(){return !!X(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"])};J.csstransforms3d=function(){var l=!!X(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);if(l&&"webkitPerspective" in k.style){l=U.csstransforms3d}return l};J.csstransitions=function(){return L("transitionProperty")};J.fontface=function(){return U.fontface};J.generatedcontent=function(){return U.generatedcontent};J.video=function(){var n=C.createElement("video"),l=false;try{if(l=!!n.canPlayType){l=new Boolean(l);l.ogg=n.canPlayType('video/ogg; codecs="theora"');var m='video/mp4; codecs="avc1.42E01E';l.h264=n.canPlayType(m+'"')||n.canPlayType(m+', mp4a.40.2"');l.webm=n.canPlayType('video/webm; codecs="vp8, vorbis"')}}catch(o){}return l};J.audio=function(){var m=C.createElement("audio"),l=false;try{if(l=!!m.canPlayType){l=new Boolean(l);l.ogg=m.canPlayType('audio/ogg; codecs="vorbis"');l.mp3=m.canPlayType("audio/mpeg;");l.wav=m.canPlayType('audio/wav; codecs="1"');l.m4a=m.canPlayType("audio/x-m4a;")||m.canPlayType("audio/aac;")}}catch(n){}return l};J.localstorage=function(){try{return !!localStorage.getItem}catch(l){return false}};J.sessionstorage=function(){try{return !!sessionStorage.getItem}catch(l){return false}};J.webworkers=function(){return !!Y.Worker};J.applicationcache=function(){return !!Y.applicationCache};J.svg=function(){return !!C.createElementNS&&!!C.createElementNS(e.svg,"svg").createSVGRect};J.inlinesvg=function(){var l=C.createElement("div");l.innerHTML="<svg/>";return(l.firstChild&&l.firstChild.namespaceURI)==e.svg};J.smil=function(){return !!C.createElementNS&&/SVG/.test(B.call(C.createElementNS(e.svg,"animate")))};J.svgclippaths=function(){return !!C.createElementNS&&/SVG/.test(B.call(C.createElementNS(e.svg,"clipPath")))};function a(){U.input=(function(n){for(var m=0,l=n.length;m<l;m++){F[n[m]]=!!(n[m] in j)}return F})("autocomplete autofocus list placeholder max min multiple pattern required step".split(" "));U.inputtypes=(function(o){for(var n=0,m,q,p,l=o.length;n<l;n++){j.setAttribute("type",q=o[n]);m=j.type!=="text";if(m){j.value=Z;j.style.cssText="position:absolute;visibility:hidden;";if(/^range$/.test(q)&&j.style.WebkitAppearance!==G){k.appendChild(j);p=C.defaultView;m=p.getComputedStyle&&p.getComputedStyle(j,null).WebkitAppearance!=="textfield"&&(j.offsetHeight!==0);k.removeChild(j)}else{if(/^(search|tel)$/.test(q)){}else{if(/^(url|email)$/.test(q)){m=j.checkValidity&&j.checkValidity()===false}else{if(/^color$/.test(q)){k.appendChild(j);k.offsetWidth;m=j.value!=Z;k.removeChild(j)}else{m=j.value!=Z}}}}}N[o[n]]=!!m}return N})("search tel url email datetime date month week time datetime-local number range color".split(" "))}for(var T in J){if(E(J,T)){P=T.toLowerCase();U[P]=J[T]();D.push((U[P]?"":"no-")+P)}}U.input||a();U.addTest=function(m,n){if(typeof m=="object"){for(var l in m){if(E(m,l)){U.addTest(l,m[l])}}}else{m=m.toLowerCase();if(U[m]!==G){return }n=typeof n=="boolean"?n:!!n();k.className+=" "+(n?"":"no-")+m;U[m]=n}return U};b("");f=j=null;if(Y.attachEvent&&(function(){var l=C.createElement("div");l.innerHTML="<elem></elem>";return l.childNodes.length!==1})()){(function(r,AC){r.iepp=r.iepp||{};var s=r.iepp,AB=s.html5elements||"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",m=AB.split("|"),AA=m.length,z=new RegExp("(^|\\s)("+AB+")","gi"),y=new RegExp("<(/*)("+AB+")","gi"),q=/^\s*[\{\}]\s*$/,l=new RegExp("(^|[^\\n]*?\\s)("+AB+")([^\\n]*)({[\\n\\w\\W]*?})","gi"),o=AC.createDocumentFragment(),w=AC.documentElement,t=w.firstChild,u=AC.createElement("body"),p=AC.createElement("style"),x=/print|all/,v;function n(AE){var AD=-1;while(++AD<AA){AE.createElement(m[AD])}}s.getCSS=function(AH,AF){if(AH+""===G){return""}var AE=-1,AD=AH.length,AI,AG=[];while(++AE<AD){AI=AH[AE];if(AI.disabled){continue}AF=AI.media||AF;if(x.test(AF)){AG.push(s.getCSS(AI.imports,AF),AI.cssText)}AF="all"}return AG.join("")};s.parseCSS=function(AE){var AD=[],AF;while((AF=l.exec(AE))!=null){AD.push(((q.exec(AF[1])?"\n":AF[1])+AF[2]+AF[3]).replace(z,"$1.iepp_$2")+AF[4])}return AD.join("\n")};s.writeHTML=function(){var AE=-1;v=v||AC.body;while(++AE<AA){var AF=AC.getElementsByTagName(m[AE]),AG=AF.length,AD=-1;while(++AD<AG){if(AF[AD].className.indexOf("iepp_")<0){AF[AD].className+=" iepp_"+m[AE]}}}o.appendChild(v);w.appendChild(u);u.className=v.className;u.id=v.id;u.innerHTML=v.innerHTML.replace(y,"<$1font")};s._beforePrint=function(){p.styleSheet.cssText=s.parseCSS(s.getCSS(AC.styleSheets,"all"));s.writeHTML()};s.restoreHTML=function(){u.innerHTML="";w.removeChild(u);w.appendChild(v)};s._afterPrint=function(){s.restoreHTML();p.styleSheet.cssText=""};n(AC);n(o);if(s.disablePP){return }t.insertBefore(p,t.firstChild);p.media="print";p.className="iepp-printshim";r.attachEvent("onbeforeprint",s._beforePrint);r.attachEvent("onafterprint",s._afterPrint)})(Y,C)}U._version=g;U._prefixes=I;U._domPrefixes=h;U.mq=d;U.hasEvent=M;U.testProp=function(l){return X([l])};U.testAllProps=L;U.testStyles=K;U.prefixed=function(l){return L(l,"pfx")};k.className=k.className.replace(/\bno-js\b/,"")+(W?" js "+D.join(" "):"");return U})(this,this.document);(function(){function AF(A,G,F){if(A===G){return 0!==A||1/A==1/G}if(null==A||null==G){return A===G}A._chain&&(A=A._wrapped);G._chain&&(G=G._wrapped);if(A.isEqual&&AR.isFunction(A.isEqual)){return A.isEqual(G)}if(G.isEqual&&AR.isFunction(G.isEqual)){return G.isEqual(A)}var E=AN.call(A);if(E!=AN.call(G)){return !1}switch(E){case"[object String]":return A==""+G;case"[object Number]":return A!=+A?G!=+G:0==A?1/A==1/G:A==+G;case"[object Date]":case"[object Boolean]":return +A==+G;case"[object RegExp]":return A.source==G.source&&A.global==G.global&&A.multiline==G.multiline&&A.ignoreCase==G.ignoreCase}if("object"!=typeof A||"object"!=typeof G){return !1}for(var D=F.length;D--;){if(F[D]==A){return !0}}F.push(A);var D=0,C=!0;if("[object Array]"==E){if(D=A.length,C=D==G.length){for(;D--&&(C=D in A==D in G&&AF(A[D],G[D],F));){}}}else{if("constructor" in A!="constructor" in G||A.constructor!=G.constructor){return !1}for(var B in A){if(AR.has(A,B)&&(D++,!(C=AR.has(G,B)&&AF(A[B],G[B],F)))){break}}if(C){for(B in G){if(AR.has(G,B)&&!D--){break}}C=!D}}F.pop();return C}var AC=this,a=AC._,AK={},AO=Array.prototype,AJ=Object.prototype,AQ=AO.slice,X=AO.unshift,AN=AJ.toString,V=AJ.hasOwnProperty,Y=AO.forEach,W=AO.map,AI=AO.reduce,AH=AO.reduceRight,AE=AO.filter,AD=AO.every,AB=AO.some,AG=AO.indexOf,h=AO.lastIndexOf,AJ=Array.isArray,U=Object.keys,AA=Function.prototype.bind,AR=function(A){return new AM(A)};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=AR),exports._=AR):AC._=AR;AR.VERSION="1.3.3";var AP=AR.each=AR.forEach=function(A,E,D){if(A!=null){if(Y&&A.forEach===Y){A.forEach(E,D)}else{if(A.length===+A.length){for(var C=0,B=A.length;C<B;C++){if(C in A&&E.call(D,A[C],C,A)===AK){break}}}else{for(C in A){if(AR.has(A,C)&&E.call(D,A[C],C,A)===AK){break}}}}}};AR.map=AR.collect=function(B,D,A){var C=[];if(B==null){return C}if(W&&B.map===W){return B.map(D,A)}AP(B,function(E,G,F){C[C.length]=D.call(A,E,G,F)});if(B.length===+B.length){C.length=B.length}return C};AR.reduce=AR.foldl=AR.inject=function(A,E,D,C){var B=arguments.length>2;A==null&&(A=[]);if(AI&&A.reduce===AI){C&&(E=AR.bind(E,C));return B?A.reduce(E,D):A.reduce(E)}AP(A,function(G,F,H){if(B){D=E.call(C,D,G,F,H)}else{D=G;B=true}});if(!B){throw new TypeError("Reduce of empty array with no initial value")}return D};AR.reduceRight=AR.foldr=function(A,F,E,D){var C=arguments.length>2;A==null&&(A=[]);if(AH&&A.reduceRight===AH){D&&(F=AR.bind(F,D));return C?A.reduceRight(F,E):A.reduceRight(F)}var B=AR.toArray(A).reverse();D&&!C&&(F=AR.bind(F,D));return C?AR.reduce(B,F,E,D):AR.reduce(B,F)};AR.find=AR.detect=function(B,D,A){var C;f(B,function(E,G,F){if(D.call(A,E,G,F)){C=E;return true}});return C};AR.filter=AR.select=function(B,D,A){var C=[];if(B==null){return C}if(AE&&B.filter===AE){return B.filter(D,A)}AP(B,function(E,G,F){D.call(A,E,G,F)&&(C[C.length]=E)});return C};AR.reject=function(B,D,A){var C=[];if(B==null){return C}AP(B,function(E,G,F){D.call(A,E,G,F)||(C[C.length]=E)});return C};AR.every=AR.all=function(B,D,A){var C=true;if(B==null){return C}if(AD&&B.every===AD){return B.every(D,A)}AP(B,function(E,G,F){if(!(C=C&&D.call(A,E,G,F))){return AK}});return !!C};var f=AR.some=AR.any=function(A,D,C){D||(D=AR.identity);var B=false;if(A==null){return B}if(AB&&A.some===AB){return A.some(D,C)}AP(A,function(F,E,G){if(B||(B=D.call(C,F,E,G))){return AK}});return !!B};AR.include=AR.contains=function(B,C){var A=false;if(B==null){return A}if(AG&&B.indexOf===AG){return B.indexOf(C)!=-1}return A=f(B,function(D){return D===C})};AR.invoke=function(A,C){var B=AQ.call(arguments,2);return AR.map(A,function(D){return(AR.isFunction(C)?C||D:D[C]).apply(D,B)})};AR.pluck=function(A,B){return AR.map(A,function(C){return C[B]})};AR.max=function(A,D,C){if(!D&&AR.isArray(A)&&A[0]===+A[0]){return Math.max.apply(Math,A)}if(!D&&AR.isEmpty(A)){return -Infinity}var B={computed:-Infinity};AP(A,function(F,E,G){E=D?D.call(C,F,E,G):F;E>=B.computed&&(B={value:F,computed:E})});return B.value};AR.min=function(A,D,C){if(!D&&AR.isArray(A)&&A[0]===+A[0]){return Math.min.apply(Math,A)}if(!D&&AR.isEmpty(A)){return Infinity}var B={computed:Infinity};AP(A,function(F,E,G){E=D?D.call(C,F,E,G):F;E<B.computed&&(B={value:F,computed:E})});return B.value};AR.shuffle=function(B){var A=[],C;AP(B,function(D,E){C=Math.floor(Math.random()*(E+1));A[E]=A[C];A[C]=D});return A};AR.sortBy=function(A,D,C){var B=AR.isFunction(D)?D:function(E){return E[D]};return AR.pluck(AR.map(A,function(F,E,G){return{value:F,criteria:B.call(C,F,E,G)}}).sort(function(F,E){var H=F.criteria,G=E.criteria;return H===void 0?1:G===void 0?-1:H<G?-1:H>G?1:0}),"value")};AR.groupBy=function(A,D){var C={},B=AR.isFunction(D)?D:function(E){return E[D]};AP(A,function(F,E){var G=B(F,E);(C[G]||(C[G]=[])).push(F)});return C};AR.sortedIndex=function(A,F,E){E||(E=AR.identity);for(var D=0,C=A.length;D<C;){var B=D+C>>1;E(A[B])<E(F)?D=B+1:C=B}return D};AR.toArray=function(A){return !A?[]:AR.isArray(A)||AR.isArguments(A)?AQ.call(A):A.toArray&&AR.isFunction(A.toArray)?A.toArray():AR.values(A)};AR.size=function(A){return AR.isArray(A)?A.length:AR.keys(A).length};AR.first=AR.head=AR.take=function(B,A,C){return A!=null&&!C?AQ.call(B,0,A):B[0]};AR.initial=function(B,A,C){return AQ.call(B,0,B.length-(A==null||C?1:A))};AR.last=function(B,A,C){return A!=null&&!C?AQ.call(B,Math.max(B.length-A,0)):B[B.length-1]};AR.rest=AR.tail=function(B,A,C){return AQ.call(B,A==null||C?1:A)};AR.compact=function(A){return AR.filter(A,function(B){return !!B})};AR.flatten=function(A,B){return AR.reduce(A,function(C,D){if(AR.isArray(D)){return C.concat(B?D:AR.flatten(D))}C[C.length]=D;return C},[])};AR.without=function(A){return AR.difference(A,AQ.call(arguments,1))};AR.uniq=AR.unique=function(A,D,C){var C=C?AR.map(A,C):A,B=[];A.length<3&&(D=true);AR.reduce(C,function(G,F,E){if(D?AR.last(G)!==F||!G.length:!AR.include(G,F)){G.push(F);B.push(A[E])}return G},[]);return B};AR.union=function(){return AR.uniq(AR.flatten(arguments,true))};AR.intersection=AR.intersect=function(A){var B=AQ.call(arguments,1);return AR.filter(AR.uniq(A),function(C){return AR.every(B,function(D){return AR.indexOf(D,C)>=0})})};AR.difference=function(A){var B=AR.flatten(AQ.call(arguments,1),true);return AR.filter(A,function(C){return !AR.include(B,C)})};AR.zip=function(){for(var A=AQ.call(arguments),D=AR.max(AR.pluck(A,"length")),C=Array(D),B=0;B<D;B++){C[B]=AR.pluck(A,""+B)}return C};AR.indexOf=function(A,D,C){if(A==null){return -1}var B;if(C){C=AR.sortedIndex(A,D);return A[C]===D?C:-1}if(AG&&A.indexOf===AG){return A.indexOf(D)}C=0;for(B=A.length;C<B;C++){if(C in A&&A[C]===D){return C}}return -1};AR.lastIndexOf=function(B,A){if(B==null){return -1}if(h&&B.lastIndexOf===h){return B.lastIndexOf(A)}for(var C=B.length;C--;){if(C in B&&B[C]===A){return C}}return -1};AR.range=function(B,A,F){if(arguments.length<=1){A=B||0;B=0}for(var F=arguments[2]||1,E=Math.max(Math.ceil((A-B)/F),0),D=0,C=Array(E);D<E;){C[D++]=B;B=B+F}return C};var d=function(){};AR.bind=function(A,D){var C,B;if(A.bind===AA&&AA){return AA.apply(A,AQ.call(arguments,1))}if(!AR.isFunction(A)){throw new TypeError}B=AQ.call(arguments,2);return C=function(){if(!(this instanceof C)){return A.apply(D,B.concat(AQ.call(arguments)))}d.prototype=A.prototype;var E=new d,F=A.apply(E,B.concat(AQ.call(arguments)));return Object(F)===F?F:E}};AR.bindAll=function(A){var B=AQ.call(arguments,1);B.length==0&&(B=AR.functions(A));AP(B,function(C){A[C]=AR.bind(A[C],A)});return A};AR.memoize=function(A,C){var B={};C||(C=AR.identity);return function(){var D=C.apply(this,arguments);return AR.has(B,D)?B[D]:B[D]=A.apply(this,arguments)}};AR.delay=function(B,A){var C=AQ.call(arguments,2);return setTimeout(function(){return B.apply(null,C)},A)};AR.defer=function(A){return AR.delay.apply(AR,[A,1].concat(AQ.call(arguments,1)))};AR.throttle=function(I,H){var G,F,E,D,C,B,A=AR.debounce(function(){C=D=false},H);return function(){G=this;F=arguments;E||(E=setTimeout(function(){E=null;C&&I.apply(G,F);A()},H));D?C=true:B=I.apply(G,F);A();D=true;return B}};AR.debounce=function(B,A,D){var C;return function(){var F=this,E=arguments;D&&!C&&B.apply(F,E);clearTimeout(C);C=setTimeout(function(){C=null;D||B.apply(F,E)},A)}};AR.once=function(B){var A=false,C;return function(){if(A){return C}A=true;return C=B.apply(this,arguments)}};AR.wrap=function(B,A){return function(){var C=[B].concat(AQ.call(arguments,0));return A.apply(this,C)}};AR.compose=function(){var A=arguments;return function(){for(var B=arguments,C=A.length-1;C>=0;C--){B=[A[C].apply(this,B)]}return B[0]}};AR.after=function(B,A){return B<=0?A():function(){if(--B<1){return A.apply(this,arguments)}}};AR.keys=U||function(A){if(A!==Object(A)){throw new TypeError("Invalid object")}var C=[],B;for(B in A){AR.has(A,B)&&(C[C.length]=B)}return C};AR.values=function(A){return AR.map(A,AR.identity)};AR.functions=AR.methods=function(A){var C=[],B;for(B in A){AR.isFunction(A[B])&&C.push(B)}return C.sort()};AR.extend=function(A){AP(AQ.call(arguments,1),function(B){for(var C in B){A[C]=B[C]}});return A};AR.pick=function(A){var B={};AP(AR.flatten(AQ.call(arguments,1)),function(C){C in A&&(B[C]=A[C])});return B};AR.defaults=function(A){AP(AQ.call(arguments,1),function(B){for(var C in B){A[C]==null&&(A[C]=B[C])}});return A};AR.clone=function(A){return !AR.isObject(A)?A:AR.isArray(A)?A.slice():AR.extend({},A)};AR.tap=function(B,A){A(B);return B};AR.isEqual=function(B,A){return AF(B,A,[])};AR.isEmpty=function(A){if(A==null){return true}if(AR.isArray(A)||AR.isString(A)){return A.length===0}for(var B in A){if(AR.has(A,B)){return false}}return true};AR.isElement=function(A){return !!(A&&A.nodeType==1)};AR.isArray=AJ||function(A){return AN.call(A)=="[object Array]"};AR.isObject=function(A){return A===Object(A)};AR.isArguments=function(A){return AN.call(A)=="[object Arguments]"};AR.isArguments(arguments)||(AR.isArguments=function(A){return !(!A||!AR.has(A,"callee"))});AR.isFunction=function(A){return AN.call(A)=="[object Function]"};AR.isString=function(A){return AN.call(A)=="[object String]"};AR.isNumber=function(A){return AN.call(A)=="[object Number]"};AR.isFinite=function(A){return AR.isNumber(A)&&isFinite(A)};AR.isNaN=function(A){return A!==A};AR.isBoolean=function(A){return A===true||A===false||AN.call(A)=="[object Boolean]"};AR.isDate=function(A){return AN.call(A)=="[object Date]"};AR.isRegExp=function(A){return AN.call(A)=="[object RegExp]"};AR.isNull=function(A){return A===null};AR.isUndefined=function(A){return A===void 0};AR.has=function(B,A){return V.call(B,A)};AR.noConflict=function(){AC._=a;return this};AR.identity=function(A){return A};AR.times=function(B,A,D){for(var C=0;C<B;C++){A.call(D,C)}};AR.escape=function(A){return(""+A).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};AR.result=function(A,C){if(A==null){return null}var B=A[C];return AR.isFunction(B)?B.call(A):B};AR.mixin=function(A){AP(AR.functions(A),function(B){T(B,AR[B]=A[B])})};var S=0;AR.uniqueId=function(B){var A=S++;return B?B+A:A};AR.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var g=/.^/,AL={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"},e;for(e in AL){AL[AL[e]]=e}var R=/\\|'|\r|\n|\t|\u2028|\u2029/g,Q=/\\(\\|'|r|n|t|u2028|u2029)/g,c=function(A){return A.replace(Q,function(C,B){return AL[B]})};AR.template=function(A,D,C){C=AR.defaults(C||{},AR.templateSettings);A="__p+='"+A.replace(R,function(E){return"\\"+AL[E]}).replace(C.escape||g,function(F,E){return"'+\n_.escape("+c(E)+")+\n'"}).replace(C.interpolate||g,function(F,E){return"'+\n("+c(E)+")+\n'"}).replace(C.evaluate||g,function(F,E){return"';\n"+c(E)+"\n;__p+='"})+"';\n";C.variable||(A="with(obj||{}){\n"+A+"}\n");var A="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+A+"return __p;\n",B=new Function(C.variable||"obj","_",A);if(D){return B(D,AR)}D=function(E){return B.call(this,E,AR)};D.source="function("+(C.variable||"obj")+"){\n"+A+"}";return D};AR.chain=function(A){return AR(A).chain()};var AM=function(A){this._wrapped=A};AR.prototype=AM.prototype;var Z=function(A,B){return B?AR(A).chain():A},T=function(A,B){AM.prototype[A]=function(){var C=AQ.call(arguments);X.call(C,this._wrapped);return Z(B.apply(AR,C),this._chain)}};AR.mixin(AR);AP("pop,push,reverse,shift,sort,splice,unshift".split(","),function(B){var A=AO[B];AM.prototype[B]=function(){var D=this._wrapped;A.apply(D,arguments);var C=D.length;(B=="shift"||B=="splice")&&C===0&&delete D[0];return Z(D,this._chain)}});AP(["concat","join","slice"],function(B){var A=AO[B];AM.prototype[B]=function(){return Z(A.apply(this._wrapped,arguments),this._chain)}});AM.prototype.chain=function(){this._chain=true;return this};AM.prototype.value=function(){return this._wrapped}}).call(this);(function(){var P=this,H=P.Backbone,S;S=typeof exports!=="undefined"?exports:P.Backbone={};S.VERSION="0.5.3";var R=P._;if(!R&&typeof require!=="undefined"){R=require("underscore")._}var Q=P.jQuery||P.Zepto;S.noConflict=function(){P.Backbone=H;return this};S.emulateHTTP=!1;S.emulateJSON=!1;S.Events={bind:function(U,T,W){var V=this._callbacks||(this._callbacks={});(V[U]||(V[U]=[])).push([T,W]);return this},unbind:function(U,T){var X;if(U){if(X=this._callbacks){if(T){X=X[U];if(!X){return this}for(var W=0,V=X.length;W<V;W++){if(X[W]&&T===X[W][0]){X[W]=null;break}}}else{X[U]=[]}}}else{this._callbacks={}}return this},trigger:function(U){var T,j,Z,Y,X=2;if(!(j=this._callbacks)){return this}for(;X--;){if(T=X?U:"all",T=j[T]){for(var W=0,V=T.length;W<V;W++){(Z=T[W])?(Y=X?Array.prototype.slice.call(arguments,1):arguments,Z[0].apply(Z[1]||this,Y)):(T.splice(W,1),W--,V--)}}}return this}};S.Model=function(U,T){var V;U||(U={});if(V=this.defaults){R.isFunction(V)&&(V=V.call(this)),U=R.extend({},V,U)}this.attributes={};this._escapedAttributes={};this.cid=R.uniqueId("c");this.set(U,{silent:!0});this._changed=!1;this._previousAttributes=R.clone(this.attributes);if(T&&T.collection){this.collection=T.collection}this.initialize(U,T)};R.extend(S.Model.prototype,S.Events,{_previousAttributes:null,_changed:!1,idAttribute:"id",initialize:function(){},toJSON:function(){return R.clone(this.attributes)},get:function(T){return this.attributes[T]},escape:function(U){var T;if(T=this._escapedAttributes[U]){return T}T=this.attributes[U];return this._escapedAttributes[U]=(T==null?"":""+T).replace(/&(?!\w+;|#\d+;|#x[\da-f]+;)/gi,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},has:function(T){return this.attributes[T]!=null},set:function(U,T){T||(T={});if(!U){return this}if(U.attributes){U=U.attributes}var Z=this.attributes,Y=this._escapedAttributes;if(!T.silent&&this.validate&&!this._performValidation(U,T)){return !1}if(this.idAttribute in U){this.id=U[this.idAttribute]}var X=this._changing;this._changing=!0;for(var W in U){var V=U[W];if(!R.isEqual(Z[W],V)){Z[W]=V,delete Y[W],this._changed=!0,T.silent||this.trigger("change:"+W,this,V,T)}}!X&&!T.silent&&this._changed&&this.change(T);this._changing=!1;return this},unset:function(U,T){if(!(U in this.attributes)){return this}T||(T={});var V={};V[U]=void 0;if(!T.silent&&this.validate&&!this._performValidation(V,T)){return !1}delete this.attributes[U];delete this._escapedAttributes[U];U==this.idAttribute&&delete this.id;this._changed=!0;T.silent||(this.trigger("change:"+U,this,void 0,T),this.change(T));return this},clear:function(U){U||(U={});var T,W=this.attributes,V={};for(T in W){V[T]=void 0}if(!U.silent&&this.validate&&!this._performValidation(V,U)){return !1}this.attributes={};this._escapedAttributes={};this._changed=!0;if(!U.silent){for(T in W){this.trigger("change:"+T,this,void 0,U)}this.change(U)}return this},fetch:function(U){U||(U={});var T=this,V=U.success;U.success=function(Y,X,W){if(!T.set(T.parse(Y,W),U)){return !1}V&&V(T,Y)};U.error=O(U.error,T,U);return(this.sync||S.sync).call(this,"read",this,U)},save:function(U,T){T||(T={});if(U&&!this.set(U,T)){return !1}var X=this,W=T.success;T.success=function(Y,b,Z){if(!X.set(X.parse(Y,Z),T)){return !1}W&&W(X,Y,Z)};T.error=O(T.error,X,T);var V=this.isNew()?"create":"update";return(this.sync||S.sync).call(this,V,this,T)},destroy:function(U){U||(U={});if(this.isNew()){return this.trigger("destroy",this,this.collection,U)}var T=this,V=U.success;U.success=function(W){T.trigger("destroy",T,T.collection,U);V&&V(T,W)};U.error=O(U.error,T,U);return(this.sync||S.sync).call(this,"delete",this,U)},url:function(){var T=M(this.collection)||this.urlRoot||L();if(this.isNew()){return T}return T+(T.charAt(T.length-1)=="/"?"":"/")+encodeURIComponent(this.id)},parse:function(T){return T},clone:function(){return new this.constructor(this)},isNew:function(){return this.id==null},change:function(T){this.trigger("change",this,T);this._previousAttributes=R.clone(this.attributes);this._changed=!1},hasChanged:function(T){if(T){return this._previousAttributes[T]!=this.attributes[T]}return this._changed},changedAttributes:function(U){U||(U=this.attributes);var T=this._previousAttributes,W=!1,V;for(V in U){R.isEqual(T[V],U[V])||(W=W||{},W[V]=U[V])}return W},previous:function(T){if(!T||!this._previousAttributes){return null}return this._previousAttributes[T]},previousAttributes:function(){return R.clone(this._previousAttributes)},_performValidation:function(U,T){var V=this.validate(U);if(V){return T.error?T.error(this,V,T):this.trigger("error",this,V,T),!1}return !0}});S.Collection=function(U,T){T||(T={});if(T.comparator){this.comparator=T.comparator}R.bindAll(this,"_onModelEvent","_removeReference");this._reset();U&&this.reset(U,{silent:!0});this.initialize.apply(this,arguments)};R.extend(S.Collection.prototype,S.Events,{model:S.Model,initialize:function(){},toJSON:function(){return this.map(function(T){return T.toJSON()})},add:function(U,T){if(R.isArray(U)){for(var W=0,V=U.length;W<V;W++){this._add(U[W],T)}}else{this._add(U,T)}return this},remove:function(U,T){if(R.isArray(U)){for(var W=0,V=U.length;W<V;W++){this._remove(U[W],T)}}else{this._remove(U,T)}return this},get:function(T){if(T==null){return null}return this._byId[T.id!=null?T.id:T]},getByCid:function(T){return T&&this._byCid[T.cid||T]},at:function(T){return this.models[T]},sort:function(T){T||(T={});if(!this.comparator){throw Error("Cannot sort a set without a comparator")}this.models=this.sortBy(this.comparator);T.silent||this.trigger("reset",this,T);return this},pluck:function(T){return R.map(this.models,function(U){return U.get(T)})},reset:function(U,T){U||(U=[]);T||(T={});this.each(this._removeReference);this._reset();this.add(U,{silent:!0});T.silent||this.trigger("reset",this,T);return this},fetch:function(U){U||(U={});var T=this,V=U.success;U.success=function(Y,W,X){T[U.add?"add":"reset"](T.parse(Y,X),U);V&&V(T,Y)};U.error=O(U.error,T,U);return(this.sync||S.sync).call(this,"read",this,U)},create:function(U,T){var W=this;T||(T={});U=this._prepareModel(U,T);if(!U){return !1}var V=T.success;T.success=function(X,Z,Y){W.add(X,T);V&&V(X,Z,Y)};U.save(null,T);return U},parse:function(T){return T},chain:function(){return R(this.models).chain()},_reset:function(){this.length=0;this.models=[];this._byId={};this._byCid={}},_prepareModel:function(U,T){if(U instanceof S.Model){if(!U.collection){U.collection=this}}else{var V=U;U=new this.model(V,{collection:this});U.validate&&!U._performValidation(V,T)&&(U=!1)}return U},_add:function(U,T){T||(T={});U=this._prepareModel(U,T);if(!U){return !1}var V=this.getByCid(U);if(V){throw Error(["Can't add the same model to a set twice",V.id])}this._byId[U.id]=U;this._byCid[U.cid]=U;this.models.splice(T.at!=null?T.at:this.comparator?this.sortedIndex(U,this.comparator):this.length,0,U);U.bind("all",this._onModelEvent);this.length++;T.silent||U.trigger("add",U,this,T);return U},_remove:function(U,T){T||(T={});U=this.getByCid(U)||this.get(U);if(!U){return null}delete this._byId[U.id];delete this._byCid[U.cid];this.models.splice(this.indexOf(U),1);this.length--;T.silent||U.trigger("remove",U,this,T);this._removeReference(U);return U},_removeReference:function(T){this==T.collection&&delete T.collection;T.unbind("all",this._onModelEvent)},_onModelEvent:function(U,T,W,V){(U=="add"||U=="remove")&&W!=this||(U=="destroy"&&this._remove(T,V),T&&U==="change:"+T.idAttribute&&(delete this._byId[T.previous(T.idAttribute)],this._byId[T.id]=T),this.trigger.apply(this,arguments))}});R.each(["forEach","each","map","reduce","reduceRight","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","sortBy","sortedIndex","toArray","size","first","rest","last","without","indexOf","lastIndexOf","isEmpty","groupBy"],function(T){S.Collection.prototype[T]=function(){return R[T].apply(R,[this.models].concat(R.toArray(arguments)))}});S.Router=function(T){T||(T={});if(T.routes){this.routes=T.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var G=/:([\w\d]+)/g,F=/\*([\w\d]+)/g,E=/[-[\]{}()+?.,\\^$|#\s]/g;R.extend(S.Router.prototype,S.Events,{initialize:function(){},route:function(U,T,V){S.history||(S.history=new S.History);R.isRegExp(U)||(U=this._routeToRegExp(U));S.history.route(U,R.bind(function(W){W=this._extractParameters(U,W);V.apply(this,W);this.trigger.apply(this,["route:"+T].concat(W))},this))},navigate:function(U,T){S.history.navigate(U,T)},_bindRoutes:function(){if(this.routes){var U=[],T;for(T in this.routes){U.unshift([T,this.routes[T]])}T=0;for(var V=U.length;T<V;T++){this.route(U[T][0],U[T][1],this[U[T][1]])}}},_routeToRegExp:function(T){T=T.replace(E,"\\$&").replace(G,"([^/]*)").replace(F,"(.*?)");return RegExp("^"+T+"$")},_extractParameters:function(U,T){return U.exec(T).slice(1)}});S.History=function(){this.handlers=[];R.bindAll(this,"checkUrl")};var N=/^#*/,D=/msie [\w.]+/,K=!1;R.extend(S.History.prototype,{interval:50,getFragment:function(U,T){if(U==null){if(this._hasPushState||T){U=window.location.pathname;var V=window.location.search;V&&(U+=V);U.indexOf(this.options.root)==0&&(U=U.substr(this.options.root.length))}else{U=window.location.hash}}return decodeURIComponent(U.replace(N,""))},start:function(U){if(K){throw Error("Backbone.history has already been started")}this.options=R.extend({},{root:"/"},this.options,U);this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);U=this.getFragment();var T=document.documentMode;if(T=D.exec(navigator.userAgent.toLowerCase())&&(!T||T<=7)){this.iframe=Q('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(U)}this._hasPushState?Q(window).bind("popstate",this.checkUrl):"onhashchange" in window&&!T?Q(window).bind("hashchange",this.checkUrl):setInterval(this.checkUrl,this.interval);this.fragment=U;K=!0;U=window.location;T=U.pathname==this.options.root;if(this._wantsPushState&&!this._hasPushState&&!T){return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0}else{if(this._wantsPushState&&this._hasPushState&&T&&U.hash){this.fragment=U.hash.replace(N,""),window.history.replaceState({},document.title,U.protocol+"//"+U.host+this.options.root+this.fragment)}}if(!this.options.silent){return this.loadUrl()}},route:function(U,T){this.handlers.unshift({route:U,callback:T})},checkUrl:function(){var T=this.getFragment();T==this.fragment&&this.iframe&&(T=this.getFragment(this.iframe.location.hash));if(T==this.fragment||T==decodeURIComponent(this.fragment)){return !1}this.iframe&&this.navigate(T);this.loadUrl()||this.loadUrl(window.location.hash)},loadUrl:function(U){var T=this.fragment=this.getFragment(U);return R.any(this.handlers,function(V){if(V.route.test(T)){return V.callback(T),!0}})},navigate:function(U,T){var W=(U||"").replace(N,"");if(!(this.fragment==W||this.fragment==decodeURIComponent(W))){if(this._hasPushState){var V=window.location;W.indexOf(this.options.root)!=0&&(W=this.options.root+W);this.fragment=W;window.history.pushState({},document.title,V.protocol+"//"+V.host+W)}else{if(window.location.hash=this.fragment=W,this.iframe&&W!=this.getFragment(this.iframe.location.hash)){this.iframe.document.open().close(),this.iframe.location.hash=W}}T&&this.loadUrl(U)}}});S.View=function(T){this.cid=R.uniqueId("view");this._configure(T||{});this._ensureElement();this.delegateEvents();this.initialize.apply(this,arguments)};var C=/^(\S+)\s*(.*)$/,J=["model","collection","el","id","attributes","className","tagName"];R.extend(S.View.prototype,S.Events,{tagName:"div",$:function(T){return Q(T,this.el)},initialize:function(){},render:function(){return this},remove:function(){Q(this.el).remove();return this},make:function(U,T,V){U=document.createElement(U);T&&Q(U).attr(T);V&&Q(U).html(V);return U},delegateEvents:function(U){if(U||(U=this.events)){for(var T in R.isFunction(U)&&(U=U.call(this)),Q(this.el).unbind(".delegateEvents"+this.cid),U){var X=this[U[T]];if(!X){throw Error('Event "'+U[T]+'" does not exist')}var W=T.match(C),V=W[1];W=W[2];X=R.bind(X,this);V+=".delegateEvents"+this.cid;W===""?Q(this.el).bind(V,X):Q(this.el).delegate(W,V,X)}}},_configure:function(U){this.options&&(U=R.extend({},this.options,U));for(var T=0,W=J.length;T<W;T++){var V=J[T];U[V]&&(this[V]=U[V])}this.options=U},_ensureElement:function(){if(this.el){if(R.isString(this.el)){this.el=Q(this.el).get(0)}}else{var T=this.attributes||{};if(this.id){T.id=this.id}if(this.className){T["class"]=this.className}this.el=this.make(this.tagName,T)}}});S.Model.extend=S.Collection.extend=S.Router.extend=S.View.extend=function(U,T){var V=B(this,U,T);V.extend=this.extend;return V};var A={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};S.sync=function(U,T,W){var V=A[U];W=R.extend({type:V,dataType:"json"},W);if(!W.url){W.url=M(T)||L()}if(!W.data&&T&&(U=="create"||U=="update")){W.contentType="application/json",W.data=JSON.stringify(T.toJSON())}if(S.emulateJSON){W.contentType="application/x-www-form-urlencoded",W.data=W.data?{model:W.data}:{}}if(S.emulateHTTP&&(V==="PUT"||V==="DELETE")){if(S.emulateJSON){W.data._method=V}W.type="POST";W.beforeSend=function(X){X.setRequestHeader("X-HTTP-Method-Override",V)}}if(W.type!=="GET"&&!S.emulateJSON){W.processData=!1}return Q.ajax(W)};var I=function(){},B=function(U,T,W){var V;V=T&&T.hasOwnProperty("constructor")?T.constructor:function(){return U.apply(this,arguments)};R.extend(V,U);I.prototype=U.prototype;V.prototype=new I;T&&R.extend(V.prototype,T);W&&R.extend(V,W);V.prototype.constructor=V;V.__super__=U.prototype;return V},M=function(T){if(!T||!T.url){return null}return R.isFunction(T.url)?T.url():T.url},L=function(){throw Error('A "url" property or function must be specified')},O=function(U,T,V){return function(W){U?U(T,W,V):T.trigger("error",T,W,V)}}}).call(this);function pop(B,D){for(var A=0;A<B.length;A++){if(_.reduce(D,function(E,F){return E&&(D.key===B[A].key)},true)){var C=B[A];B.remove(A);return C}}return null}function isVisibleOnScreen(F){var D=$(window);var I=D.scrollTop();var B=D.height();var E=I+B;var C=$(F);var G=C.offset().top;var H=C.height();var A=G+H;return(G>=I&&G<E)||(A>I&&A<=E)||(H>B&&G<=I&&A>=E)}function supports_history_api(){return !!(window.history&&history.pushState)}function escapeBadCharForURL(B){if(!B){return""}var A=B.replace(/\//g," ");A=A.replace(/\+/g," ");A=A.replace(/#/g," ");A=A.replace(/%/g," ");A=A.replace(/ /g,"-");return A}function escapeHTML(A){if(!A){return""}return A.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getObjectSortAscendingFunction(A){return function(C,B){var E=C[A].toLowerCase();var D=B[A].toLowerCase();if(E<D){return -1}if(E>D){return 1}return 0}}function addPlaceHolderCapabilities(){if(!Modernizr.input.placeholder){$("[placeholder]").focus(function(){var A=$(this);if(A.val()==A.attr("placeholder")){A.val("").removeClass("placeholder");if(A.hasClass("password")){A.removeClass("password");if(!$.browser.msie||($.browser.msie&&$.browser.version.substr(0,1)>8)){this.type="password"}}}}).blur(function(){var A=$(this);if(A.val()===""||A.val()==A.attr("placeholder")){if(this.type=="password"){A.addClass("password");if(!$.browser.msie||($.browser.msie&&$.browser.version.substr(0,1)>8)){this.type="text"}}A.addClass("placeholder").val(A.attr("placeholder"))}}).blur().parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var A=$(this);if(A.val()==A.attr("placeholder")){A.val("")}})})}}function eliminateDuplicates(B){var D,A=B.length,C=[],E={};for(D=0;D<A;D++){E[B[D]]=0}for(D in E){C.push(D)}return C}String.prototype.splice=function(A,C,B){return(this.slice(0,A)+B+this.slice(A+Math.abs(C)))};Array.prototype.remove=function(C,B){var A=this.slice((B||C)+1||this.length);this.length=C<0?this.length+C:C;return this.push.apply(this,A)};Array.prototype.clone=function(){return JSON.parse(JSON.stringify(this))};if(!Array.prototype.indexOf){Array.prototype.indexOf=function(B){var A=this.length;var C=Number(arguments[1])||0;C=(C<0)?Math.ceil(C):Math.floor(C);if(C<0){C+=A}for(;C<A;C++){if(C in this&&this[C]===B){return C}}return -1}}String.prototype.endsWith=function(A){return this.indexOf(A,this.length-A.length)!==-1};XMLDocumentsToXMLString=function(A){if(window.ActiveXObject){var B=A.xml;return B}else{var B=(new XMLSerializer()).serializeToString(A);return B}};boolValue=function(A){if(A===null||A===undefined||A.length===0){return false}A=A.toUpperCase();if(A=="1"||A=="TRUE"||A=="Y"||A=="YES"||A=="ON"||A=="1.00"||A=="ENABLED"){return true}return false};boolString=function(A){if(A){return"1"}else{return"0"}};function isNumber(A){return !isNaN(parseFloat(A))&&isFinite(A)}isImageValid=function(B){if(!B){return false}B=B.replace(/\\/,"/");var A=B.lastIndexOf(".");if(A>=0){B=B.substring(A);if(B.indexOf("/")>0){return false}return true}return false};function createMailtoLink(A){if(A==null){return""}return"<a href='mailto:"+A+"'>"+A+"</a>"}addDollar=function(A){if(A==null||A==""){return""}return"$ "+A};addPercent=function(A){if(A==null||A==""){return""}return A+"%"};Object.size=function(C){var B=0,A;for(A in C){if(C.hasOwnProperty(A)){B++}}return B};function getQueryParameterByName(B){B=B.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var A="[\\?&]"+B+"=([^&#]*)";var D=new RegExp(A);var C=D.exec(window.location.search);if(C===null){return""}else{return decodeURIComponent(C[1].replace(/\+/g," "))}}function getQueryHashParameterByName(A){var B=new RegExp(A+"=([^;]*)");if(B.test(window.location.hash)){return RegExp.$1}return null}function loadjscssfile(A,B){if(B=="js"){var C=document.createElement("script");C.setAttribute("type","text/javascript");C.setAttribute("src",A)}else{if(B=="css"){var C=document.createElement("link");C.setAttribute("rel","stylesheet");C.setAttribute("type","text/css");C.setAttribute("href",A)}}if(typeof C!="undefined"){document.getElementsByTagName("head")[0].appendChild(C)}}jQuery.fn.center=function(B){var A={vertical:true,horizontal:true};op=jQuery.extend(A,B);return this.each(function(){var M=jQuery(this);var C=M.width();var N=M.height();var O=parseInt(M.css("padding-top"));var D=parseInt(M.css("padding-bottom"));var E=parseInt(M.css("border-top-width"));var L=parseInt(M.css("border-bottom-width"));var H=(E+L)/2;var J=(O+D)/2;var I=M.parent().css("position");var G=(C/2)*(-1);var K=((N/2)*(-1))-J-H;var F={position:"absolute"};if(op.vertical){F.height=N;F.top="50%";F.marginTop=K}if(op.horizontal){F.width=C;F.left="50%";F.marginLeft=G}if(I=="static"){M.parent().css("position","relative")}M.css(F)})};var keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encode64(C){if(C==undefined){return undefined}var A="";var J,H,F="";var I,G,E,D="";var B=0;do{J=C.charCodeAt(B++);H=C.charCodeAt(B++);F=C.charCodeAt(B++);I=J>>2;G=((J&3)<<4)|(H>>4);E=((H&15)<<2)|(F>>6);D=F&63;if(isNaN(H)){E=D=64}else{if(isNaN(F)){D=64}}A=A+keyStr.charAt(I)+keyStr.charAt(G)+keyStr.charAt(E)+keyStr.charAt(D);J=H=F="";I=G=E=D=""}while(B<C.length);return A}function decode64(D){if(D==undefined){return undefined}var B="";var K,I,G="";var J,H,F,E="";var C=0;var A=/[^A-Za-z0-9\+\/\=]/g;if(A.exec(D)){alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding.")}D=D.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{J=keyStr.indexOf(D.charAt(C++));H=keyStr.indexOf(D.charAt(C++));F=keyStr.indexOf(D.charAt(C++));E=keyStr.indexOf(D.charAt(C++));K=(J<<2)|(H>>4);I=((H&15)<<4)|(F>>2);G=((F&3)<<6)|E;B=B+String.fromCharCode(K);if(F!=64){B=B+String.fromCharCode(I)}if(E!=64){B=B+String.fromCharCode(G)}K=I=G="";J=H=F=E=""}while(C<D.length);return unescape(B)}(function(A){A.fn.getAttributes=function(){var B={};if(!this.length){return this}A.each(this[0].attributes,function(D,C){B[C.name]=C.value});return B};A.fn.vAlign=function(B){return this.each(function(E){var C=A(this).height()||B;var F=A(this).parent().height();var D=Math.ceil((F-C)/2);A(this).css("margin-top",D)})}})(jQuery);$(function(){addPlaceHolderCapabilities()});$(function(){window.expanz=window.expanz||{};window.expanz.Factory={Login:function(A){var C=new window.expanz.Model.Login({name:$(A).attr("name"),type:$(A).attr("type")});var B=new window.expanz.Views.LoginView({el:$(A),id:$(A).attr("name"),collection:C});return B},Activity:function(C){var A=new expanz.Model.Activity({name:$(C).attr("name"),title:$(C).attr("title"),url:$(C).attr("url"),key:$(C).attr("key"),style:$(C).attr("activityStyle"),optimisation:$(C).attr("optimisation")?boolValue($(C).attr("optimisation")):true,allowAnonymous:$(C).attr("allowAnonymous")?boolValue($(C).attr("allowAnonymous")):false});var B=new expanz.Views.ActivityView({el:$(C),id:$(C).attr("name"),key:$(C).attr("key"),collection:A});expanz.Factory.bindMethods(A,C);expanz.Factory.bindDataControls(A,C);expanz.Factory.bindFields(A,C);return B},bindFields:function(A,B){_.each(expanz.Factory.Field($(B).find("[bind=field]")),function(C){C.set({parent:A},{silent:true});A.add(C);if(C.get("anonymousBoundMethod")!=null&&C.get("anonymousBoundMethod")!=""){var D=A.get(C.get("anonymousBoundMethod"));if(D){D.addAnonymousElement(C)}}});_.each(expanz.Factory.DashboardField($(B).find("[bind=dashboardfield]")),function(D){var C=expanz.Storage.getDashboardFieldValue(D.get("dashboardName"),D.get("name"));D.set({value:C||""});expanz.Dashboards.add(D)});_.each(expanz.Factory.DependantField($(B).find("[bind=dependant]")),function(C){C.set({parent:A},{silent:true});A.add(C)})},bindMethods:function(A,B){_.each(expanz.Factory.Method($(B).find("[bind=method]")),function(C){C.set({parent:A},{silent:true});A.add(C)})},bindDataControls:function(A,B){_.each(expanz.Factory.DataControl(A.getAttr("name"),A.getAttr("style"),$(B).find("[bind=DataControl]")),function(D){D.setAttr({parent:A,activityId:A.getAttr("name")});A.addDataControl(D);if(D.getAttr("anonymousBoundMethod")!=null&&D.get("anonymousBoundMethod")!=""){var C=A.get(D.getAttr("anonymousBoundMethod"));if(C){C.addAnonymousElement(D)}}})},Field:function(B){var A=[];_.each(B,function(E){var D=new expanz.Model.Field({id:$(E).attr("name"),anonymousBoundMethod:$(E).attr("anonymousBoundMethod")});var C=new expanz.Views.FieldView({el:$(E),id:$(E).attr("id"),className:$(E).attr("class"),model:D,textTransformFunction:$(E).attr("textTransformFunction")});A.push(D)});return A},DashboardField:function(B){var A=[];_.each(B,function(E){var D=new expanz.Model.DashboardField({id:$(E).attr("dashboardName")+"_"+$(E).attr("name"),name:$(E).attr("name"),dashboardName:$(E).attr("dashboardName")});var C=new expanz.Views.FieldView({el:$(E),id:$(E).attr("id"),className:$(E).attr("class"),model:D,textTransformFunction:$(E).attr("textTransformFunction")});A.push(D)});return A},DependantField:function(B){var A=[];_.each(B,function(E){var D=new expanz.Model.Bindable({id:$(E).attr("name")});var C=new expanz.Views.DependantFieldView({el:$(E),id:$(E).attr("id"),className:$(E).attr("class"),model:D});A.push(D)});return A},Method:function(B){var A=[];_.each(B,function(F){var G;if($(F).attr("type")=="ContextMenu"){G=new expanz.Model.ContextMenu({id:$(F).attr("name"),contextObject:$(F).attr("contextObject")});var E=new expanz.Views.ContextMenuView({el:$(F),id:$(F).attr("id"),className:$(F).attr("class"),model:G})}else{var D=[];if($(F).attr("methodAttributes")){_.each($(F).attr("methodAttributes").split(";"),function(I){var H=I.split(":");if(H.length==2){D.push({name:H[0],value:H[1]})}})}G=new expanz.Model.Method({id:$(F).attr("name"),contextObject:$(F).attr("contextObject"),methodAttributes:D});var C=new expanz.Views.MethodView({el:$(F),id:$(F).attr("id"),className:$(F).attr("class"),model:G})}A.push(G)});return A},DataControl:function(D,B,C){var A=[];_.each(C,function(G){if($(G).attr("renderingType")=="grid"||$(G).attr("renderingType")=="popupGrid"){var F=new expanz.Model.Data.Grid({id:$(G).attr("name"),fieldId:$(G).attr("fieldName")||$(G).attr("name"),query:$(G).attr("query"),populateMethod:$(G).attr("populateMethod"),autoPopulate:$(G).attr("autoPopulate"),contextObject:$(G).attr("contextObject"),renderingType:$(G).attr("renderingType"),selectionChangeAnonymousMethod:$(G).attr("selectionChangeAnonymousMethod"),selectionChangeAnonymousContextObject:$(G).attr("selectionChangeAnonymousContextObject"),anonymousBoundMethod:$(G).attr("anonymousBoundMethod")});var E=new expanz.Views.GridView({el:$(G),id:$(G).attr("id"),className:$(G).attr("class"),itemsPerPage:$(G).attr("itemsPerPage"),templateName:$(G).attr("templateName"),isHTMLTable:$(G).attr("isHTMLTable"),enableConfiguration:$(G).attr("enableConfiguration"),noItemText:$(G).attr("noItemText"),model:F});$.ajax({url:"./formmapping.xml",async:false,success:function(I){var H=_.find($(I).find("activity"),function(K){return $(K).attr("name")===D&&$(K).attr("style")===B});if(H){var J=_.find($(H).find("gridview"),function(K){return $(K).attr("id")===F.getAttr("id")});if(J){_.each($(J).find("action"),function(M){var N=[];_.each($(M).find("param"),function(O){N.push({name:$(O).attr("name"),value:$(O).attr("value"),label:$(O).attr("label"),bindValueFromCellId:$(O).attr("bindValueFromCellId")})});var K=$(M).attr("methodName")||$(M).attr("menuAction");var L=$(M).attr("methodName")?"method":"menuAction";F.addAction(L,$(M).attr("id"),$(M).attr("label"),$(M).attr("width"),K,N)})}}}})}else{var F=new expanz.Model.Data.DataControl({id:$(G).attr("name"),fieldId:$(G).attr("fieldName")||$(G).attr("name"),populateMethod:$(G).attr("populateMethod"),type:$(G).attr("type"),contextObject:$(G).attr("contextObject"),autoPopulate:$(G).attr("autoPopulate"),renderingType:$(G).attr("renderingType"),selectionChangeAnonymousMethod:$(G).attr("selectionChangeAnonymousMethod"),selectionChangeAnonymousContextObject:$(G).attr("selectionChangeAnonymousContextObject"),anonymousBoundMethod:$(G).attr("anonymousBoundMethod")});if($(G).attr("renderingType")=="checkboxes"){var E=new expanz.Views.CheckboxesView({el:$(G),id:$(G).attr("id"),className:$(G).attr("class"),model:F})}else{var E=new expanz.Views.DataControlView({el:$(G),id:$(G).attr("id"),className:$(G).attr("class"),model:F})}}A.push(F)});return A}}});$(function(){window.expanz=window.expanz||{};window.expanz.Model={};window.expanz.Model.Login={};window.expanz.Model.Bindable=Backbone.Model.extend({destroy:function(){}});window.expanz.Collection=Backbone.Collection.extend({initialize:function(B,A){this.attrs={};this.setAttr(B);return },getAttr:function(A){if(this.attrs[A]){return this.attrs[A]}return false},setAttr:function(B){for(var C in B){if(C==="id"){this.id=B[C]}var A=this.attrs[C];this.attrs[C]=B[C];if(A!=this.attrs[C]){this.trigger("update:"+C)}}return true},destroy:function(){this.each(function(A){A.destroy()});return }});window.expanz.Model.Field=expanz.Model.Bindable.extend({_type:"Field",defaults:function(){return{error:false}},validate:function(A){},update:function(A){if(this.get("parent").isAnonymous()){this.set({lastValue:A.value})}else{expanz.Net.DeltaRequest(this.get("id"),A.value,this.get("parent"))}return }});window.expanz.Model.DashboardField=window.expanz.Model.Field.extend({update:function(A){return }});window.expanz.Model.Method=expanz.Model.Bindable.extend({_type:"Method",submit:function(){var E=[];if(this.get("anonymousFields")){$.each(this.get("anonymousFields"),function(F,G){if(G instanceof expanz.Model.Data.DataControl){E.push({id:G.getAttr("fieldId"),value:G.getAttr("lastValues")||""})}else{E.push({id:G.get("id"),value:G.get("lastValue")||""})}})}var C=[{name:"contextObject",value:this.get("contextObject")}];if(this.get("methodAttributes")){C=C.concat(this.get("methodAttributes"))}C=C.clone();for(var B=0;B<C.length;B++){var D=C[B].value;var A=/^%(.*)%$/.exec(D);if(A){C[B].value=$("#"+A[1]).val()}}expanz.Net.MethodRequest(this.get("id"),C,null,this.get("parent"),E);return },addAnonymousElement:function(A){var B=this.get("anonymousFields");if(B==null){B=[]}B.push(A);this.set({anonymousFields:B})}});window.expanz.Model.ContextMenu=window.expanz.Model.Method.extend({menuItemSelected:function(A){expanz.Net.CreateMenuActionRequest(this.get("parent"),null,null,A);return }});window.expanz.Model.Login=expanz.Collection.extend({collection:expanz.Model.Bindable,initialize:function(A){expanz.Collection.prototype.initialize.call(this,A)},validate:function(){if(!this.get("username").get("error")&&!this.get("password").get("error")){return true}else{return false}},login:function(){if(this.validate()){var A=this;var B=function(C){if(C&&C.length>0){this.get("error").set({value:C})}else{expanz.Net.GetSessionDataRequest({success:function(D){if(A.getAttr("type")=="popup"){window.location.reload()}else{expanz.Views.redirect(D)}}})}};expanz.Net.CreateSessionRequest(this.get("username").get("value"),this.get("password").get("value"),{success:B,error:function(C){expanz.messageController.addErrorMessageByText(C)}})}}});window.expanz.Model.Dashboards=expanz.Collection.extend({model:expanz.Model.DashboardField});window.expanz.Model.Activity=expanz.Collection.extend({model:expanz.Model.Bindable,isAnonymous:function(){return !this.getAttr("handle")},callbacks:{success:function(A){expanz.messageController.addSuccessMessageByText(A)},error:function(A){expanz.messageController.addErrorMessageByText(A)},info:function(A){expanz.messageController.addInfoMessageByText(A)}},initialize:function(A){this.dataControls={};this.loading=false;expanz.Collection.prototype.initialize.call(this,A)},getAll:function(){return this.reject(function(A){return(A.get("id")==="error")||(A.getAttr&&A.getAttr("name"))},this)},addDataControl:function(A){if(this.dataControls[A.id]===undefined){this.dataControls[A.id]=[]}this.dataControls[A.id].push(A);return },getDataControl:function(A){return this.dataControls[A]},getDataControls:function(){return this.dataControls},hasDataControl:function(){return this.dataControls!={}},load:function(){expanz.Net.CreateActivityRequest(this,this.callbacks)},destroy:function(){expanz.Net.DestroyActivityRequest(this.getAttr("handle"));expanz.Collection.prototype.destroy.call(this,this.callbacks)}});window.expanz.Model.ClientMessage=expanz.Collection.extend({model:expanz.Model.Bindable,initialize:function(A){expanz.Collection.prototype.initialize.call(this,A)}})});
/*
////////////////////////////////////////////////////////////////////////////////
//
//  EXPANZ
//  Usage: http://expanz.com/docs/client-technologies/javascript-sdk/
//  Author: Kim Damevin
//  Copyright 2008-2012 EXPANZ
//  All Rights Reserved.
//
//  NOTICE: expanz permits you to use, modify, and distribute this file
//  in accordance with the terms of the license agreement accompanying it.
//
////////////////////////////////////////////////////////////////////////////////
 */
$(function(){window.expanz=window.expanz||{};window.expanz.clientVersion="1.0";window.expanz.helper=window.expanz.helper||{};window.expanz.Net={CreateSessionRequest:function(username,password,callbacks){expanz.Storage.clearSession();var appsite=config._AppSite;var authenticationMode=config._AuthenticationMode;SendRequest(RequestObject.CreateSession(username,password,appsite,authenticationMode),parseCreateSessionResponse(callbacks))},WebServerPing:function(nbAttempts){if(nbAttempts==undefined){nbAttempts=3}if(window.expanz.pingError===undefined){window.expanz.pingError=0}SendRequest(RequestObject.WebServerPing(),function(data){var res=($(data).find("WebServerPingResult"));if(res.length>0&&res.text()=="true"){window.expanz.pingError=0;window.expanz.Storage.setPingSuccess();window.expanz.logToConsole("WEB SERVER PING OK")}else{window.expanz.pingError++;if(window.expanz.pingError===nbAttempts){expanz.Views.redirect(window.expanz.getMaintenancePage())}else{window.expanz.Net.WebServerPing(nbAttempts)}}})},GetSessionDataRequest:function(callbacks){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }SendRequest(RequestObject.GetSessionData(expanz.Storage.getSessionHandle()),parseGetSessionDataResponse(callbacks))},CreateActivityRequest:function(activity,callbacks){if(callbacks===undefined){callbacks=activity.callbacks}if(activity.getAttr("allowAnonymous")===false){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }}if(expanz.Storage.getSessionHandle()&&expanz.Storage.getSessionHandle()!==""){var activityHandle=expanz.Storage.getActivityHandle(activity.getAttr("name"),activity.getAttr("style"));if(activityHandle&&activityHandle!==undefined){activity.setAttr({handle:activityHandle})}activity.setAttr({loading:true});SendRequest(RequestObject.CreateActivity(activity,expanz.Storage.getSessionHandle()),parseCreateActivityResponse(activity,callbacks))}else{}},GetSavePreferencesRequest:function(activity,key,value,updateClientStorage,callbacks){if(activity.getAttr("allowAnonymous")===false){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }}if(updateClientStorage===true){window.expanz.Storage.setUserPreference(key,value)}if(!activity.isAnonymous()){SendRequest(RequestObject.GetSavePreferences(key,value,expanz.Storage.getSessionHandle()))}},DeltaRequest:function(id,value,activity,callbacks){if(callbacks===undefined){callbacks=activity.callbacks}if(activity.getAttr("allowAnonymous")===false){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }}var initiator={type:"field",id:id};activity.setAttr({deltaLoading:{isLoading:true,initiator:initiator}});SendRequest(RequestObject.Delta(id,value,activity,expanz.Storage.getSessionHandle()),parseDeltaResponse(activity,initiator,callbacks))},MethodRequest:function(name,methodAttributes,context,activity,anonymousFields,callbacks){if(callbacks===undefined){callbacks=activity.callbacks}if(activity.getAttr("allowAnonymous")===false){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }}var initiator={type:"method",id:name};activity.setAttr({deltaLoading:{isLoading:true,initiator:initiator}});if(activity.isAnonymous()){SendRequest(RequestObject.AnonymousMethod(name,methodAttributes,context,activity,anonymousFields),parseDeltaResponse(activity,initiator,callbacks))}else{SendRequest(RequestObject.Method(name,methodAttributes,context,activity,expanz.Storage.getSessionHandle()),parseDeltaResponse(activity,initiator,callbacks))}},AnonymousMethodsRequest:function(methods,activity,callbacks){if(callbacks===undefined){callbacks=activity.callbacks}var initiator={type:"anonymous",id:"anonymous"};activity.setAttr({deltaLoading:{isLoading:true,initiator:initiator}});SendRequest(RequestObject.AnonymousMethods(methods,activity),parseDeltaResponse(activity,initiator,callbacks))},DestroyActivityRequest:function(activityHandle,callbacks){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }SendRequest(RequestObject.DestroyActivity(activityHandle,expanz.Storage.getSessionHandle()),parseDestroyActivityResponse(callbacks))},DataRefreshRequest:function(dataId,activity,callbacks){if(callbacks===undefined){callbacks=activity.callbacks}if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }var initiator={type:"resfresh",id:dataId};activity.setAttr({deltaLoading:{isLoading:true,initiator:initiator}});SendRequest(RequestObject.DataRefresh(dataId,activity,expanz.Storage.getSessionHandle()),parseDeltaResponse(activity,initiator,callbacks))},ReleaseSessionRequest:function(callbacks){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }SendRequest(RequestObject.ReleaseSession(expanz.Storage.getSessionHandle()),parseReleaseSessionResponse(callbacks))},GetBlobRequest:function(blobId,activity,initiator){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }activity.setAttr({deltaLoading:{isLoading:false,initiator:initiator}});SendNormalRequest(RequestObject.GetBlob(blobId,activity,expanz.Storage.getSessionHandle()))},GetFileRequest:function(filename,activity,initiator){if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }activity.setAttr({deltaLoading:{isLoading:false,initiator:initiator}});SendNormalRequest(RequestObject.GetFile(filename,activity,expanz.Storage.getSessionHandle()))},CreateMenuActionRequest:function(activity,contextId,contextType,menuAction,defaultAction,setIdFromContext,callbacks){if(callbacks===undefined){callbacks=activity.callbacks}if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle()===""){expanz.Views.requestLogin();return }var initiator={type:"menuaction",id:contextId};activity.setAttr({deltaLoading:{isLoading:true,initiator:initiator}});SendRequest(RequestObject.CreateMenuAction(activity,contextId,contextType,menuAction,defaultAction,setIdFromContext,expanz.Storage.getSessionHandle()),parseDeltaResponse(activity,initiator,callbacks))},CreateAnonymousRequest:function(xmlData,callbacks){if(callbacks===undefined){callbacks=window.expanz.defaultCallbacks}SendRequest(RequestObject.CreateAnonymousRequest(xmlData),parseExecAnonymousResponse(callbacks))}};var XMLNamespace=window.config._XMLNamespace||XMLNamespace;var RequestObject={CreateSession:function(username,password,appsite,authenticationMode){return{data:buildRequest("CreateSessionX",XMLNamespace)(RequestBody.CreateSession(username,password,appsite,authenticationMode)),url:"CreateSessionX"}},Ping:function(){return{data:buildRequest("Ping",XMLNamespace)(""),url:"Ping"}},WebServerPing:function(){return{data:"",url:"WebServerPing",method:"GET"}},GetSessionData:function(sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.GetSessionData()),url:"ExecX"}},GetSavePreferences:function(key,value,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.CreateSavePreferences(key,value)),url:"ExecX"}},CreateActivity:function(activity,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.CreateActivity(activity)),url:"ExecX"}},Delta:function(id,value,activity,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.Delta(id,value,activity)),url:"ExecX"}},Method:function(name,methodAttributes,context,activity,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.CreateMethod(name,methodAttributes,context,activity)),url:"ExecX"}},AnonymousMethod:function(name,methodAttributes,context,activity,anonymousFields){return{data:buildRequest("ExecAnonymousX",XMLNamespace,null,true)(RequestBody.CreateMethod(name,methodAttributes,context,activity,anonymousFields)),url:"ExecAnonymousX"}},AnonymousMethods:function(methods,activity){return{data:buildRequest("ExecAnonymousX",XMLNamespace,null,true)(RequestBody.CreateAnonymousMethods(methods,activity)),url:"ExecAnonymousX"}},DestroyActivity:function(activityHandle,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.DestroyActivity(activityHandle)),url:"ExecX"}},ReleaseSession:function(sessionHandle){return{data:buildRequest("ReleaseSession",XMLNamespace,sessionHandle)(RequestBody.CreateReleaseSession()),url:"ReleaseSession"}},GetBlob:function(blobId,activity,sessionHandle){return{data:buildRequestWithoutESA("GetBlob",XMLNamespace,sessionHandle)(RequestBody.GetBlob(blobId,activity)),url:"GetBlob"}},GetFile:function(filename,activity,sessionHandle){return{data:buildRequestWithoutESA("GetFile",XMLNamespace,sessionHandle)(RequestBody.GetFile(filename,activity)),url:"GetFile"}},DataRefresh:function(dataId,activity,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.DataRefresh(dataId,activity)),url:"ExecX"}},CreateMenuAction:function(activity,contextId,contextType,menuAction,defaultAction,setIdFromContext,sessionHandle){return{data:buildRequest("ExecX",XMLNamespace,sessionHandle)(RequestBody.CreateMenuAction(activity,contextId,contextType,menuAction,defaultAction,setIdFromContext)),url:"ExecX"}},CreateAnonymousRequest:function(xmlData){return{data:buildRequest("ExecAnonymousX",XMLNamespace,null,true)(xmlData),url:"ExecAnonymousX"}}};var buildRequest=function(requestType,xmlns,sessionHandle,includeSite){return function insertBody(body){var site=includeSite?"<site>"+config._AppSite+"</site>":"";var namespace=xmlns?' xmlns="'+xmlns+'" ':"";var head="<"+requestType+namespace+">"+site+"<xml><ESA>";var tail="</ESA></xml>";tail+=sessionHandle?"<sessionHandle>"+sessionHandle+"</sessionHandle>":"";tail+="</"+requestType+">";return head+body+tail}};var buildRequestWithoutESA=function(requestType,xmlns,sessionHandle){return function insertBody(body){var head="<"+requestType+' xmlns="'+xmlns+'">';head+=sessionHandle?"<sessionHandle>"+sessionHandle+"</sessionHandle>":"";var tail="";tail+="</"+requestType+">";return head+body+tail}};var RequestBody={CreateSession:function(username,password,appsite,authenticationMode){if(authenticationMode===undefined){authenticationMode="Primary"}return'<CreateSession user="'+username+'" password="'+password+'" appSite="'+appsite+'" authenticationMode="'+authenticationMode+'" clientType="HTML" clientVersion="'+window.expanz.clientVersion+'" schemaVersion="2.0"/>'},GetSessionData:function(){return"<GetSessionData/>"},CreateSavePreferences:function(key,value){return'<SavePreferences><UserPreference key="'+key+'" value="'+value+'" /></SavePreferences>'},CreateActivity:function(activity){var handle=activity.getAttr("handle");var center="";var unmaskedFields="";if(activity.getAttr("optimisation")===true){var fields=activity.getAll();if(fields){_.each(fields,function(field){if(field._type=="Field"){unmaskedFields+='<Field id="'+field.get("id")+'" masked="0" />'}})}}center="";if(handle){if(activity.getAttr("optimisation")===true){center+='<Activity activityHandle="'+handle+'">'+unmaskedFields+"</Activity> "}center+='<PublishSchema activityHandle="'+handle+'"> '}else{center+="<CreateActivity ";center+='name="'+activity.getAttr("name")+'"';activity.getAttr("style")?center+=' style="'+activity.getAttr("style")+'"':"";activity.getAttr("optimisation")?center+=' suppressFields="1"':"";center+=activity.getAttr("key")?' initialKey="'+activity.getAttr("key")+'">':">";if(activity.getAttr("optimisation")===true){center+=unmaskedFields}}if(activity.hasDataControl()){_.each(activity.getDataControls(),function(dataControl,dataControlId){dataControl=dataControl[0];var populateMethod=dataControl.getAttr("populateMethod")?' populateMethod="'+dataControl.getAttr("populateMethod")+'"':"";var query=dataControl.getAttr("query")?' query="'+dataControl.getAttr("query")+'"':"";var autoPopulate=dataControl.getAttr("autoPopulate")?' autoPopulate="'+dataControl.getAttr("autoPopulate")+'"':"";var type=dataControl.getAttr("type")?' type="'+dataControl.getAttr("type")+'"':"";center+='<DataPublication id="'+dataControlId+'"'+query+populateMethod+autoPopulate+type;dataControl.getAttr("contextObject")?center+=' contextObject="'+dataControl.getAttr("contextObject")+'"':"";center+="/>"})}if(handle){center+="</PublishSchema>"}else{center+="</CreateActivity>"}return center},Delta:function(id,value,activity){return'<Activity activityHandle="'+activity.getAttr("handle")+'"><Delta id="'+id+'" value="'+value+'"/></Activity>'},CreateMethod:function(name,methodAttributes,context,activity,anonymousFields){var body="<Activity ";if(activity.isAnonymous()){body+='id="'+activity.getAttr("name")+'" >';if(activity.hasDataControl()){_.each(activity.getDataControls(),function(dataControl,dataControlId){dataControl=dataControl[0];var populateMethod=dataControl.getAttr("populateMethod")?' populateMethod="'+dataControl.getAttr("populateMethod")+'"':"";var query=dataControl.getAttr("query")?' query="'+dataControl.getAttr("query")+'"':"";var autoPopulate=dataControl.getAttr("autoPopulate")?' autoPopulate="'+dataControl.getAttr("autoPopulate")+'"':"";var type=dataControl.getAttr("type")?' type="'+dataControl.getAttr("type")+'"':"";body+='<DataPublication id="'+dataControlId+'"'+query+populateMethod+autoPopulate+type;dataControl.getAttr("contextObject")?body+=' contextObject="'+dataControl.getAttr("contextObject")+'"':"";body+="/>"})}}else{body+=' activityHandle="'+activity.getAttr("handle")+'">'}if(context!==null&&context.id){body+='<Context contextObject="'+context.contextObject+'" id="'+context.id+'" type="'+context.type+'" />'}body+='<Method name="'+name+'"';if(methodAttributes!==undefined&&methodAttributes.length>0){_.each(methodAttributes,function(attribute){if(attribute.value!==undefined){body+=" "+attribute.name+"='"+attribute.value+"' "}})}if(activity.isAnonymous()){body+=" company='"+config._anonymousCompanyCode+"' "}body+=">";if(activity.isAnonymous()&&anonymousFields&&anonymousFields.length>0){_.each(anonymousFields,function(field){body+="<"+field.id+">"+field.value+"</"+field.id+">"})}body+="</Method>";body+="</Activity>";return body},CreateAnonymousMethods:function(methods,activity){var body="<Activity ";body+='id="'+activity.getAttr("name")+'" >';if(activity.hasDataControl()){_.each(activity.getDataControls(),function(dataControl,dataControlId){dataControl=dataControl[0];var populateMethod=dataControl.getAttr("populateMethod")?' populateMethod="'+dataControl.getAttr("populateMethod")+'"':"";var query=dataControl.getAttr("query")?' query="'+dataControl.getAttr("query")+'"':"";var autoPopulate=dataControl.getAttr("autoPopulate")?' autoPopulate="'+dataControl.getAttr("autoPopulate")+'"':"";var type=dataControl.getAttr("type")?' type="'+dataControl.getAttr("type")+'"':"";body+='<DataPublication id="'+dataControlId+'"'+query+populateMethod+autoPopulate+type;dataControl.getAttr("contextObject")?body+=' contextObject="'+dataControl.getAttr("contextObject")+'"':"";body+="/>"})}$.each(methods,function(index,value){body+='<Method name="'+value.name+'"';body+=" contextObject='"+value.contextObject+"' ";body+=" company='"+config._anonymousCompanyCode+"' ";body+=">";if(value.additionalElement){body+=value.additionalElement}body+="</Method>"});body+="</Activity>";return body},CreateMenuAction:function(activity,contextId,contextType,menuAction,defaultAction,setIdFromContext){var mnuActionStr='<Activity activityHandle="'+activity.getAttr("handle")+'">';var contextObjectStr=contextType?' contextObject="'+contextType+'"':"";if(contextId){mnuActionStr+='<Context id="'+contextId+'"'+contextObjectStr;mnuActionStr+=setIdFromContext?" setIdFromContext='1' ":"";mnuActionStr+="/>"}mnuActionStr+="<MenuAction ";if(menuAction){mnuActionStr+=' action="'+menuAction+'" '}else{mnuActionStr+=' defaultAction="'+defaultAction+'" '}mnuActionStr+=contextObjectStr+"/></Activity>";return mnuActionStr},DestroyActivity:function(activityHandle,sessionHandle){return'<Close activityHandle="'+activityHandle+'"/>'},CreateReleaseSession:function(){return"<ReleaseSession/>"},GetBlob:function(blobId,activity){return"<activityHandle>"+activity.getAttr("handle")+"</activityHandle><blobId>"+blobId+"</blobId><isbyteArray>false</isbyteArray>"},GetFile:function(filename,activity){return"<activityHandle>"+activity.getAttr("handle")+"</activityHandle><fileName>"+filename+"</fileName><isbyteArray>false</isbyteArray>"},DataRefresh:function(dataId,activity){return"<activityHandle>"+activity.getAttr("handle")+'</activityHandle><DataPublication id="'+dataId+'" refresh="1" />'}};var parseCreateSessionResponse=function(callbacks){return function apply(xml){if($(xml).find("CreateSessionXResult").length>0){expanz.Storage.setSessionHandle($(xml).find("CreateSessionXResult").text())}else{if(callbacks&&callbacks.error){callbacks.error("Error: Server did not provide a sessionhandle. We are unable to log you in at this time.")}return }if(!expanz.Storage.getSessionHandle()||expanz.Storage.getSessionHandle().length===0){var errorString="";$(xml).find("errorMessage").each(function(){errorString=$(this).text()});if(errorString.length>0){if(callbacks&&callbacks.error){callbacks.error(errorString)}return }}else{if(callbacks&&callbacks.success){callbacks.success()}}return }};function parseProcessAreas(xmlElement){var processAreas=[];$(xmlElement).children("processarea").each(function(){var processArea=new ProcessArea($(this).attr("id"),$(this).attr("title"));var subProcessAreas=parseProcessAreas($(this));if(subProcessAreas.length>0){processArea.pa=subProcessAreas}$(this).children("activity").each(function(){processArea.activities.push(new ActivityInfo($(this).attr("name"),$(this).attr("title"),"#",$(this).attr("style"),$(this).attr("image")))});processAreas.push(processArea)});return processAreas}function parseRoles(xmlElement){if(xmlElement==undefined||xmlElement.length==0){return null}var roles={};$(xmlElement).children("UserRole").each(function(){roles[$(this).attr("id")]={id:$(this).attr("id"),name:$(this).text()}});return roles}function parseDashboards(xmlElement){if(xmlElement==undefined||xmlElement.length==0){return null}var dashboards={};$(xmlElement).children().each(function(){dashboards[this.tagName]={id:this.tagName};for(var j=0;j<this.attributes.length;j++){var attribute=this.attributes.item(j);dashboards[this.tagName][attribute.nodeName]=attribute.nodeValue;var dashboardField=window.expanz.Dashboards.get(this.tagName+"_"+attribute.nodeName);if(dashboardField!=null){dashboardField.set({value:attribute.nodeValue})}}});return dashboards}function fillActivityData(processAreas,url,name,style,gridviewList){$.each(processAreas,function(i,processArea){$.each(processArea.activities,function(j,activity){if(activity.name==name&&activity.style==style){activity.url=url;activity.gridviews=gridviewList}});fillActivityData(processArea.pa,url,name,style,gridviewList)})}function parseExecAnonymousResponse(callbacks){return function apply(xml){var execResults=$(xml).find("ExecAnonymousXResult");var success=false;if(execResults.length>0){var esaResult=$(execResults).find("ESA");success=boolValue(esaResult.attr("success"));$(execResults).find("Method").each(function(){var res=boolValue($(this).attr("result"));var methodName=$(this).attr("name");$("body").trigger(methodName,res)});var serverMessage=esaResult.attr("serverMessage")||"";if(!success&&$(xml).find("errors").length>0){serverMessage+=$(xml).find("errors").text()}if(serverMessage!==undefined&&serverMessage.length>0){if(success){if(callbacks&&callbacks.info){callbacks.info(serverMessage)}}else{if(callbacks&&callbacks.error){callbacks.error(serverMessage)}}}$(execResults).find("Message").each(function(){if($(this).attr("type")=="Error"||$(this).attr("type")=="Warning"){if(callbacks&&callbacks.error){callbacks.error($(this).text())}}else{if($(this).attr("type")=="Info"){if(callbacks&&callbacks.info){callbacks.info($(this).text())}}}})}}}function parseGetSessionDataResponse(callbacks){return function apply(xml){var processAreas=parseProcessAreas($(xml).find("Menu"));var roles=parseRoles($(xml).find("Roles"));expanz.Storage.setRolesList(roles);var dashboards=parseDashboards($(xml).find("Dashboards"));expanz.Storage.setDashboards(dashboards);$(xml).find("PublishPreferences").find("Preference").each(function(){window.expanz.Storage.setUserPreference($(this).attr("key"),$(this).attr("value"))});$.get("./formmapping.xml",function(data){$(data).find("activity").each(function(){var name=$(this).attr("name");var url=$(this).attr("form");var style=$(this).attr("style")||"";var gridviewList=[];$(this).find("gridview").each(function(){var gridview=new GridViewInfo($(this).attr("id"));gridviewList.push(gridview)});fillActivityData(processAreas,url,name,style,gridviewList)});expanz.Storage.setProcessAreaList(processAreas);$(data).find("activity").each(function(){if($(this).attr("default")=="true"){if(callbacks&&callbacks.success){callbacks.success($(this).attr("form"))}return }})})}}function parseCreateActivityResponse(activity,callbacks){return function apply(xml){$(xml).find("errors").each(function(){if($(xml).find("errors").text().indexOf(":Your session cannot be contacted")!=-1){if(activity.getAttr("allowAnonymous")===false){expanz.Views.redirect(window.expanz.getMaintenancePage())}}});var execResults=$(xml).find("ExecXResult");if(execResults){$(execResults).find("Message").each(function(){if($(this).attr("type")=="Error"||$(this).attr("type")=="Warning"){var sessionLost=/Session .* not found/.test($(this).text());var activityNotFound=/Activity .* not found/.test($(this).text());if(sessionLost||activityNotFound){expanz.Storage.clearSession();if(activity.getAttr("allowAnonymous")===false){window.expanz.showLoginPopup(activity,true);return }}if(callbacks&&callbacks.error){callbacks.error($(this).text())}}else{if($(this).attr("type")=="Info"){if(callbacks&&callbacks.info){callbacks.info($(this).text())}}}});var dashboards=parseDashboards($(execResults).find("Dashboards"));if(dashboards!=null){expanz.Storage.setDashboards(dashboards)}$(execResults).find("Activity").each(function(){activity.setAttr({handle:$(this).attr("activityHandle")});expanz.Storage.setActivityHandle($(this).attr("activityHandle"),activity.getAttr("name"),activity.getAttr("style"))});$(execResults).find("Field").each(function(){var field=activity.get($(this).attr("id"));if(field){field.set({text:$(this).attr("text"),disabled:boolValue(this.getAttribute("disabled")),maxLength:$(this).attr("maxLength"),mask:$(this).attr("mask"),label:$(this).attr("label"),items:$(this).find("Item"),value:$(this).attr("value")=="$longData$"?$(this).text():$(this).attr("value")});if($(this).attr("datatype")){field.set({datatype:$(this).attr("datatype")},{silent:true});if($(this).attr("datatype").toLowerCase()==="blob"&&$(this).attr("url")){field.set({value:$(this).attr("url")})}}}});_.each($(execResults).find("Data"),function(data){var dataControlId=$(data).attr("id");var dataControlModels=activity.getDataControl(dataControlId);if(dataControlModels!==undefined){for(var i=0;i<dataControlModels.length;i++){dataControlModel=dataControlModels[i];if(dataControlModel.getAttr("renderingType")=="popupGrid"){}else{if(dataControlModel.getAttr("renderingType")=="grid"){fillGridModel(dataControlModel,data);dataControlModel.actionSelected=function(selectedId,name,params){expanz.Net.MethodRequest(name,params,null,activity)};dataControlModel.menuActionSelected=function(selectedId,name,params){expanz.Net.CreateMenuActionRequest(this.getAttr("parent"),selectedId,null,name,"1",true,callbacks)}}else{dataControlModel.setAttr({xml:$(data)})}}}}});if(callbacks&&callbacks.success){callbacks.success("Activity ("+activity.name+") has been loaded: "+execResults)}}else{if(callbacks&&callbacks.error){callbacks.error("Server gave an empty response to a CreateActivity request: "+xml)}}activity.setAttr({loading:false});return }}function parseDeltaResponse(activity,initiator,callbacks){return function apply(xml){$(xml).find("errors").each(function(){if($(xml).find("errors").text().indexOf(":Your session cannot be contacted")!=-1){expanz.Views.redirect(window.expanz.getMaintenancePage())}});var execResults=$(xml).find("ExecXResult");if(execResults==null||execResults.length==0){execResults=$(xml).find("ExecAnonymousXResult")}if(execResults){if(!activity.isAnonymous()){$(execResults).find("Activity[activityHandle!='"+activity.getAttr("handle")+"']").remove()}var errors=[];var infos=[];var dashboards=parseDashboards($(execResults).find("Dashboards"));if(dashboards!=null){expanz.Storage.setDashboards(dashboards)}$(execResults).find("Message").each(function(){if($(this).attr("type")=="Error"||$(this).attr("type")=="Warning"){var sessionLost=/Session .* not found/.test($(this).text());var activityNotFound=/Activity .* not found/.test($(this).text());if(sessionLost||activityNotFound){window.expanz.showLoginPopup(activity,true);return }var source=$(this).attr("source");if(source&&source!==undefined){var field=activity.get(source);if(field&&field!==undefined){field.set({errorMessage:(this.textContent||this.innerText),error:true})}}errors.push($(this).text())}else{if($(this).attr("type")=="Info"){infos.push($(this).text())}}});if(callbacks&&callbacks.error){if(errors){callbacks.error(errors)}else{callbacks.error(null)}}if(callbacks&&callbacks.info){if(infos){callbacks.info(infos)}else{callbacks.info(null)}}$(execResults).find("ActivityRequest").each(function(){var id=$(this).attr("id");var key=$(this).attr("key");var style=$(this).attr("style")||"";window.expanz.createActivityWindow(activity,id,style,key)});$(execResults).find("ContextMenu").each(function(){var caller=window.expanz.currentContextMenu;if(caller!==null){caller.set({data:null});caller.set({data:$(this)})}});$(execResults).find("Field").each(function(){var id=$(this).attr("id");var field=activity.get(id);if(field&&field!==undefined){if((field.get("value")&&(field.get("value")!=$(this).attr("value")))||!field.get("value")){if($(this).attr("disabled")){field.set({disabled:boolValue(this.getAttribute("disabled"))})}field.set({items:$(this).find("Item"),text:$(this).attr("text"),value:$(this).attr("value")=="$longData$"?$(this).text():$(this).attr("value")})}if(boolValue($(this).attr("valid"))&&field.get("errorMessage")!==undefined){field.set({errorMessage:undefined})}if(field.get("url")&&(field.get("url")!=$(this).attr("url"))){field.set({value:$(this).attr("url")})}}});$(execResults).find("File").each(function(data){if($(this).attr("field")!==undefined&&$(this).attr("path")!=undefined){expanz.Net.GetBlobRequest($(this).attr("field"),activity,initiator)}else{if($(this).attr("name")!==undefined){expanz.Net.GetFileRequest($(this).attr("name"),activity,initiator)}else{}}});$(execResults).find("UIMessage").each(function(){var clientMessage=new expanz.Model.ClientMessage({id:"ExpanzClientMessage",title:$(this).attr("title"),text:$(this).attr("text"),parent:activity});$(this).find("Action").each(function(action){if(!window.XMLSerializer){window.XMLSerializer=function(){};window.XMLSerializer.prototype.serializeToString=function(XMLObject){return XMLObject.xml||""}}var methodAttributes=[];if($("Request > Method",this)[0]&&$("Request > Method",this)[0].attributes.length>0){_.each($("Request > Method",this)[0].attributes,function(attribute){if(attribute.name!="name"){methodAttributes.push({name:attribute.name,value:attribute.value})}})}var actionModel=new expanz.Model.Method({id:$("Request > Method",this)[0]?$($("Request > Method",this)[0]).attr("name"):"close",label:$(this).attr("label"),response:$("Response",this)[0]?$($("Response",this)[0]).children():undefined,parent:activity,methodAttributes:methodAttributes});clientMessage.add(actionModel)});var uiMsg=new window.expanz.Views.UIMessage({id:clientMessage.id,model:clientMessage},$("body"))});$(execResults).find("Data").each(function(){var id=$(this).attr("id");var pickfield=$(this).attr("pickField");var contextObject=$(this).attr("contextObject");if(id=="picklist"){var elId=id+pickfield.replace(/ /g,"_");var clientMessage=new expanz.Model.ClientMessage({id:elId,title:pickfield,text:"",parent:activity});var gridEl=$("#"+elId);var picklistWindow=new window.expanz.Views.PicklistWindowView({id:clientMessage.id,model:clientMessage},$("body"));expanz.Factory.bindDataControls(activity,picklistWindow.el.parent());var gridModels=activity.getDataControl(elId);if(gridModels!==undefined){for(var i=0;i<gridModels.length;i++){gridModel=gridModels[i];fillGridModel(gridModel,$(this));picklistWindow.center();gridModel.updateRowSelected=function(selectedId,type){var clientFunction=window["picklistUpdateRowSelected"+type];if(typeof (clientFunction)=="function"){clientFunction(selectedId)}else{var context={id:selectedId,contextObject:contextObject,type:type};var methodAttributes=[{name:"contextObject",value:contextObject}];expanz.Net.MethodRequest("SetIdFromContext",methodAttributes,context,activity)}picklistWindow.close()}}}else{alert("Unexpected error while trying to display the picklist")}}else{var dataControlModels=activity.getDataControl(id);if(dataControlModels!==undefined){for(var i=0;i<dataControlModels.length;i++){dataControlModel=dataControlModels[i];if(dataControlModel.getAttr("renderingType")=="grid"||dataControlModel.getAttr("renderingType")=="popupGrid"){fillGridModel(dataControlModel,$(this));dataControlModel.actionSelected=function(selectedId,name,params){expanz.Net.MethodRequest(name,params,null,activity)};dataControlModel.menuActionSelected=function(selectedId,name,params){expanz.Net.CreateMenuActionRequest(this.getAttr("parent"),selectedId,null,name,"1",true,callbacks)}}else{dataControlModel.setAttr({xml:$(this)})}}}}});if(callbacks&&callbacks.success){callbacks.success("Delta handled: "+execResults)}}activity.setAttr({deltaLoading:{isLoading:false,initiator:initiator}});return }}function parseDestroyActivityResponse(callbacks){return function apply(xml){var execResults=$(xml).find("ExecXResult");if(xml&&execResults){var esaResult=$(execResults).find("ESA");if(esaResult){if($(esaResult).attr("success")===1){if(callbacks&&callbacks.success){callbacks.success(true);return true}}}}if(callbacks&&callbacks.error){callbacks.error(true)}return }}function parseReleaseSessionResponse(callbacks){return function apply(xml){var result=$(xml).find("ReleaseSessionResult").text();if(result==="true"){if(callbacks&&callbacks.success){callbacks.success(result);return }}if(callbacks&&callbacks.error){callbacks.error(result)}return }}var SendRequest=function(request,responseHandler,isPopup){if(config._URLproxy!==undefined&&config._URLproxy.length>0){$.ajax({type:"POST",url:config._URLproxy,data:{url:getURLRestService(request.url),data:request.data,method:request.method||"POST"},dataType:"XML",processData:true,complete:function(HTTPrequest){if(HTTPrequest.status!=200){eval(responseHandler)("There was a problem with the last request.")}else{if(isPopup!==undefined&&isPopup===true){var WinId=window.open("","newwin","width=400,height=500");WinId.document.open();WinId.document.write(HTTPrequest.responseText);WinId.document.close()}else{if(responseHandler){eval(responseHandler)(HTTPrequest.responseXML)}}}}})}else{$.ajax({type:request.method||"POST",url:getURLRestService(request.url),data:request.data,dataType:"XML",processData:true,complete:function(HTTPrequest){if(HTTPrequest.status!=200){eval(responseHandler)("There was a problem with the last request.")}else{if(isPopup!==undefined&&isPopup===true){var WinId=window.open("","newwin","width=400,height=500");WinId.document.open();WinId.document.write(HTTPrequest.responseText);WinId.document.close()}else{if(responseHandler){eval(responseHandler)(HTTPrequest.responseXML)}}}}})}};var SendNormalRequest=function(request){if($("#formFile")){$("#formFile").remove()}var form="";form+="<form method='post' id='formFile' target='_blank' action='"+config._URLproxy+"'>";form+="<input type='hidden' name='url' value='"+getURLRestService(request.url)+"'>";form+="<input type='hidden' name='data' value='"+request.data+"'>";form+="</form>";$("body").append(form);$("#formFile").submit()};function ProcessArea(id,title){this.id=id;this.title=title;this.activities=[];this.pa=[]}function ActivityInfo(name,title,url,style,image){this.name=name;this.title=title;this.url=url;this.style=style||"";if(image!==undefined){this.img=image}else{this.img="assets/images/"+name+style+".png"}this.gridviews=[]}function GridViewInfo(id){this.id=id;this.columns=[];this.addColumn=function(field,width){this.columns.push(new ColumnInfo(field,width))};function ColumnInfo(field,width){this.field=field;this.width=width}}function fillGridModel(gridModel,data){gridModel.clear();gridModel.setAttr({source:$(data).attr("source")});var columnMap=Object();_.each($(data).find("Column"),function(column){var field=$(column).attr("field")?$(column).attr("field"):$(column).attr("id");field=field.replace(/\./g,"_");columnMap[$(column).attr("id")]=field;gridModel.addColumn($(column).attr("id"),$(column).attr("field"),$(column).attr("label"),$(column).attr("datatype"),$(column).attr("width"))});_.each($(data).find("Row"),function(row){var rowId=$(row).attr("id");gridModel.addRow(rowId,$(row).attr("type")||$(row).attr("Type"));_.each($(row).find("Cell"),function(cell){cell=XMLDocumentsToXMLString(cell);gridModel.addCell(rowId,$(cell).attr("id"),$(cell).text(),columnMap[$(cell).attr("id")],$(cell).attr("sortValue"))})});gridModel.trigger("update:grid")}function getURLRestService(path){var sep="";if(!config._URLprefix.endsWith("/")){sep="/"}return config._URLprefix+sep+path}});$(function(){window.expanz=window.expanz||{};window.expanz.Storage={_getBestStorage:function(){if(window.localStorage!==null&&window.localStorage){window.localStorage.length;return this.localStorage}else{return this.cookies}},_getStorageGlobalName:function(){return"_expanz_"+config._AppSite+"_"},getSessionHandle:function(){var A=this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"session.handle");if(A=="undefined"){return undefined}return A},setSessionHandle:function(A){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"session.handle",A);return true},getActivityHandle:function(C,B){var A=this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"activity.handle."+C+B);if(A=="undefined"){return undefined}if(A){A=A.replace("_",".")}return A},setActivityHandle:function(B,C,A){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"activity.handle."+C+A,B.replace(".","_"));return true},getProcessAreaList:function(){if(typeof this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"processarea.list")=="object"){return this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"processarea.list")}return JSON.parse(this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"processarea.list"))},setProcessAreaList:function(A){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"processarea.list",JSON.stringify(A));return true},setRolesList:function(A){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"roles.list",JSON.stringify(A));return true},hasRole:function(B){var A=JSON.parse(this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"roles.list"));if(A!=null){return(A[B]!=undefined)}return false},setDashboards:function(A){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"dashboards",JSON.stringify(A));return true},getDashboardFieldValue:function(A,C){var B=JSON.parse(this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"dashboards"));if(B!=null&&B[A]!=null){return(B[A][C])}return null},getLastPingSuccess:function(){return this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"lastPingSuccess")},setPingSuccess:function(){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"lastPingSuccess",(new Date()).getTime());return true},getLastURL:function(){return this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"lastURL")},setLastURL:function(A){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"lastURL",A);return true},clearLastURL:function(){this._getBestStorage().remove(expanz.Storage._getStorageGlobalName()+"lastURL");return true},setUserPreference:function(A,B){this._getBestStorage().set(expanz.Storage._getStorageGlobalName()+"UserPreference"+A,B);return true},getUserPreference:function(A){return this._getBestStorage().get(expanz.Storage._getStorageGlobalName()+"UserPreference"+A)},clearSession:function(){this._getBestStorage().remove(expanz.Storage._getStorageGlobalName()+"session.handle");this._getBestStorage().remove(expanz.Storage._getStorageGlobalName()+"lastPingSuccess");this._getBestStorage().remove(expanz.Storage._getStorageGlobalName()+"roles.list");this._getBestStorage().remove(expanz.Storage._getStorageGlobalName()+"dashboards");this.clearActivityHandles();return true},clearActivityHandles:function(D,A){var C=this._getBestStorage();var B=C.getKeys(expanz.Storage._getStorageGlobalName()+"activity.handle");_.each(B,function(E){C.remove(E)})},clearActivityHandle:function(C,B){var A=this.getActivityHandle(C,B);if(A!==undefined){this._getBestStorage().remove(expanz.Storage._getStorageGlobalName()+"activity.handle."+C+B);expanz.Net.DestroyActivityRequest(A)}return A},cookies:{name:"cookie",set:function(A,B){$.cookies.set(A,B)},get:function(A){return $.cookies.get(A)},getKeys:function(B){var A=[];_.each($.cookies.filter(B),function(D,C){A.push(C)});return A},remove:function(A){$.cookies.del(A)}},localStorage:{name:"localStorage",set:function(A,B){window.localStorage.setItem(A,B)},get:function(A){return window.localStorage.getItem(A)},getKeys:function(B){var A=[];for(i=0;i<window.localStorage.length;i++){key=window.localStorage.key(i);if(B){if(key.indexOf(B)>=0){A.push(key)}}else{A.push(key)}}return A},remove:function(A){return window.localStorage.removeItem(A)}},AppSiteMenu:function(){this.processAreas=[];this.load=function(E,B,J){E.html("");if(E.attr("type")=="icon"){if(B>0){E.append('<div id="backOneLevel" class="icon"><img src="assets/images/home.png">Back</div>');E.find("#backOneLevel").click(function(){var K=new expanz.Storage.AppSiteMenu();K.processAreas=J;K.load(E.closest("[bind=menu]"),B-1)})}var H=this;_.each(this.processAreas,function(K){K.load(E,0,true,H.processAreas)})}else{var C=window.location.pathname;var F=C.substring(C.lastIndexOf("/")+1);E.append('<ul id="menuUL" class="menu"></ul>');var I=E.attr("homeLabel")||"Home";var G=E.attr("logoutLabel")||"Logout";var A=E.attr("backLabel")||"Back";if(window.config._backButton===true){E.find("#menuUL").before('<a href="javascript:void(0);" onclick="history.go(-1);return true;" class="backbutton">'+A+"</a>")}if(window.config._homepage){var D="";if(window.config._homepage.endsWith(F)){D="selected selectedNew "}E.find("#menuUL").append('<li class="'+D+' processarea menuitem" id="home"><a href="'+window.config._homepage+'" class="home menuTitle">'+I+"</a></li>")}_.each(this.processAreas,function(K){E.find("#menuUL").append('<li class="processarea menuitem" id="'+K.id+'"><a class="menuTitle" href="#">'+K.title+"</a></li>");K.load(E.find("#"+K.id+".processarea.menuitem"),0,false)});E.append('<ul class="right logoutContainer"><li class="processarea" id="logout"><a class="logout menuTitle">'+G+"</a></li></ul>");E.append('<div style="clear:both"></div>');$(E.find("#logout")[0]).click(function(K){expanz.Logout()})}}},ProcessAreaMenu:function(B,A){this.id=B;this.title=A;this.activities=[];this.pa=[];this.load=function(E,C,K,J){var D=window.location.pathname;var I=D.substring(D.lastIndexOf("/")+1);if(K===true){_.each(this.activities,function(L){L.load(E,true)});if(this.pa&&this.pa.length>0){var H=0;var G=new Date().getTime();_.each(this.pa,function(M){var L="subprocess"+G+"_"+H++;E.append('<div id="'+L+'" class="icon"><img src="'+M.img+'"/><br/> '+M.title+"</div>");E.find("#"+L).click(function(){var N=new expanz.Storage.AppSiteMenu();N.processAreas=[M];N.load(E.closest("[bind=menu]"),C+1,J)})})}}else{var F=this.id+"_"+C;if(this.activities.length>0){if(this.activities.length==1){var D=this.activities[0].url;E.find("[class='menuTitle']").attr("href",D);E.find("[class='menuTitle']").bind("touchend",function(L){window.location.href=D});if(D.endsWith(I)){E.addClass("selected selectedNew")}}else{E.append('<ul style="display:none" id="'+F+'"></ul>');E.click(function(){});_.each(this.activities,function(L){L.load(E.find("#"+F),false)})}}if(this.pa&&this.pa.length>0){if(E.find("#"+F).length===0){E.append('<ul style="display:none" id="'+F+'"></ul>')}var H=0;_.each(this.pa,function(M){var L=F+"_li_"+H++;if(M.id===undefined){M.id=L}E.find("#"+F).append('<li class="processarea menuitem" id="'+L+'"><a class="menuTitle" href="#">'+M.title+"</a></li>");M.load(E.find("#"+L+".processarea.menuitem"),C+1)})}}}},ActivityMenu:function(C,D,E,B,A){this.name=C;this.style=D;this.title=E;this.url=B;this.img=A;this.load=function(G,F){if(F===true){G.append('<li><div class="icon navContainer"><a class="nav-'+this.name.replace(/\./g,"-")+"-"+this.style.replace(/\./g,"-")+' navItem" href="'+this.url+'"></a><a class="navText" href="'+this.url+'">'+this.title+"</a></div></li>")}else{G.append('<li class="activity"><a href=\''+this.url+"'>"+this.title+"</a></li>")}}}}});$(function(){window.expanz=window.expanz||{};window.expanz.Model=window.expanz.Model||{};window.expanz.Model.Data={};window.expanz.Model.Data.DataControl=expanz.Collection.extend({initialize:function(A){expanz.Collection.prototype.initialize.call(this,A)},update:function(A){expanz.Net.DeltaRequest(this.getAttr("fieldId"),A.value,this.getAttr("parent"));return },updateItemSelected:function(A,C){if(this.getAttr("parent").isAnonymous()){if(this.getAttr("renderingType")=="tree"){var E=[{id:this.getAttr("fieldId"),value:A}];expanz.Net.MethodRequest(this.getAttr("selectionChangeAnonymousMethod"),[{name:"contextObject",value:this.getAttr("selectionChangeAnonymousContextObject")}],null,this.getAttr("parent"),E,C)}else{var D=this.getAttr("lastValues");if(!D){D=""}if(A<0){var B=new RegExp("("+(-A)+";)|(;?"+(-A)+"$)","g");D=D.replace(B,"")}else{if(D.length>0){D+=";"}D+=A}this.setAttr({lastValues:D})}}else{if(this.getAttr("id")=="documents"){expanz.Net.CreateMenuActionRequest(this.getAttr("parent"),A,"File",null,"1",C)}else{expanz.Net.DeltaRequest(this.getAttr("fieldId"),A,this.getAttr("parent"),C)}}}});window.expanz.Model.Data.Cell=expanz.Model.Bindable.extend({initialize:function(B,A){expanz.Model.Bindable.prototype.initialize.call(this,B,A);this.set({selected:false})}});window.expanz.Model.Data.Row=expanz.Collection.extend({model:expanz.Model.Data.Cell,initialize:function(B,A){expanz.Collection.prototype.initialize.call(this,B,A);this.setAttr({selected:false});this.setAttr(B)},getAllCells:function(){var A=this.reject(function(B){return B.get("value")===undefined},this);return A},getCellsMapByField:function(){var B=this.reject(function(D){return D.get("value")===undefined},this);var C={};var A={};_.each(B,function(D){var E=D.get("field")||D.get("label");C[E]=D.get("value");A[E]=D.get("sortValue")||D.get("value")});C.rowId=this.getAttr("id");C.rowType=this.getAttr("type");return{data:C,sortedValues:A}}});window.expanz.Model.Data.Grid=expanz.Collection.extend({model:expanz.Model.Data.Row,initialize:function(A){expanz.Collection.prototype.initialize.call(this,A);this.setAttr({lockedColumns:false});this.add([{id:"_header"},{id:"_actions"}])},clear:function(){var A=this;_.each(this.getAllRows(),function(B){A.remove(B)});this.removeColumns()},removeColumns:function(){var A=this;_.each(this.getAllColumns(),function(B){A.get("_header").remove(B)})},getColumn:function(A){return this.get("_header").get(A)},getAllColumns:function(){return this.get("_header").reject(function(A){return A.get("id")==="_header"},this)},getActions:function(){return this.get("_actions").reject(function(A){return A.get("id")==="_actions"},this)},getAction:function(A){return this.get("_actions").reject(function(B){return B.get("id")==="_actions"||B.get("actionName")!=A},this)},addAction:function(D,E,F,A,B,C){this.setAttr({hasActions:true});this.get("_actions").add({id:E,type:D,label:F,width:A,actionName:B,actionParams:C})},addColumn:function(C,B,E,D,A){this.get("_header").add({id:C,field:B,label:E,datatype:D,width:A})},getAllRows:function(){return this.reject(function(A){return(A.getAttr("id")==="_header")||(A.getAttr("id")==="_actions")||(this.getAttr("id")===A.getAttr("id"))||(this.getAttr("activityId")===A.getAttr("id"))},this)},sortRows:function(A,B){this.comparator=function(D){var C=D.getCellsMapByField().sortedValues[A]||"";return C.toLowerCase()};this.sort();if(!B){this.models.reverse()}},addRow:function(B,A){this.add({id:B,type:A,gridId:this.getAttr("id")})},addCell:function(E,A,B,D,C){this.get(E).add({id:A,value:B,field:D,sortValue:C})},updateRowSelected:function(A,B){window.expanz.logToConsole("GridModel:updateRowSelected id:"+A+" ,type:"+B)},updateRowDoubleClicked:function(A,B){window.expanz.logToConsole("GridModel:updateRowDoubleClicked id:"+A+" ,type:"+B)},actionSelected:function(A,B,C){window.expanz.logToConsole("GridModel:actionSelected id:"+A+" ,methodName:"+B+" ,methodParams:"+JSON.stringify(C))},menuActionSelected:function(A,B,C){window.expanz.logToConsole("GridModel:menuActionSelected id:"+A+" ,menuActionName:"+B+" , menuActionParams:"+JSON.stringify(C))},refresh:function(){expanz.Net.DataRefreshRequest(this.getAttr("id"),this.getAttr("parent"))}})});$(function(){window.expanz=window.expanz||{};window.expanz.Views={};window.expanz.Views.FieldView=Backbone.View.extend({initialize:function(){this.model.bind("change:label",this.modelUpdate("label"),this);this.model.bind("change:value",this.modelUpdate("value"),this);this.model.bind("change:items",this.modelUpdate("value"),this);this.model.bind("change:errorMessage",this.displayError(),this);this.model.bind("change:loading",this.loading,this)},modelUpdate:function(attr){var view=this;return function(){var elem=this.el.find("[attribute="+attr+"]");updateViewElement(view,elem,this.model.attributes,attr);this.el.trigger("update:field")}},displayError:function(){return function(){var errorId="error"+this.model.get("id").replace(/\./g,"_");if(this.el.attr("showError")!=="false"){if(this.model.get("errorMessage")!==undefined){var errorEl=this.el.find("#"+errorId);if(errorEl.length<1){this.el.append('<p class="errorMessage" onclick="javascript:$(this).hide();" style="display:inline" id="'+errorId+'"></p>');errorEl=this.el.find("#"+errorId)}errorEl.html(this.model.get("errorMessage"));errorEl.show();errorEl.css("display","inline");this.el.addClass("errorField")}else{var errorEl=this.el.find("#"+errorId);if(errorEl){errorEl.hide()}this.el.removeClass("errorField")}}}},events:{"change [attribute=value]":"viewUpdate"},getValue:function(){var elem=this.el.find("[attribute=value]");var value=null;if($(elem).is(":checkbox")){var checkedValue=$(elem).attr("checkedValue")!==undefined?$(elem).attr("checkedValue"):1;var uncheckedValue=$(elem).attr("uncheckedValue")!==undefined?$(elem).attr("uncheckedValue"):0;value=$(elem).prop("checked")?checkedValue:uncheckedValue}else{value=$(elem).val()}return value},viewUpdate:function(event){if(this.model.get("items")!==undefined&&this.model.get("items").length>0){this.model.update({value:(event.target.checked?1:-1)*(event.target.value)})}else{this.model.update({value:this.getValue()})}this.el.trigger("update:field")},loading:function(){}});window.expanz.Views.DependantFieldView=Backbone.View.extend({initialize:function(){this.model.bind("change:value",this.toggle,this);this.el.hide()},toggle:function(){var elem=this.el.find("[attribute=value]");updateViewElement(this,elem,this.model.get("value"));if(this.model.get("value").length>0){this.el.show("slow")}else{this.el.hide("slow")}}});window.expanz.Views.MethodView=Backbone.View.extend({initialize:function(){this.model.bind("change:loading",this.loading,this)},events:{"click [attribute=submit]":"submit"},submit:function(){this.model.submit();this.el.trigger("submit:"+this.model.get("id"))},loading:function(){if(this.model.get("loading")===true){if(this.el.is(":button")){this.el.attr("disabled","disabled")}else{this.el.find("button").attr("disabled","disabled")}this.el.addClass("methodLoading")}else{if(this.el.is(":button")){this.el.removeAttr("disabled")}else{this.el.find("button").removeAttr("disabled")}this.el.removeClass("methodLoading")}}});window.expanz.Views.ContextMenuView=window.expanz.Views.MethodView.extend({initialize:function(){this.model.bind("change:data",this.modelUpdate,this)},_createMenu:function(xml,parentUL){var that=this;var i=0;xml.children("Menu").each(function(){var ulId=parentUL.id+"_"+i++;parentUL.append("<li>"+$(this).attr("name")+"<ul id='"+ulId+"'><ul></li>");that._createMenu($(this),parentUL.find("#"+ulId))});var j=0;xml.children("MenuItem").each(function(){var liId=parentUL.id+"_li_"+j++;parentUL.append("<li id='"+liId+"' action='"+$(this).attr("action")+"'>"+$(this).attr("text")+"</li>");var liEL=parentUL.find("#"+liId);liEL.click(function(){that.model.menuItemSelected($(this).attr("action"));that.contextMenuEl.hide()})})},modelUpdate:function(){if(this.contextMenuEl===undefined){var contextMenuId=this.model.get("id").replace(/\./g,"_")+"_contextMenu";this.el.append("<div class='contextMenu' id='"+contextMenuId+"' />");this.contextMenuEl=this.el.find("#"+contextMenuId)}this.contextMenuEl.hide();this.contextMenuEl.html("");var data=this.model.get("data");if(data===undefined||data==null){return }var pos=this.el.find("button").position();var top=pos.top+this.el.find("button").outerHeight()+2;this.contextMenuEl.css({position:"absolute",top:top+"px",left:(pos.left+10)+"px"});this.contextMenuEl.append("<ul id='"+this.contextMenuEl.id+"_ul'></ul>");this._createMenu(data,this.contextMenuEl.find("ul"));this.createContextMenu();var that=this;this.mouseInside=true;this.contextMenuEl.hover(function(){that.mouseInside=true},function(){that.mouseInside=false});$("body").bind("mouseup."+that.contextMenuEl.id,function(){if(!that.mouseInside){that.contextMenuEl.hide();$("body").unbind("mouseup."+that.contextMenuEl.id)}})},submit:function(){window.expanz.currentContextMenu=this.model;this.model.submit();this.el.trigger("submit:"+this.model.get("id"))},createContextMenu:function(){this.contextMenuEl.show()}});window.expanz.Views.GridView=Backbone.View.extend({initialize:function(){this.model.bind("update:grid",this.render,this);this.bind("rowClicked",this.rowClicked,this);this.bind("rowDoubleClicked",this.rowDoubleClicked,this);this.bind("actionClicked",this.actionClicked,this);this.bind("menuActionClicked",this.menuActionClicked,this)},rowClicked:function(row){if(row.attr("id")!=this.selectedId){this.selectedId=row.attr("id");this.model.updateRowSelected(this.selectedId,row.attr("type"))}},rowDoubleClicked:function(row){this.model.updateRowDoubleClicked(row.attr("id"),row.attr("type"))},actionClicked:function(id,name,params,actionEl){actionEl.attr("disabled","disabled");actionEl.addClass("actionLoading");this.model.actionSelected(id,name,params)},menuActionClicked:function(id,name,params){this.model.menuActionSelected(id,name,params)},renderPagingBar:function(currentPage,itemsPerPage,hostEl,currentSortField,currentSortAsc){var pagingBar="";var nbItems=this.model.getAllRows().length;if(nbItems>0){var nbPages=Math.ceil(nbItems/itemsPerPage);if(nbPages>1){if($(hostEl).is("table")){hostEl.append("<tr class='paging'><td id='pagingBar' colspan='100%'></td></tr>")}else{hostEl.append("<div id='pagingBar' class='paging'></div>")}var pagingBar=hostEl.find("#pagingBar");for(var i=0;i<nbPages;i++){var inputId=this.model.getAttr("id")+"BtnPage"+i;var disabled="";if(i==currentPage){disabled=" disabled='disabled'"}pagingBar.append("<input id='"+inputId+"' type='button' value='"+(i+1)+"' "+disabled+" />");var that=this;$(pagingBar).find("#"+inputId).click(function(){that.renderWithPaging(this.value-1,itemsPerPage,currentSortField,currentSortAsc)})}}}},renderWithPaging:function(currentPage,itemsPerPage,currentSortField,currentSortAsc){var rows=this.model.getAllRows();var firstItem=parseInt(currentPage*itemsPerPage);var lastItem=Math.min(firstItem+parseInt(itemsPerPage),rows.length);var hasItem=(lastItem>firstItem);var hostEl;var hostId=this.model.getAttr("id")+"_host";var templateName=this.options.templateName||this.model.getAttr("id")+"ItemTemplate";var wrapperElement=this.options.isHTMLTable=="true"?"table":"div";var enableConfiguration=this.options.enableConfiguration?boolValue(this.options.enableConfiguration):false;var noItemText=this.options.noItemText||"";var nbItemsPerPageText=this.options.nbItemsPerPageText||"Items per page";var headerTemplate=$("#"+templateName+"Header");var itemTemplate=$("#"+templateName);if(itemTemplate&&itemTemplate.length>0){hostEl=this.el.find(wrapperElement+"#"+hostId);if(hostEl.length<1){this.el.append("<"+wrapperElement+' id="'+hostId+'"></'+wrapperElement+">");hostEl=this.el.find(wrapperElement+"#"+hostId)}$(hostEl).html("");$(hostEl).parent().find("#"+hostId+"_Configuration").remove();if(!hasItem){$(hostEl).addClass("emptyGrid");$(hostEl).removeClass("nonEmptyGrid");$(hostEl).append('<div id="noItemText" class="emptyListText">'+noItemText+"</div>")}else{$(hostEl).addClass("nonEmptyGrid");$(hostEl).removeClass("emptyGrid");if(enableConfiguration){$(hostEl).parent().prepend('<div id="'+hostId+'_Configuration"></div>');$confEl=$(hostEl).parent().find("#"+hostId+"_Configuration");var itemsPerPageChoices=[10,20,50,100];$confEl.append('<div class="ItemsPerPage" >'+nbItemsPerPageText+'<select id="'+hostId+'_Configuration_ItemsPerPage" name="ItemsPerPage">');var selectEl=$confEl.find("#"+hostId+"_Configuration_ItemsPerPage");for(var i=0;i<itemsPerPageChoices.length;i++){var defString=itemsPerPage==itemsPerPageChoices[i]?' selected="selected" ':"";selectEl.append("<option "+defString+' value="'+itemsPerPageChoices[i]+'">'+itemsPerPageChoices[i]+"</option>")}selectEl.append("</select></div>");var that=this;selectEl.change(function(){that.renderWithPaging(currentPage,$(this).val(),currentSortField,!currentSortAsc)})}if(headerTemplate&&headerTemplate.length>0){var that=this;$(hostEl).append(headerTemplate.html());$(hostEl).find("[sortField]").each(function(){var fieldName=$(this).attr("sortField");var defaultSorted=$(this).attr("defaultSorted");if(currentSortField==null&&defaultSorted!=null){currentSortAsc=defaultSorted.toLowerCase()=="desc"?false:true;currentSortField=fieldName;that.model.sortRows(currentSortField,currentSortAsc);rows=that.model.getAllRows()}$(this).addClass("sortable");if(fieldName==currentSortField){if(currentSortAsc){$(this).addClass("sortedAsc")}else{$(this).addClass("sortedDesc")}}$(this).click(function(){var sortAsc=true;if(fieldName==currentSortField){sortAsc=!currentSortAsc}that.model.sortRows(fieldName,sortAsc);that.renderWithPaging(0,itemsPerPage,fieldName,sortAsc)})})}var gridItems=$(hostEl);if(this.options.isHTMLTable!="true"){$(hostEl).append("<div class='gridItems'></div>");gridItems=$(hostEl).find(".gridItems")}var compiled=_.template(itemTemplate.html());var i;for(i=firstItem;i<lastItem;i++){var row=rows[i];var result=compiled(row.getCellsMapByField());var itemId=this.model.getAttr("id")+"_"+row.getAttr("id");result=$(result).attr("id",itemId).attr("rowId",row.getAttr("id"));if(i===0){result=$(result).addClass("first")}if(i==(lastItem-1)){result=$(result).addClass("last")}if(i%2===1){result=$(result).addClass("alternate");result=$(result).addClass("even")}else{result=$(result).addClass("odd")}$(result).find("[id*='userinput_']").each(function(){$(this).attr("id",row.getAttr("id")+"_"+$(this).attr("id"))});gridItems.append(result);var that=this;gridItems.find("#"+itemId+" [methodName] ").each(function(index,element){var action=that.model.getAction($(element).attr("methodName"));if(action&&action.length>0){$(element).click(function(){var rowId=$(this).closest("[rowId]").attr("rowId");var actionParams=action[0].get("actionParams").clone();that._handleActionClick($(this),rowId,action[0].get("actionName"),actionParams,$(this).closest("[rowId]"))})}});gridItems.find("#"+itemId+"  [autoUpdate] ").change(function(elem){var action=that.model.getAction($(this).attr("autoUpdate"));if(action&&action.length>0){var rowId=$(this).closest("[rowId]").attr("rowId");var actionParams=action[0].get("actionParams").clone();that._handleActionClick($(this),rowId,action[0].get("actionName"),actionParams,$(this).closest("[rowId]"))}else{window.expanz.logToConsole("autUpdate action not defined in formapping: "+$(this).attr("autoUpdate"))}});hostEl.find("#"+itemId+" [menuAction] ").each(function(index,element){var action=that.model.getAction($(element).attr("menuAction"));if(action&&action.length>0){$(element).click(function(){var rowId=$(this).closest("[rowId]").attr("rowId");var actionParams=action[0].get("actionParams").clone();that._handleMenuActionClick(rowId,action[0].get("actionName"),actionParams,$(this).closest("[rowId]"))})}})}}}else{hostEl=this.el.find("table#"+hostId);if(hostEl.length<1){this.el.append('<table class="grid" id="'+hostId+'"></table>');hostEl=this.el.find("table#"+hostId)}$(hostEl).html("<thead><tr></tr></thead><tbody></tbody>");var el=$(hostEl).find("thead tr");_.each(this.model.getAllColumns(),function(cell){var html="<th ";html+=">"+cell.get("label")+"</th>";el.append(html)});if(this.model.getAttr("hasActions")){el.append("<th>actions</th>")}var model=this.model;el=$(hostEl).find("tbody");var i;for(i=firstItem;i<lastItem;i++){var row=rows[i];var alternate=((i-firstItem)%2==1)?'class="gridRowAlternate"':'class="gridRow"';var html='<tr id="'+row.getAttr("id")+'" type="'+row.getAttr("type")+'" '+alternate+">";var values={};_.each(row.getAllCells(),function(cell){html+='<td id="'+cell.get("id")+'" field="'+cell.get("field")+'" class="row'+row.getAttr("id")+" column"+cell.get("id")+'">';if(model.getColumn(cell.get("id"))&&model.getColumn(cell.get("id")).get("datatype")==="BLOB"){html+='<img width="'+model.getColumn(cell.get("id")).get("width")+'" src="'+cell.get("value")+'"/>'}else{if(cell.get("value")){html+="<span>"+cell.get("value")+"</span>";values[cell.get("id")]=cell.get("value")}}html+="</td>"},row);if(this.model.getAttr("hasActions")){html+="<td>";_.each(this.model.getActions(),function(cell){var buttonId=model.getAttr("id")+"_"+row.getAttr("id")+"_"+cell.get("actionName");var actionParams=cell.get("actionParams");var userInputs="";_.each(actionParams,function(actionParams){var name=actionParams.name;var value=actionParams.value;var label=actionParams.label;if(value=="@userInput.textinput"||value=="@userInput.numericinput"){var format=(value=="@userInput.numericinput")?"numeric":"text";var bindValueFromCellId=actionParams.bindValueFromCellId;var inputValue="";if(bindValueFromCellId){inputValue=" value='"+values[bindValueFromCellId]+"' "}userInputs+="<label for='"+row.getAttr("id")+"_userinput_"+name+"'>"+(label||name)+"</label><input class='gridUserInput' type='text' format='"+format+"' "+inputValue+" id='"+row.getAttr("id")+"_userinput_"+name+"'/>"}});html+="<div style='display:inline' name='"+cell.get("actionName")+"' actionParams='"+JSON.stringify(actionParams)+"' bind='"+cell.get("type")+"'> "+userInputs+" <button id='"+buttonId+"' attribute='submit'>"+cell.get("label")+"</button></div>"});html+="</td>"}html+="</tr>";el.append(html)}var onRowClick=function(event){event.data.trigger("rowClicked",$(this))};var onRowDoubleClick=function(event){event.data.trigger("rowDoubleClicked",$(this))};$("table#"+hostId+" tr").click(this,onRowClick);$("table#"+hostId+" tr").dblclick(this,onRowDoubleClick);var that=this;var onActionClick=function(event){var rowId=$(this).closest("tr").attr("id");var parentDiv=$(this).parent();var methodName=parentDiv.attr("name");var actionParams=JSON.parse(parentDiv.attr("actionParams"));that._handleActionClick($(this),rowId,methodName,actionParams,parentDiv)};$("table#"+hostId+" tr [bind=method] > button").click(this,onActionClick);var onMenuActionClick=function(event){var rowId=$(this).closest("tr").attr("id");var parentDiv=$(this).parent();var menuActionName=parentDiv.attr("name");var actionParams=JSON.parse(parentDiv.attr("actionParams"));that._handleMenuActionClick(rowId,menuActionName,actionParams,parentDiv)};$("table#"+hostId+" tr [bind=menuAction] > button").click(this,onMenuActionClick)}this.renderPagingBar(currentPage,itemsPerPage,hostEl,currentSortField,currentSortAsc);$(hostEl).attr("nbItems",rows.length);if(this.model.getAttr("renderingType")=="popupGrid"){var clientMessage=new expanz.Model.ClientMessage({id:hostId+"PopUp",title:"",text:"",parent:this.model.getAttr("parent")});var picklistWindow=new window.expanz.Views.PopupView({id:clientMessage.id,model:clientMessage},$("body"));picklistWindow.el.append(hostEl);picklistWindow.center()}hostEl.trigger("table:rendered");return this},render:function(){var itemsPerPage=this.options.itemsPerPage;if(!itemsPerPage||itemsPerPage<=0){itemsPerPage=1000}this.renderWithPaging(0,itemsPerPage);return this},_handleActionClick:function(actionEl,rowId,methodName,actionParams,divEl){var inputValid=true;_.each(actionParams,function(actionParam){var name=actionParam.name;if(actionParam.value=="@userInput.textinput"||actionParam.value=="@userInput.numericinput"){var valueInput=divEl.find("#"+rowId+"_userinput_"+name);if(valueInput.length>0&&valueInput.val().length>0){actionParam.value=valueInput.val()}else{inputValid=false}}else{if(actionParam.value=="@contextId"){actionParam.value=rowId}}});if(inputValid){this.trigger("actionClicked",rowId,methodName,actionParams,actionEl)}},_handleMenuActionClick:function(rowId,menuAction,actionParams,divEl){_.each(actionParams,function(actionParam){var name=actionParam.name;if(actionParam.value=="@contextId"){actionParam.value=rowId}});this.trigger("menuActionClicked",rowId,menuAction,actionParams)}});window.expanz.Views.LoginView=Backbone.View.extend({initialize:function(){},events:{"click [type*='submit']":"attemptLogin"},attemptLogin:function(){var usernameEl=this.el.find("#username input");var passwordEl=this.el.find("#password input");if(usernameEl.length===0||passwordEl.length===0){expanz.messageController.addErrorMessageByText("username or password field cannot be found on the page");return }if(usernameEl.val().length===0||passwordEl.val().length===0){expanz.messageController.addErrorMessageByKey("loginOrPasswordEmpty");return }else{this.collection.add({id:"username",value:usernameEl.val()});this.collection.add({id:"password",value:passwordEl.val()});this.collection.login()}}});window.expanz.Views.ActivityView=Backbone.View.extend({initialize:function(attrs){Backbone.View.prototype.initialize.call(attrs);if(attrs.key){this.key=attrs.key}this.collection.bind("error",this.updateError,this);this.collection.bind("update:loading",this.loading,this);this.collection.bind("update:deltaLoading",this.deltaLoading,this)},updateError:function(model,error){expanz.messageController.addErrorMessageByText(error)},events:{"update:field":"update"},update:function(){},loading:function(){var loadingId="Loading_"+this.id.replace(/\./g,"_");var loadingEL=$(this.el).find("#"+loadingId);if(loadingEL.length===0){$(this.el).append('<div class="loading" id="'+loadingId+'"><span>Loading content, please wait.. <img src="assets/images/loading.gif" alt="loading.." /></span></div>');loadingEL=$(this.el).find("#"+loadingId)}var isLoading=this.collection.getAttr("loading");if(isLoading){var off=this.el.offset();$(this.el).addClass("activityLoading");loadingEL.css("position","absolute");loadingEL.css("width","100%");loadingEL.css("height","100%");loadingEL.css("margin","0");loadingEL.css("padding","0");loadingEL.css("top","0px");loadingEL.css("left","0px");loadingEL.css("z-index","999");loadingEL.css("overflow","hidden");loadingEL.find("span").center();loadingEL.css("background","url(data:image/gif;base64,R0lGODlhAQABAPAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==) center");loadingEL.show()}else{$(this.el).removeClass("activityLoading");loadingEL.hide()}},deltaLoading:function(){var deltaLoading=this.collection.getAttr("deltaLoading");var initiatorID=deltaLoading.initiator.id;var initiatorType=deltaLoading.initiator.type;var initiator=this.collection.get(initiatorID);if(initiator){initiator.set({loading:deltaLoading.isLoading})}else{if(initiatorType=="method"&&!deltaLoading.isLoading){var actionSelector=".actionLoading[methodName='"+initiatorID+"'], [name='"+initiatorID+"'] .actionLoading, .actionLoading[autoUpdate='"+initiatorID+"']";var dataControlEl=this.el.find(actionSelector).first().closest("[bind='DataControl']");if(dataControlEl&&dataControlEl.length>0){dataControlEl.find(actionSelector).removeAttr("disabled");dataControlEl.find(actionSelector).removeClass("actionLoading")}}}}});window.expanz.Views.DataControlView=Backbone.View.extend({initialize:function(attrs){Backbone.View.prototype.initialize.call(attrs);this.model.bind("update:xml",this.publishData,this)},itemSelected:function(itemId,callbacks){this.model.updateItemSelected(itemId,callbacks)},publishData:function(){this.el.trigger("publishData",[this.model.getAttr("xml"),this])}});window.expanz.Views.CheckboxesView=expanz.Views.DataControlView.extend({publishData:function(){this.el.html();var that=this;_.each(this.model.getAttr("xml").find("Row"),function(row){var rowId=$(row).attr("id");var selected=boolValue($(row).attr("selected"))===true?' checked="checked" ':"";_.each($(row).find("Cell"),function(cell){var text=$(cell).text();var id=that.model.id.replace(/\./g,"_")+"_"+rowId;that.el.append("<div><input "+selected+" id='"+id+"' value='"+rowId+"' name='checkbox' type='checkbox'></input><span>"+text+"</span></div>");$(that.el).find("#"+id).click(function(){var val=$(this).val();if(!$(this).is(":checked")){val=-val}that.model.updateItemSelected(val)})})})}});window.expanz.Views.PopupView=Backbone.View.extend({width:"auto",cssClass:"popupView",divAttributes:"",initialize:function(attrs,containerjQ){Backbone.View.prototype.initialize.call(attrs);this.create(containerjQ);this.renderActions();this.delegateEvents(this.events);if(window.expanz.currentPopup!==undefined){this.parentPopup=window.expanz.currentPopup;while(!$(this.parentPopup.el).is(":visible")){if(this.parentPopup.parentPopup===undefined){this.parentPopup=undefined;break}this.parentPopup=this.parentPopup.parentPopup}}window.expanz.currentPopup=this},events:{"click button":"buttonClicked"},renderActions:function(){},create:function(containerjQ){var popupWindow=containerjQ.find("#"+this.id);if(popupWindow.length>0){popupWindow.remove()}var content="";if(this.model.getAttr("text")!==undefined&&this.model.getAttr("text").length>0){content=this.model.getAttr("text")}containerjQ.append("<div class='"+this.cssClass+"' id='"+this.id+"' "+this.divAttributes+" name='"+this.id+"'>"+content+"</div>");this.el=containerjQ.find("#"+this.id);this.createWindowObject();if(this.model.getAttr("url")!==undefined&&this.model.getAttr("url").length>0){var url=this.model.getAttr("url");var that=this;this.el.load(url,function(){that.center();that.trigger("contentLoaded")})}else{this.center()}},createWindowObject:function(){this.el.dialog({modal:true,width:this.width,title:this.model.getAttr("title")})},buttonClicked:function(){this.closeWindow()},closeWindow:function(){this.trigger("popupClosed");this.close()},close:function(){this.remove()},center:function(){this.el.dialog("option","position","center")}});window.expanz.Views.PicklistWindowView=window.expanz.Views.PopupView.extend({divAttributes:" bind='DataControl' renderingType='grid' ",cssClass:"pickListPopup popupView"});window.expanz.Views.UIMessage=window.expanz.Views.PopupView.extend({width:"500px",cssClass:"uiMessage popupView",renderActions:function(){this.model.each(function(action){if(this.el.find("[attribute=submit]").length===0){this.el.append("<br/>")}var divId=action.id;if(action.id=="close"){divId+=action.get("label").split(" ").join("");this.el.append('<div style="float:left"  bind="method" name="close" id="'+divId+'"><button attribute="submit">'+action.get("label")+"</button></div>")}else{if(action.id!==this.model.id){this.el.append('<div style="float:left" bind="method" name="'+action.id+'" id="'+divId+'"><button attribute="submit">'+action.get("label")+"</button></div>");var methodView=new expanz.Views.MethodView({el:$("div#"+action.id,this.el),id:action.id,model:action})}}if(action.get("response")!==undefined){var button=this.el.find("#"+divId+" button");var that=this;button.click(function(){that.postCloseActions(that.model.getAttr("title"));if(action.get("response").find("closeWindow")){if(that.parentPopup!==undefined){that.parentPopup.close()}else{window.expanz.logToConsole("Cannot find parent popup")}}})}},this)},postCloseActions:function(windowTitle){if(windowTitle=="Order Submitted"||windowTitle=="Order Saved"){window.expanz.Storage.clearActivityHandles();$("body").trigger("CheckoutFinished")}}});window.expanz.Views.ManuallyClosedPopup=window.expanz.Views.UIMessage.extend({width:"auto",buttonClicked:function(){}});window.expanz.Views.redirect=function(destinationURL){window.location.href=destinationURL};window.expanz.Views.requestLogin=function(){window.expanz.Storage.setLastURL(document.URL);expanz.Views.redirect(expanz.getLoginURL())};function updateViewElement(view,elem,allAttrs,attr){var datatype=allAttrs.datatype;if(datatype&&datatype.toLowerCase()==="blob"&&attr&&attr==="value"){var width=allAttrs.width;var imgElem='<img src="'+window.config._URLblobs+allAttrs.value+'"';imgElem+=width?' width="'+width+'"':'width="100%"';imgElem+="/>";$(elem).html(imgElem);return }var value;if($(elem).attr("showTextValue")=="true"){value=allAttrs.text}else{value=allAttrs[attr]}if(view.options.textTransformFunction&&attr==="value"){try{value=eval(view.options.textTransformFunction)(value)}catch(err){window.expanz.logToConsole("Value could not be transformed with function (check function exists) "+view.options.textTransformFunction)}}if(allAttrs.items!==undefined&&allAttrs.items.length>0&&attr==="value"){var disabled=boolValue(elem.attr("editable"))?"":"disabled='disabled'";_.each(allAttrs.items,function(item){var selected=boolValue($(item).attr("selected"))===true?' checked="checked" ':"";var text=$(item).attr("text");var value=$(item).attr("value");$(elem).append("<div><input "+disabled+selected+"' value='"+value+"' name='checkbox' type='checkbox'></input><span>"+text+"</span></div>")})}else{if($(elem).is("input")){if($(elem).is(":checkbox")){$(elem).addClass("checkbox");var checkedValue=$(elem).attr("checkedValue")?$(elem).attr("checkedValue"):1;if(value==checkedValue){$(elem).prop("checked",true)}else{$(elem).prop("checked",false)}}else{$(elem).val(value)}$(elem).trigger("valueUpdated",value);if(allAttrs.disabled===true){$(elem).attr("disabled","disabled");$(elem).addClass("readonlyInput")}else{$(elem).removeAttr("disabled");$(elem).removeClass("readonlyInput")}}else{$(elem).html(value||"&nbsp;")}}return elem}});$(function(){window.App=[];window.expanz=window.expanz||{};window.expanz.logToConsole=function(H){if(typeof (console)!="undefined"&&console.log){console.log(H)}};window.expanz.getLoginURL=function(){var H=window.config._loginpage;if(H===undefined){H=document.location.pathname.substring(0,document.location.pathname.lastIndexOf("/"));if(H==""){H="/"}}return H};window.expanz.getMaintenancePage=function(){return"maintenance.html"};window.expanz.isOnMaintenance=function(){var H=window.config.maintenance;if(H===true){return true}return false};window.expanz.messageController={initialize:function(){if(window.config._useBundle!==false){jQuery.i18n.properties({name:"Messages",path:"assets/bundle/",mode:"map",language:" ",cache:true,callback:function(){}})}},addErrorMessageByText:function(H){this._addMessageByText(H,"error")},addWarningMessageByText:function(H){this._addMessageByText(H,"warning")},addInfoMessageByText:function(H){this._addMessageByText(H,"info")},addSuccessMessageByText:function(H){this._addMessageByText(H,"success")},_addMessageByText:function(J,H){if(window.config._useBundle===true){if(typeof window.expanz.messageController.findKey!="function"){window.expanz.logToConsole("You need to define window.expanz.messageController.findKey in your client implementation");return }var I=window.expanz.messageController.findKey(J);if(I!=null){this._addMessageByKey(I.key,I.data,H,I.popup)}else{if(window.config._showAllMessages===true&&J!=""){this.displayMessage("[Displayed for debugging only]"+J,H)}}}else{this.displayMessage(J,H)}},addErrorMessageByKey:function(H,I){this._addMessageByKey(H,I,"error")},addInfoMessageByKey:function(H,I){this._addMessageByKey(H,I,"info")},addWarningMessageByKey:function(H,I){this._addMessageByKey(H,I,"warning")},addSuccessMessageByKey:function(H,I){this._addMessageByKey(H,I,"success")},_addMessageByKey:function(J,K,I,H){var L=jQuery.i18n.prop(J,K);if(L){if(H===true){this.displayPopupMessage(L,I)}else{this.displayMessage(L,I)}}else{if(window.config._showAllMessages===true){this.displayMessage("[Displayed for debugging only]"+J+K,I)}}},displayMessage:function(I,H){if(H=="error"){this._basicMsgDisplay("[bind=message][type=error]")(I)}else{if(H=="warning"){this._basicMsgDisplay("[bind=message][type=error]")(I)}else{if(H=="info"){this._basicMsgDisplay("[bind=message][type=info]")(I)}else{if(H=="success"){this._basicMsgDisplay("[bind=message][type=success]")(I)}else{window.expanz.logToConsole("type "+H+" unknown for message "+I)}}}}},displayPopupMessage:function(I,H){alert(I)},_basicMsgDisplay:function(H){return function I(O){var N=true;if($(H).attr("fade")&&boolValue($(H).attr("fade"))===false){N=false}if(O instanceof Array){O=O.join("<br/>")}var M=false;if(window.expanz.currentPopup!==undefined&&$(window.expanz.currentPopup.el).is(":visible")){var Q=window.expanz.currentPopup.el.find(H);if(Q){M=true;Q.find("[attribute=value]").html(O);if(!O||O.length<1){$(Q).hide("slow")}else{$(Q).show(1,function(){if(N){$(Q).delay(5000).hide(1)}})}}}if(!M){if($(H).find("[attribute=value]").length>0){if(O&&O.length>0){var J=null;if($(H).find('div:contains("'+O+'")').length>0){J=$(H).find('div:contains("'+O+'")')[0];$(J).remove()}$(H).show();var P="msg_"+new Date().getTime();var K="<div id='"+P+"' class='message_item' style='display:none'>"+O+"</div>";$(H).find("[attribute=value]").append(K);var L=$(H).find("#"+P);if(!isVisibleOnScreen($(H))){$(H).parent().css("top","0px");$(H).parent().css("position","fixed");$(H).parent().css("z-index","10000")}else{$(H).parent().css("top","");$(H).parent().css("position","")}L.show();L.slideDown(100,function(){if(N){L.delay(5000).slideUp(800,function(){L.remove();if($(H).find("div").length==0){$(H).hide()}})}})}else{if(!N){$(H).hide()}}}}}}};window.expanz.CreateActivity=function(K,I,H){K||(K=$("body"));var J=F(K,I,H);_.each(J,function(L){window.App.push(L)});return J};window.expanz.CreateLogin=function(J,I){J||(J=$("body"));var H=B(J,I);return };window.expanz.Logout=function(){function H(){expanz.Storage.clearSession();expanz.Views.redirect(expanz.getLoginURL())}expanz.Net.ReleaseSessionRequest({success:H,error:H})};window.expanz.showManuallyClosedPopup=function(I,L,M,K){I=unescape(I);var J=new expanz.Model.ClientMessage({id:M,title:L,text:I,parent:K});var H=new window.expanz.Views.ManuallyClosedPopup({id:J.id,model:J},$("body"));return H};window.expanz.showLoginPopup=function(J,H){var I="";if(H===true){I='<div class="loginMsg">Sorry, your session timed out, please log in again.</div>'}else{I='<div class="loginMsg">Please log in.</div>'}I+='<form bind="login" type="popup" name="login" action="javascript:">';I+='<div name="username" id="username">';I+='<input class="loginInput"  attribute="value" type="text" placeholder="Username"/>';I+="</div>";I+='<div name="password" id="password">';I+='<input class="loginInput" attribute="value" type="password" placeholder="Password"/>';I+="</div>";I+='<div name="login" id="login">';I+='<button type="submit" attribute="submit">login</button>';I+="</div>";I+='<div bind="message" type="error" class="error">';I+='<span attribute="value"></span>';I+="</div>";I+="</form>";loginPopup=window.expanz.showManuallyClosedPopup(I,"Login","ExpanzLoginPopup",J);$("#username input").focus();B(loginPopup.el.find("[bind=login]"));return };window.expanz.createActivityWindow=function(J,M,I,H,K){var L=function(O){if(O.url===null){window.expanz.logToConsole("Url of activity not found")}if(O.onRequest=="popup"){window.expanz.Storage.clearActivityHandle(M,I);var P=new expanz.Model.ClientMessage({id:"ActivityRequest",url:O.url+"?random="+new Date().getTime(),parent:J,title:unescape(K||O.title||"")});var N=new window.expanz.Views.ManuallyClosedPopup({id:P.id,model:P},$("body"));N.bind("contentLoaded",function(){expanz.CreateActivity($(N.el).find("[bind=activity]"),null,H)});N.bind("popupClosed",function(){window.expanz.Storage.clearActivityHandle(M,I)})}else{window.location=O.url+"?random="+new Date().getTime()+"&"+M+I+"initialKey="+H}};window.expanz.helper.findActivityMetadata(M,I,L)};window.expanz.defaultCallbacks={success:function(H){expanz.messageController.addSucessMessageByText(H)},error:function(H){expanz.messageController.addErrorMessageByText(H)},info:function(H){expanz.messageController.addInfoMessageByText(H)}};window.expanz.helper.findActivity=function(H){if(window&&window.App){for(var I=0;I<window.App.length;I++){if(window.App[I].id==H){return window.App[I]}}}return null};window.expanz.helper.findActivityMetadata=function(K,H,J){var I=$.get("./formmapping.xml",function(L){$(L).find("activity").each(function(){var N=$(this).attr("name");var M=$(this).attr("form");var Q=$(this).attr("onRequest");var R=$(this).attr("title");var P=$(this).attr("style");if(N==K&&P==H){var O={};O.url=M;O.onRequest=Q;O.title=R;J(O);return }})})};function F(L,J,I){var K=[];var H=[];if($(L).attr("bind")&&($(L).attr("bind").toLowerCase()==="activity")){H.push(L)}else{_.each($(L).find("[bind=activity]"),function(M){H.push(M)})}_.each(H,function(O){var N=expanz.Factory.Activity(L);var M=I||getQueryParameterByName(N.collection.getAttr("name")+(N.collection.getAttr("style")||"")+"initialKey");N.collection.setAttr({key:M});N.collection.load(J);K.push(N)});return K}function B(J,I){var H;if($(J).attr("bind")&&($(J).attr("bind").toLowerCase()==="login")){H=expanz.Factory.Login(J)}return H}function A(I,K){var J=new expanz.Storage.AppSiteMenu();var H=G(expanz.Storage.getProcessAreaList(),K);if(H.length>0){J.processAreas=H}J.load(I)}function G(H,K,J){var I=[];_.each(H,function(M){if(K||M.activities.length>0||M.pa.length>0){var L=new expanz.Storage.ProcessAreaMenu(M.id,M.title);if(J){L.parent=J}_.each(M.activities,function(N){if(K||(N.url!==""&&N.url.length>1)){L.activities.push(new expanz.Storage.ActivityMenu(N.name,N.style,N.title,N.url,N.img))}});if(M.pa.length>0){L.pa=G(M.pa,K,L)}if(K||L.activities.length>0){I.push(L)}}});return I}if(document.location.pathname.indexOf(window.expanz.getMaintenancePage())===-1){if(window.expanz.isOnMaintenance()){expanz.Views.redirect(window.expanz.getMaintenancePage())}var E=(new Date()).getTime();var D=window.expanz.Storage.getLastPingSuccess();if(D===undefined||(E-D)>(1*60*1000)){expanz.Net.WebServerPing(3)}}if(!window.console){window.console={log:function(H){}}}window.expanz.logToConsole("Loading menu, setting callbacks and creating activities");if($.browser.msie&&$.browser.version=="6.0"){loadjscssfile("//ajax.googleapis.com/ajax/libs/chrome-frame/1.0.3/CFInstall.min.js","js");window.attachEvent("onload",function(){CFInstall.check({mode:"overlay"})})}window.expanz.Dashboards=new window.expanz.Model.Dashboards();window.expanz.messageController.initialize();_.each($("[bind=menu]"),function(H){A($(H),false)});expanz.CreateLogin($("[bind=login]"));_.each($('[bind=activity][autoLoad!="false"]'),function(H){expanz.CreateActivity($(H))});_.each($("body").find("[requiresRole]"),function(K){var J=$(K).attr("requiresRole");if(J!=null&&J!=""){var H=false;J=J.split(" ");for(var I=0;I<J.length;I++){if(expanz.Storage.hasRole(J[I])){H=true;break}}if(H!==true){$(K).hide()}}});var C=$("body").attr("expanzPlugin");if(C){switch(C){case"kendo":if(typeof useKendo=="function"){useKendo()}else{window.expanz.logToConsole("useKendo method is undefined")}break;case"kendoMobile":if(typeof useKendoMobile=="function"){useKendoMobile()}else{window.expanz.logToConsole("useKendoMobile method is undefined")}break;default:break}}});